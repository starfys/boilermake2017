!function(){this.JST||(this.JST={}),this.JST["home/templates/software/portfolios/starring_error"]=function(obj){var __p=[];with(obj||{}){__p.push('<a class="close-reveal-modal close-reveal-modal-x">&#215;</a>\n\n<h2>Oopsies</h2>\n\n');for(i in errorMessages)__p.push("\n<p>\n  ",errorMessages[i],"\n</p>\n");__p.push("\n\n\n"),errorCount>=3&&__p.push('\n  <p>\n    It looks like you\'re getting a lot of errors.\n    Sometimes a good old refresh can help get things\n    working again. <a href="">Refresh now.</a>\n  </p>\n'),__p.push('\n\n<a class="button radius small close-reveal-modal" href="#">Dismiss</a>\n')}return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["home/templates/software/search/filter"]=function(obj){var __p=[];with(obj||{})__p.push('<a href="#">\n  <span class="right label small-label ',classes,'">\n    ',query,"\n  </span>\n  ",description,"\n</a>\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["home/templates/software/search/filter_help_item"]=function(obj){var __p=[];with(obj||{})__p.push('<li><a href="#" class="help">\n  <i class="ss-icon ss-fill"></i>\n  View advanced search syntax</a>\n</li>\n');return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["home/templates/software/search/results_title"]=function(obj){var __p=[];with(obj||{})__p.push("<li class='result-title'><h4>",title,"</h4></li>\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["home/templates/software/search/search_icon"]=function(obj){var __p=[];with(obj||{})__p.push(""),isLoading?__p.push('\n  <img id="spinner" src="/assets/large-ajax-loader-8b0ad87d0affda73c3eea5cec079ed62.gif" alt="Large ajax loader" />\n'):isNavigating?__p.push("\n  <div id=\"nav-icons\">\n    <i class='ss-icon ss-directup'></i>\n    <i class='ss-icon ss-dropdown'></i>\n  </div>\n"):__p.push("\n  <i class='ss-icon ss-search' id=\"search-icon\"></i>\n"),__p.push("\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["home/templates/software/search/software"]=function(obj){var __p=[];with(obj||{})__p.push('<a href="',url,'">\n  <div class="row">\n    <div class="large-7 columns">\n      <div class="software-photo" style="'),photo&&__p.push("background-image: url(",photo,")"),__p.push('">\n        '),winner&&__p.push('\n          <img alt="Winner" class="winner" src="/assets/shared/software/winner-ribbon-d6a3513950ca29607c8d8682f419dd99.png" />\n        '),__p.push("\n        "),has_video&&__p.push('\n          <div class="player"></div>\n        '),__p.push('\n      </div>\n\n      <div class="result-content">\n        <h5>\n          <span>',name,'</span>\n        </h5>\n        <p class="tagline">\n          ',tagline,'\n        </p>\n        <div class="paragraph-end"></div>\n      </div>\n    </div>\n    <div class="large-3 small-7 columns">\n      <div class="members">\n        <span class="faded">by ',members,'</span>\n      </div>\n    </div>\n    <div class="large-2 small-5 columns counts">\n      '),like_count>0&&__p.push('\n        <span class="like-count count">\n          <i class="ss-icon ss-heart"></i> ',like_count,"\n        </span>\n      "),__p.push("\n\n      "),comment_count>0&&__p.push('\n        <span class="comment-count count">\n          <i class="ss-icon ss-chat"></i> ',comment_count,"\n        </span>\n      "),__p.push("\n    </div>\n  </div>\n</a>\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["home/templates/software/search/software_total_results"]=function(obj){var __p=[];with(obj||{})__p.push('<a href="#">\n  <div class="row">\n    <div class="large-12 columns">\n      <i class="left ss-icon ss-rows"></i>\n      <h5 class="result-content">\n        <span>',remainingCount," more results</span>\n        <small>&middot; View all</small>\n      </h5>\n    </div>\n  </div>\n</a>\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["home/templates/software/search/suggestion"]=function(obj){var __p=[];with(obj||{})__p.push('<a href="#">\n  <div class="row">\n    <div class="large-12 columns">\n      <i class="left ss-icon ss-',icon,'"></i>\n      <h5 class="result-content">\n        <span>',description,'</span>\n        <span class="faded">&middot; ',query,"</span>\n      </h5>\n    </div>\n  </div>\n</a>\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["home/templates/software/search/tag"]=function(obj){var __p=[];with(obj||{})__p.push('\n<a href="http://devpost.com/software/built-with/',slug,'">\n  <div class="row">\n    <div class="large-12 columns">\n      <i class="left">#</i>\n      <h5 class="result-content">\n        <span>',title,"</span>\n        <span class='faded slim'>&middot; #",slug," gallery</span>\n      </h5>\n    </div>\n  </div>\n</a>\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["home/templates/software_members/invite_form"]=function(obj){var __p=[];with(obj||{})__p.push('<label for="email">The team</label>\n\n<span class="',error_class,' inline-input align-baseline-small">\n  '),errors.email&&__p.push('\n    <span class="errors">',errors.email,"</span>\n  "),__p.push('\n\n  <span class="attachable">\n    <input id="email" name="email" placeholder="Add team members via email – someone@example.com"\n    type="email" value="',(""+email).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),'" class="attachable-base">\n\n    <button type="button" class="button flat attach-on-right">\n      Send invite\n    </button>\n  </span>\n</span>\n');return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["home/templates/software_members/software_member"]=function(obj){var __p=[];with(obj||{})__p.push('<div class="row collapse clearfix">\n  <div class="large-6 columns">\n    ',avatar,"\n    <strong>\n      "),user_joined?__p.push("\n        ",user_profile_path,"\n      "):__p.push("\n        ",invitation_email,"\n      "),__p.push("\n    </strong>\n\n    "),is_current_user&&__p.push('\n      <span class="status added you">(that\'s you!)</span>\n    '),__p.push('\n  </div>\n\n  <div class="large-4 small-8 columns">\n    '),user_joined||__p.push('\n\n      <span class="status invited">\n        invite sent, unconfirmed\n      </span>\n\n    '),__p.push('\n  </div>\n\n  <div class="large-2 small-4 columns text-center status">\n    '),destroyable&&__p.push('\n      <a href="#" rel="nofollow" data-role="delete">\n        Remove\n      </a>\n    '),__p.push("\n  </div>\n</div>\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["home/templates/user_stylesheets/attached_photo"]=function(obj){var __p=[];with(obj||{})__p.push('<strong class="filename">',displayName,'</strong>\n<span class="filesize">(',size,")</span>\n"),isUploading?__p.push('\n  <a class="ss-icon ss-delete abort"></a>\n  <img src="/assets/challenges/indicator-ajax-spinner.gif" class="loading" />\n\n'):wasCanceled?__p.push('\n  <strong> &mdash; <span>Canceled upload</span></strong>\n  <a class="remove">Remove</span>\n\n'):uploadError?__p.push("\n  <span>",uploadError,'</span>\n  <a class="remove">Remove</span>\n\n'):isUploaded?__p.push('\n  <span class="ss-icon ss-check"></span>\n  <a class="remove">Remove</span>\n\n'):__p.push('\n  <a class="remove">Remove</span>\n'),__p.push("\n");return __p.join("")}}.call(this),window.CP=window.CP||{},window.CP.Home=window.CP.Home||{},function(){var t;t=function(){function t(t){this.messageSelector=t,this.$message=$(this.messageSelector)}return t.prototype.setup=function(){return this.addCloseButton()},t.prototype.addCloseButton=function(){return this.$message.append(this.$closeLink()).css("paddingRight","3em")},t.prototype.$closeLink=function(){return $("<a>").attr({href:"#",title:"Close"}).addClass("close").html("&times;")},t.setup=function(e){return new t(e).setup()},t}(),this.CP.Home.DismissableMessage=t}.call(this),function(){var t;t=function(){function t(t){this.$input=$(t),this.wrapInput()}return t.prototype.valueIsEmail=!1,t.prototype.$wrapper=null,t.prototype.suggestionsUrl=function(){return null!=this.url?this.url:this.url=this.$input.data("source")},t.prototype.makeAutocompleteable=function(){return this.$input.autocomplete({minLength:3,source:$.proxy(this.loadSuggestions,this),select:$.proxy(this.markAsValid,this),open:$.proxy(this.fixZIndex,this)}),this.bindEvents(),this.patchRendering()},t.prototype.loadSuggestions=function(t,e){var n,i;return i=t.term,this.valueIsEmail?void 0:(this.showLoading(),n=$.ajax({url:this.suggestionsUrl(),dataType:"json",data:{q:i}}),n.done($.proxy(function(t){return this.displaySuggestions(t,e)},this)),n.always($.proxy(this.hideLoading,this)))},t.prototype.displaySuggestions=function(t,e){var n,i,r,s;for(s=[],n=0,i=t.length;i>n;n++)r=t[n],s.push({label:r.label,photo:r.photo});return 0===s.length&&this.markAsInvalid(),e(s)},t.prototype.showLoading=function(){return this.$wrapper.addClass("autocomplete-loader")},t.prototype.hideLoading=function(){return this.$wrapper.removeClass("autocomplete-loader")},t.prototype.displayEmail=function(){return this.$wrapper.addClass("autocomplete-email")},t.prototype.hideEmail=function(){return this.$wrapper.removeClass("autocomplete-email")},t.prototype.markAsValid=function(){return this.$input.addClass("autocomplete-valid")},t.prototype.markAsInvalid=function(){return this.$input.removeClass("autocomplete-valid")},t.prototype.bindEvents=function(){return this.$input.on("keyup",$.proxy(this.onKeyUp,this))},t.prototype.onKeyUp=function(){var t;return t=this.$input.val(),/@/.test(t)?(this.valueIsEmail||this.displayEmail(),this.valueIsEmail=!0):(this.valueIsEmail&&this.hideEmail(),this.valueIsEmail=!1),t.length<3?this.markAsInvalid():void 0},t.prototype.wrapInput=function(){var t;return t=$("<span/>").addClass("autocomplete-wrapper"),this.$input.wrap(t),this.$wrapper=this.$input.parent()},t.prototype.fixZIndex=function(){return this.$input.autocomplete("widget").css("z-index",100)},t.prototype.patchRendering=function(){return this.$input.data("autocomplete")._renderItem=function(t,e){var n,i,r;return i=new RegExp("^"+this.term,"i"),r=e.label.replace(i,"<span class='term'>"+this.term+"</span>"),n=$("<li/>").data("item.autocomplete",e),n.append("<a class='item-link'><img src='"+e.photo+"'><span class='label'>"+r+"</span></a>"),n.appendTo(t),n}},t}(),$.fn.cp_autocomplete=function(){return this.each(function(){var e;return e=new t(this),e.makeAutocompleteable()}),this}}.call(this),function(){var t;t=function(){function t(){$("[data-nested-link]").on("mouseup",function(t){return function(e){var n;return e.preventDefault(),e.stopImmediatePropagation(),n=$(e.currentTarget).data("url"),t.openInNewWindow(e)?window.open(n):window.location=n}}(this)).on("click",function(){return function(t){return t.preventDefault(),t.stopImmediatePropagation()}}(this))}return t.prototype.openInNewWindow=function(t){return 2===t.which||t.metaKey},t.setup=function(){return new t},t}(),this.CP.NestedLink=t}.call(this),function(){var t;t=function(){function t(t,e){this.targetSelectors=null!=e?e:null,this.$colorPicker=$(t),this.$colors=this.$colorPicker.find(".color"),this.$inputField=this.$colorPicker.find("input"),this.setupColors(),this.setupColorPicking(),this.setupInputField(),this.highlightSelectedColor(),this.updateTargets()}return t.prototype.setupColors=function(){return this.$colors.each(function(t,e){var n,i;return i=e.getAttribute("data-color"),n=$(e).find("a"),n.css("background-color",i)})},t.prototype.setupColorPicking=function(){return this.$colorPicker.on("click",".color a",function(t){return function(e){var n,i;return e.preventDefault(),n=$(e.currentTarget).closest(".color"),i=n.attr("data-color"),t.$inputField.val(i).change(),t.highlightSelectedColor(i,n),t.updateTargets(i)}}(this))},t.prototype.setupInputField=function(){return this.$inputField.keyup(function(t){return function(){var e;return e=t.value,t.highlightSelectedColor(e),t.updateTargets(e)}}(this))},t.prototype.highlightSelectedColor=function(t,e){return null==t&&(t=this.$inputField.val()),null==e&&(e=this.$colors.filter("[data-color='"+t+"']")),this.$colors.find(".selected").removeClass("selected"),e.find("a").addClass("selected")},t.prototype.updateTargets=function(t){return null==t&&(t=this.$inputField.val()),this.isHexColor(t)?$(this.targetSelectors).css("background-color",t):void 0},t.prototype.isHexColor=function(t){return/^#([A-F0-9]{6}|[A-F0-9]{3})$/i.test(t)},t.setup=function(e,n){return new t(e,n)},t}(),this.CP.SimpleColorPicker=t}.call(this),function(){var t;null==(t=this.CP.Home).Entities&&(t.Entities={})}.call(this),function(){var t;t=this.CP.Home.Entities,t.SoftwareMember=Backbone.Model.extend({defaults:{email:"",errors:{}},parse:function(t){return t.software_member?t.software_member:t},valid:function(){return _.isEmpty(this.get("errors"))}}),t.SoftwareMembers=Backbone.Collection.extend({initialize:function(t,e){return null==e&&(e={}),this.slug=e.slug},model:t.SoftwareMember,url:function(){return"/software/"+this.slug+"/members"},parse:function(t){return t.software_members}}),Backbone.Radio.channel("entities").reply("softwareMembers",function(e){var n,i;return i=new t.SoftwareMembers(null,{slug:e}),n=$.Deferred(),i.fetch({reset:!0,success:function(){return n.resolve(i)},error:function(){return n.resolve(void 0)}}),n.promise()}),Backbone.Radio.channel("entities").reply("new:softwareMember",function(){return new t.SoftwareMember})}.call(this),function(){var t,e;null==(e=this.CP.Home).SoftwareMembersApp&&(e.SoftwareMembersApp={}),t=this.CP.Home.SoftwareMembersApp,t.channel=Backbone.Radio.channel("softwareMembersApp"),t.start=function(e){return t.controller=new t.SoftwareMembersController(e),t.channel.trigger("index")}}.call(this),function(){var t;t=this.CP.Home.SoftwareMembersApp,t.SoftwareMemberView=Backbone.View.extend({template:JST["home/templates/software_members/software_member"],tagName:"li",events:{"click [data-role=delete]":"destroy"},attributes:function(){return{id:"software_member_"+this.model.get("id")}},render:function(){return this.$el.html(this.template(this.model.toJSON())),this.$el},destroy:function(e){return e.preventDefault(),this.remove(),t.channel.trigger("member:remove",this.model)}}),t.SoftwareMembersView=Backbone.View.extend({el:'[data-role="software-members"]',initialize:function(t){return null==t&&(t={}),this.listenTo(this.collection,"sync",this.sync),this.listenTo(this.collection,"remove",this.removeMember)},render:function(){return this.collection.each(_.bind(this.renderMember,this))},sync:function(t){return t instanceof Backbone.Model?this.syncMember(t):void 0},syncMember:function(e){return t.channel.trigger("member:synced",e),_.isEmpty(e.get("errors"))?this.renderMember(e):void 0},renderMember:function(e){var n;return n=new t.SoftwareMemberView({model:e,collection:this}),this.listenTo(n,"all",function(t){return function(e){return t.trigger("childview:"+e)}}(this)),this.$el.append(n.render())}}),t.InviteForm=Backbone.View.extend({el:'[data-role="invite-form"]',template:JST["home/templates/software_members/invite_form"],ui:{$input:"input[type=email]"},events:{"click button":"onSubmit","keydown input[type=email]":"onKeydown"},render:function(){return this.$el.html(this.template(this.serializeData())),this.setupUI()},add:function(){return t.channel.trigger("member:add",this.$input.val())},onSubmit:function(t){return t.preventDefault(),this.add()},onKeydown:function(t){return 13!==t.which?!0:(t.preventDefault(),this.add())},serializeData:function(){var t,e;return e={error_class:("function"==typeof(t=this.model).valid?t.valid():void 0)?"":"fieldWithErrors"},_.extend(e,this.model.toJSON())},setupUI:function(){var t,e,n,i;t=this.ui,e=[];for(n in t)i=t[n],e.push(this[n]=this.$el.find(i));return e}})}.call(this),function(){var t,e;t=this.CP.Home.SoftwareMembersApp,e=Backbone.Radio.channel("entities"),t.SoftwareMembersController=function(){function n(t){this.software=t}return n.prototype.index=function(){var n;return n=e.request("softwareMembers",this.software),n.done(function(e){return function(n){return e.softwareMembersView=new t.SoftwareMembersView({collection:n}),e.softwareMembersView.render(),e.softwareMembersView.on({"childview:member:remove":function(e){return t.channel.trigger("member:remove",e)}})}}(this)),this.inviteFormView=new t.InviteForm({model:e.request("new:softwareMember")}),this.inviteFormView.render()},n.prototype.create=function(t){return this.softwareMembersView.collection.create({software_member:{email:t}})},n.prototype.remove=function(t){return t.destroy()},n.prototype.sync=function(t){return("function"==typeof t.valid?t.valid():void 0)&&(t=e.request("new:softwareMember")),this.inviteFormView.model=t,this.inviteFormView.render()},n}(),t.channel.on({index:function(){return t.controller.index()},"member:add":function(e){return t.controller.create(e)},"member:remove":function(e){return t.controller.remove(e)},"member:synced":function(e){return t.controller.sync(e)}})}.call(this),function(){this.JST||(this.JST={}),this.JST["home/marionette/templates/comments/list/edit_comment"]=function(obj){var __p=[];with(obj||{})__p.push('<div class="comment-column">\n  <div class="actions right">\n    <a href="#" data-role="cancel" title="Cancel"><i class="ss-icon ss-delete"></i></a>\n  </div>\n\n  <p class="author">\n    <a class="user-profile-link" href="',user.path,'">\n      <img alt="',user.screen_name,'"\n        class="user-avatar user-photo gravatar_image image-replacement"\n        title="',user.screen_name,'"\n        src="',user.avatar_url,'">\n      '),official&&__p.push('\n        <img src="/assets/devpost-icon-rgb.svg" class="org-badge">\n      '),__p.push('\n    </a>\n\n    <a href="',user.path,'">',user.display_name,'</a>\n\n    <span class="date light-text">\n      &middot; <time class="timeago" datetime="',created_at,'"></time>\n    </span>\n  </p>\n\n\n  <form action="" class="comment-form">\n    <textarea name="comment[body]" id="edit_comment_body">',body,'</textarea>\n    <input type="submit" data-role="submit" value="',button_text,'" class="button tiny radius"/>\n    &nbsp;\n    <a href="#" data-role="cancel" class="light-text"><small>Cancel</small></a>\n  </form>\n</div>\n');return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["home/marionette/templates/comments/list/load_more"]=function(obj){var __p=[];with(obj||{})__p.push('<a href="#">View previous comments</a>\n');return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["home/marionette/templates/comments/list/show_comment"]=function(obj){var __p=[];with(obj||{})__p.push(""),id&&(__p.push('\n  <div class="comment-column">\n    <div class="actions right">\n      '),permissions.can_edit&&__p.push('\n        <a href="#" data-role="edit" title="Edit"><i class="ss-icon ss-write"></i></a>\n      '),__p.push("\n\n      "),permissions.can_destroy&&__p.push('\n        <a href="#" data-role="destroy"><i class="ss-icon ss-trash"></i></a>\n      '),__p.push("\n\n      "),permissions.can_flag&&__p.push('\n        <a href="',new_flag_url,'" data-role="flag"><i class="ss-icon ss-flag"></i></a>\n      '),__p.push('\n    </div>\n\n    <p class="author">\n      <a class="user-profile-link" href="',user.path,'">\n        <img alt="',user.screen_name,'"\n          class="user-avatar user-photo gravatar_image image-replacement"\n          title="',user.screen_name,'"\n          src="',user.avatar_url,'">\n        '),official&&__p.push('\n          <img src="/assets/devpost-icon-rgb.svg" class="org-badge">\n        '),__p.push('\n      </a>\n\n      <a href="',user.path,'">',(""+user.display_name).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),'</a>\n\n      <span class="date light-text">\n        &middot; <time class="timeago" datetime="',created_at,'"></time>\n      </span>\n\n      '),flagged&&permissions.can_moderate&&__p.push('\n        &middot;\n        <span class="small flag"><i class="ss-icon ss-flag"></i></span>\n        <a class="all-caps small" rel="nofollow" data-method="delete" href="',unflag_url,'">\n          <small>unflag</small>\n        </a>\n      '),__p.push("\n    </p>\n\n    ",html_body,"\n  </div>\n")),__p.push("\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["home/marionette/templates/common/emoji/display"]=function(obj){var __p=[];with(obj||{})__p.push("<li>\n  ",name,"\n  <img\n    src='http://emojis.challengepost.netdna-cdn.com/",encodeURIComponent(name),".png'\n    alt='",name," emoji'\n    height='20'\n    width='20' />\n</li>\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["home/marionette/templates/common/emoji/insert"]=function(obj){var __p=[];with(obj||{})__p.push(":",name,":\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["home/marionette/templates/common/flash_message"]=function(obj){var __p=[];with(obj||{})__p.push('<span class="inline-flash ',type,'">\n  ',message,"\n</span>\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["home/marionette/templates/common/mention/display"]=function(obj){var __p=[];with(obj||{})__p.push("<li>\n  "),photo||(__p.push("\n    "),photo="/assets/defaults/no-avatar-25-272b4f225e6e54b2ac0c1ac6468649c3.png",__p.push("\n  ")),__p.push("\n  <img src='",photo,"' height='20' width='20' class='user-avatar' />\n    "),full_name?__p.push("\n      ",full_name,' <span class="light-text">(@',screen_name,")</span>\n    "):__p.push("\n      @",screen_name,"\n    "),__p.push("\n</li>\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["home/marionette/templates/common/mention/insert"]=function(obj){var __p=[];with(obj||{})__p.push("@",screen_name,"\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["home/marionette/templates/hackathon_picker/choice"]=function(obj){var __p=[];with(obj||{})__p.push('<header>\n  <h3 class="text-center">Are you submitting <i>',name,'</i> to a hackathon?</h3>\n</header>\n\n<div class="clearfix">\n  <a href="" data-option="yes" class="option option-yes">\n    <strong>Yes,</strong>\n    I\'m submitting to a hackathon!\n  </a>\n  <a href="" data-option="no" class="option option-no">\n    <strong>Nope,</strong>\n    just adding it to my portfolio.\n  </a>\n</div>\n');return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["home/marionette/templates/hackathon_picker/hackathon"]=function(obj){var __p=[];with(obj||{})__p.push('<a href="',autoregister_url,'" class="clearfix">\n  <figure class="left">\n    <img src="',thumbnail_url,'" alt="',title,'">\n  </figure>\n\n  <div class="challenge-content">\n    <h5>',title,"</h5>\n    <p>",displayed_location,'</p>\n  </div>\n\n  <i class="ss-icon ss-check text-center"></i>\n</a>\n');return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["home/marionette/templates/hackathon_picker/hackathon_list"]=function(obj){var __p=[];with(obj||{})__p.push('<header class="text-center">\n  <h3>Which hackathon?</h3>\n  <p class="small">\n    <small>Don’t worry, you can keep editing your project after you submit it, but you must submit to demo / be eligible for prizes.</small>\n  </p>\n</header>\n\n<ul class="no-bullet" data-hackathon-list></ul>\n');return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["home/marionette/templates/software_updates/actions"]=function(obj){var __p=[];with(obj||{})__p.push(""),user_signed_in&&(__p.push('\n  <a data-dropdown="',dropdown_id,'" aria-controls="update-dropdown" aria-expanded="false" href="#">\n    <i class="ss-icon ss-dropdown"></i>\n  </a>\n  <ul id="',dropdown_id,'" class="f-dropdown" data-dropdown-content aria-hidden="true" tabindex="-1">\n    '),active_subscription?__p.push('\n      <li>\n        <a data-subscription="off" href="#">\n          <i class="ss-icon ss-mail"></i>\n          Turn off notifications\n        </a>\n      </li>\n    '):__p.push('\n      <li>\n        <a data-subscription="on" href="#">\n          <i class="ss-icon ss-mail"></i>\n          Turn on notifications\n        </a>\n      </li>\n    '),__p.push("\n  </ul>\n")),__p.push("\n");return __p.join("")}}.call(this),function(){this.CP.Mn.app.module("Common.Emoji",function(t,e,n,i,r,s){return this.startWithParent=!1,this.setupAtWho=function(t){var e;return null==t&&(t={}),t=s.extend({scope:"body",commentFormSelector:"form.comment-form textarea"},t),e=r(t.scope).find(t.commentFormSelector),e.atwho({at:":",data:reqresChannel("entities").request("emojis"),displayTpl:JST["home/marionette/templates/common/emoji/display"],insertTpl:JST["home/marionette/templates/common/emoji/insert"],delay:100,callbacks:{beforeInsert:function(t){return r.trim(t)}}}),e.atwho({at:"@",displayTpl:JST["home/marionette/templates/common/mention/display"],insertTpl:JST["home/marionette/templates/common/mention/insert"],delay:200,limit:8,callbacks:{remoteFilter:function(t,e){return t?r.ajax({url:CP.env.routes.api.users_url,data:{query:t},xhrFields:{withCredentials:!0}}).done(function(t){return e(t.users)}):e([])},beforeInsert:function(t){return r.trim(t)},sorter:function(t,e){return e}}})},this.on("start",function(){return t.setupAtWho()}),commandsChannel("emoji").setHandlers({setup:function(e){return t.setupAtWho(e)}})})}.call(this),function(){this.CP.Mn.app.module("Common",function(t,e,n,i){return this.FlashMessage=i.ItemView.extend({template:JST["home/marionette/templates/common/flash_message"],expirationDelay:1e4,tagName:"span",initialize:function(){return this.model=reqresChannel("entities").request("flash_message:new"),this.listenTo(this.model,"change",this.render),commandsChannel("flash").setHandlers({notice:function(t){return function(e){return t.model.notice(e)}}(this),alert:function(t){return function(e){return t.model.alert(e)}}(this)})},onRender:function(){return this.expireAfterDelay()},expireAfterDelay:function(){return this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(function(t){return function(){return t.$el.fadeOut(function(){return t.model.reset(),t.$el.show()})}}(this),this.expirationDelay)},serializeData:function(){return this.model.toJSON()}})})}.call(this),function(){this.CP.Mn.app.module("CommentApp",function(t,e){var n;return n={listComments:function(e){return t.List.Controller.listComments(e)}},ventChannel().on({"comments:list":function(t){return n.listComments(t)}}),this.on("start",function(){return e.module("Common.Emoji").start()})})}.call(this),function(){this.CP.Mn.app.module("CommentApp",function(t,e,n){return this.CommentsLayout=n.Marionette.LayoutView.extend({el:function(){return"[data-layout=comments]"},initialize:function(){return this.model?this.setElement("[data-commentable-id="+this.model.get("id")+"]"):void 0},regions:{loadMore:'[data-region="load-more"]',comments:'[data-region="comments"]',form:'[data-region="form"]'}})})}.call(this),function(t){"use strict";t.fn.serializeJSON=function(e){var n,i,r,s,o,a,l;return a=t.serializeJSON,l=a.setupOpts(e),i=this.serializeArray(),a.readCheckboxUncheckedValues(i,this,l),n={},t.each(i,function(t,e){r=a.splitInputNameIntoKeysArray(e.name,l),s=r.pop(),"skip"!==s&&(o=a.parseValue(e.value,s,l),l.parseWithFunction&&"_"===s&&(o=l.parseWithFunction(o,e.name)),a.deepSet(n,r,o,l))}),n},t.serializeJSON={defaultOptions:{checkboxUncheckedValue:void 0,parseNumbers:!1,parseBooleans:!1,parseNulls:!1,parseAll:!1,parseWithFunction:null,customTypes:{},defaultTypes:{string:function(t){return String(t)},number:function(t){return Number(t)},"boolean":function(t){var e=["false","null","undefined","","0"];return-1===e.indexOf(t)},"null":function(t){var e=["false","null","undefined","","0"];return-1===e.indexOf(t)?t:null},array:function(t){return JSON.parse(t)},object:function(t){return JSON.parse(t)},auto:function(e){return t.serializeJSON.parseValue(e,null,{parseNumbers:!0,parseBooleans:!0,parseNulls:!0})}},useIntKeysAsArrayIndex:!1},setupOpts:function(e){var n,i,r,s,o,a;a=t.serializeJSON,null==e&&(e={}),r=a.defaultOptions||{},i=["checkboxUncheckedValue","parseNumbers","parseBooleans","parseNulls","parseAll","parseWithFunction","customTypes","defaultTypes","useIntKeysAsArrayIndex"];for(n in e)if(-1===i.indexOf(n))throw new Error("serializeJSON ERROR: invalid option '"+n+"'. Please use one of "+i.join(", "));return s=function(t){return e[t]!==!1&&""!==e[t]&&(e[t]||r[t])},o=s("parseAll"),{checkboxUncheckedValue:s("checkboxUncheckedValue"),parseNumbers:o||s("parseNumbers"),parseBooleans:o||s("parseBooleans"),parseNulls:o||s("parseNulls"),parseWithFunction:s("parseWithFunction"),typeFunctions:t.extend({},s("defaultTypes"),s("customTypes")),useIntKeysAsArrayIndex:s("useIntKeysAsArrayIndex")}},parseValue:function(e,n,i){var r,s;return s=t.serializeJSON,r=i.typeFunctions&&i.typeFunctions[n],r?r(e):i.parseNumbers&&s.isNumeric(e)?Number(e):!i.parseBooleans||"true"!==e&&"false"!==e?i.parseNulls&&"null"==e?null:e:"true"===e},isObject:function(t){return t===Object(t)},isUndefined:function(t){return void 0===t},isValidArrayIndex:function(t){return/^[0-9]+$/.test(String(t))},isNumeric:function(t){return t-parseFloat(t)>=0},optionKeys:function(t){if(Object.keys)return Object.keys(t);var e,n=[];for(e in t)n.push(e);return n},splitInputNameIntoKeysArray:function(e,n){var i,r,s,o,a;return a=t.serializeJSON,o=a.extractTypeFromInputName(e,n),r=o[0],s=o[1],i=r.split("["),i=t.map(i,function(t){return t.replace(/\]/g,"")}),""===i[0]&&i.shift(),i.push(s),i},extractTypeFromInputName:function(e,n){var i,r,s;if(i=e.match(/(.*):([^:]+)$/)){if(s=t.serializeJSON,r=s.optionKeys(n?n.typeFunctions:s.defaultOptions.defaultTypes),r.push("skip"),-1!==r.indexOf(i[2]))return[i[1],i[2]];throw new Error("serializeJSON ERROR: Invalid type "+i[2]+" found in input name '"+e+"', please use one of "+r.join(", "))}return[e,"_"]},deepSet:function(e,n,i,r){var s,o,a,l,c,u;if(null==r&&(r={}),u=t.serializeJSON,u.isUndefined(e))throw new Error("ArgumentError: param 'o' expected to be an object or array, found undefined");if(!n||0===n.length)throw new Error("ArgumentError: param 'keys' expected to be an array with least one element");s=n[0],1===n.length?""===s?e.push(i):e[s]=i:(o=n[1],""===s&&(l=e.length-1,c=e[l],s=u.isObject(c)&&(u.isUndefined(c[o])||n.length>2)?l:l+1),""===o?(u.isUndefined(e[s])||!t.isArray(e[s]))&&(e[s]=[]):r.useIntKeysAsArrayIndex&&u.isValidArrayIndex(o)?(u.isUndefined(e[s])||!t.isArray(e[s]))&&(e[s]=[]):(u.isUndefined(e[s])||!u.isObject(e[s]))&&(e[s]={}),a=n.slice(1),u.deepSet(e[s],a,i,r))},readCheckboxUncheckedValues:function(e,n,i){var r,s,o,a,l;null==i&&(i={}),l=t.serializeJSON,r="input[type=checkbox][name]:not(:checked):not([disabled])",s=n.find(r).add(n.filter(r)),s.each(function(n,r){o=t(r),a=o.attr("data-unchecked-value"),a?e.push({name:r.name,value:a}):l.isUndefined(i.checkboxUncheckedValue)||e.push({name:r.name,value:i.checkboxUncheckedValue})})}}}(window.jQuery||window.Zepto||window.$),function(){this.CP.Mn.app.module("CommentApp.List",function(t,e,n,i){return this.Form=i.ItemView.extend({events:{"click input.button":"submit","submit form":"submit"},ui:{textarea:"textarea",form:".comment-form"},initialize:function(){return this.bindUIElements(),this.setElement(this.ui.form),this.defaultHeight=this.ui.textarea.height(),this.ui.textarea.autosize()},submit:function(t){var e;return t.preventDefault(),e=this.ui.form.serializeJSON(),ventChannel("comments",this.model).trigger("comment:new",e.comment),this.ui.textarea.val("").height(this.defaultHeight)}})})}.call(this),function(){this.CP.Mn.app.module("CommentApp.List",function(t,e){var n,i;return this.Controller={listComments:function(r){var s;return s=new e.CommentApp.CommentsLayout({model:r}),("function"==typeof i?i():void 0)&&new t.Form({el:s.el,model:r}),n(r).done(function(e){var n,i;return n=new t.Comments({collection:e}),s.getRegion("comments").show(n),e?("function"==typeof e.lastPage?e.lastPage():void 0)?void 0:(i=new t.loadMore({model:r}),s.getRegion("loadMore").show(i)):void 0})}},n=function(t){return reqresChannel("entities").request("comments",{commentable:t})},i=function(){var t;return"function"==typeof(t=reqresChannel("entities").request("current_user")).signedIn?t.signedIn():void 0}})}.call(this),function(){this.CP.Mn.app.module("CommentApp.List",function(t,e,n,i,r,s){return this.Comment=i.ItemView.extend({tagName:"li",isEditing:!1,buttonText:"Save",triggers:{"click [data-role=edit]":"comment:edit","submit form":"comment:update","click [data-role=destroy]":"comment:destroy","click [data-role=cancel]":"comment:show"},ui:{textarea:"textarea",form:"form",submitButton:"[data-role=submit]",timestamp:"time.timeago"},attributes:function(){return{"class":"comment",id:"comment_"+this.model.get("id")}
},template:function(t){return t.is_editing?JST["home/marionette/templates/comments/list/edit_comment"](t):JST["home/marionette/templates/comments/list/show_comment"](t)},initialize:function(){return this.listenTo(this.model,{"change:id":this.render}),this.listenTo(this,{"comment:edit":this.editComment,"comment:update":this.updateComment,"comment:show":this.showComment,"comment:destroy":this.destroyComment,change:this.render})},serializeData:function(){return s.extend({is_editing:this.isEditing,button_text:this.buttonText},this.model.toViewAttributes())},editComment:function(){return this.isEditing=!0,this.$el.addClass("editing"),this.trigger("change")},showComment:function(){return this.isEditing=!1,this.$el.removeClass("editing"),this.trigger("change")},updateComment:function(){return this.commentBody()?(this.model.set("body",this.commentBody()),this.disableSubmitButton(),r.when(this.model.save()).done(function(t){return function(){return t.showComment()}}(this)).fail(function(t){return function(){return t.enableSubmitButton()}}(this))):this.showComment()},destroyComment:function(){return confirm("Are you sure?")?this.model.destroy():void 0},onDomRefresh:function(){return this.ui.timestamp.timeago(),this.isEditing?(this.ui.textarea.autosize().trigger("input"),commandsChannel("emoji").execute("setup",{scope:this.$el})):void 0},commentBody:function(){return this.ui.textarea.val()},disableSubmitButton:function(){return this.ui.submitButton.attr("disabled","disabled").val("Saving")},enableSubmitButton:function(){return this.ui.submitButton.removeAttr("disabled").val(this.buttonText)}}),this.Comments=i.CollectionView.extend({childView:t.Comment,tagName:"ul",attributes:{"class":"no-bullet"}})})}.call(this),function(){this.CP.Mn.app.module("CommentApp.List",function(t,e,n,i,r,s){return this.loadMore=i.ItemView.extend({tagName:"p",attributes:{"class":"load-more"},template:JST["home/marionette/templates/comments/list/load_more"],events:{click:"loadMoreComments"},initialize:function(){return ventChannel("comments",this.model).on({"loading:start":s.bind(this.loadingStart,this),"loading:complete":s.bind(this.loadingComplete,this),"results:end":s.bind(this.hide,this)})},loadMoreComments:function(t){return t.preventDefault(),commandsChannel("comments",this.model).execute("load:more")},loadingStart:function(){return this.$el.find("a").html("Loading...")},loadingComplete:function(){return this.$el.find("a").html("View previous comments")},hide:function(){return this.$el.hide()}})})}.call(this),function(){this.CP.Mn.app.module("HackathonPicker",function(t){return this.startWithParent=!1,ventChannel("hackathon_picker").on({show:function(e){return t.Show.Controller.show(e)},list:function(e){return t.Show.Controller.list(e)},close:function(){return t.Show.Controller.close()}}),this.on("start",function(t){var e;if("#submit"===window.location.hash)return e=reqresChannel("entities").request("software:new"),e.set(t.software),ventChannel("hackathon_picker").trigger("show",e)})})}.call(this),function(){this.CP.Mn.app.module("HackathonPicker",function(t,e,n){return this.Layout=n.Marionette.LayoutView.extend({el:function(){return"[data-hackathon-picker]"},regions:{content:'[data-region="hackathon-picker-content"]'},onBeforeDestroy:function(){return this.$el.foundation("reveal","close")},show:function(){return this.removeAnchor(),this.$el.foundation("reveal","open")},removeAnchor:function(){var t;return t=location.hash.replace("#",""),""!==t?location.hash="":void 0}})})}.call(this),function(){this.CP.Mn.app.module("HackathonPicker.Show",function(t,e,n){return this.Choice=n.Marionette.ItemView.extend({template:JST["home/marionette/templates/hackathon_picker/choice"],triggers:{"click [data-option=yes]":"clicked:yes","click [data-option=no]":"clicked:no"}})})}.call(this),function(){this.CP.Mn.app.module("HackathonPicker.Show",function(t,e,n,i,r,s){return this.Hackathon=n.Marionette.ItemView.extend({template:JST["home/marionette/templates/hackathon_picker/hackathon"],tagName:"li",initialize:function(t){return this.software=t.software},autoregisterUrl:function(){return this.model.get("autoregister_url")+"?"+r.param({software_id:this.software.get("id"),ref_content:this.model.analytics_identifier,ref_medium:"button",ref_feature:"software_hackathon_picker"})},serializeData:function(){return s.extend(this.model.toJSON(),{autoregister_url:this.autoregisterUrl()})}}),this.HackathonList=n.Marionette.CompositeView.extend({childView:t.Hackathon,childViewContainer:"[data-hackathon-list]",childViewOptions:function(t){return{model:t,software:this.model}},template:JST["home/marionette/templates/hackathon_picker/hackathon_list"]})})}.call(this),function(){this.CP.Mn.app.module("HackathonPicker.Show",function(t,e){var n;return this.Controller={show:function(e){return function(n){var i;return i=new t.Choice({model:n}),i.on({"clicked:yes":function(){return ventChannel("hackathon_picker").trigger("list",n)},"clicked:no":function(){return ventChannel("hackathon_picker").trigger("close")}}),e.layout().getRegion("content").show(i),e.layout().show()}}(this),list:function(e){return function(n){var i;return i=reqresChannel("entities").request("hackathons:search",{state:"submissions",per_page:40}),i.done(function(i){var r;return r=new t.HackathonList({model:n,collection:i}),e.layout().getRegion("content").show(r)})}}(this),close:function(t){return function(){return t.layout().destroy()}}(this)},n=null,this.layout=function(){return n||(n=new e.HackathonPicker.Layout)}})}.call(this),function(){this.CP.Mn.app.module("SoftwareUpdateApp.List",function(t,e,n,i,r){var s;return this.Controller={listUpdates:function(){var e;return e=reqresChannel("entities").request("software_updates",{data:{ids:s()}}),r.when(e).done(function(e){return e.each(function(e){return new t.Update({model:e})})}),r("[data-role='update-form']").find("textarea").autosize()}},s=function(){return r.map(r("[data-commentable-id]"),function(t){return t.getAttribute("data-commentable-id")})}})}.call(this),function(){this.CP.Mn.app.module("SoftwareUpdateApp.List",function(t,e,n,i,r,s){return this.Update=i.ItemView.extend({el:function(){return"[data-commentable-id="+this.model.get("id")+"]"},initialize:function(){return ventChannel().trigger("comments:list",this.model),this.layout=new t.UpdateLayout({el:this.el}),this.renderActions(),ventChannel("comments",this.model).on({"comment:added":s.bind(this.fetchUpdate,this)})},fetchUpdate:function(){return this.model.fetch()},renderActions:function(){return this.layout.showChildView("actions",new t.ActionsView({model:this.model.subscription}))}}),this.UpdateLayout=i.LayoutView.extend({template:!1,regions:{actions:'[data-region="actions"]'}}),this.ActionsView=i.ItemView.extend({attributes:{"class":"update-dropdown right"},triggers:{"click [data-subscription=on]":"subscription:on","click [data-subscription=off]":"subscription:off"},template:JST["home/marionette/templates/software_updates/actions"],initialize:function(){return this.listenTo(this.model,"change:active",this.render),this.listenTo(this,{"subscription:on":this.turnOnSubscription,"subscription:off":this.turnOffSubscription})},turnOnSubscription:function(){return this.model.set("active",!0),this.model.save()},turnOffSubscription:function(){return this.model.set("active",!1),this.model.save()},serializeData:function(){return{user_signed_in:"function"==typeof e.userSignedIn?e.userSignedIn():void 0,active_subscription:this.model.get("active"),dropdown_id:"update_dropdown_"+this.model.get("software_update_id")}}})})}.call(this),function(){this.CP.Mn.app.module("SoftwareUpdateApp.Show",function(t,e,n,i,r){return this.Controller={showUpdate:function(t,n){var i;return i=reqresChannel("entities").request("software_update",{id:n}),r.when(i).done(function(t){return new e.SoftwareUpdateApp.List.Update({el:"[data-commentable-id='"+n+"']",model:t})})}}})}.call(this),function(){this.CP.Mn.app.module("SoftwareUpdateApp",function(t){var e;return e={listUpdates:function(e){return t.List.Controller.listUpdates(e)},showUpdate:function(e,n){return t.Show.Controller.showUpdate(e,n)}},ventChannel().on({"updates:list":function(t){return e.listUpdates(t)},"updates:show":function(t,n){return e.showUpdate(t,n)}})})}.call(this),function(){this.CP.Mn.app.module("Entities",function(t,e,n,i,r,s){return this.Comment=n.Model.extend({defaults:{id:null},toJSON:function(){return{comment:s.clone(this.attributes)}},toViewAttributes:function(){return this.toJSON().comment},parse:function(t){return t.comment||t}}),reqresChannel("entities").setHandlers({"comment:new":function(e){return new t.Comment(e)}})})}.call(this),function(){this.CP.Mn.app.module("Entities",function(t,e,n,i,r,s){return this.CommentCollection=n.Collection.extend({url:function(){return this.commentable.url()+"/comments"},model:e.Entities.Comment,loading:!1,initialize:function(t,e){return this.commentable=e.commentable,this.commentableVentChannel=ventChannel("comments",this.commentable),this.commentableCommandsChannel=commandsChannel("comments",this.commentable),this.setupHandlers()},setupHandlers:function(){return this.commentableCommandsChannel.setHandlers({"load:more":s.bind(this.loadMore,this)}),this.commentableVentChannel.on({"loading:start":function(t){return function(){return t.loading=!0}}(this),"loading:complete":function(t){return function(){return t.loading=!1}}(this),"comment:new":s.bind(this.addComment,this)})},addComment:function(t){var e;return e=reqresChannel("entities").request("comment:new"),e.set(t),this.push(e),e.save().done(function(t){return function(){return t.commentableVentChannel.trigger("comment:added")}}(this))},comparator:function(t){return Date.parse(t.get("created_at"))},parse:function(t){return this.pagination=t.meta.pagination,t.comments},loadMore:function(){var t;return this.loading?!0:(this.commentableVentChannel.trigger("loading:start"),t=this.fetch({data:{page:this.pagination.current_page+1},remove:!1}),t.done(function(t){return function(e){return e.comments?("function"==typeof t.lastPage?t.lastPage():void 0)?t.commentableVentChannel.trigger("results:end"):void 0:void 0}}(this)),t.always(function(t){return function(){return t.commentableVentChannel.trigger("loading:complete")}}(this)),t.promise())},lastPage:function(){return this.pagination?this.pagination.current_page===this.pagination.total_pages:!0}}),this.getCommentCollection=function(e){var n,i;return n=new t.CommentCollection([],e),i=r.Deferred(),n.fetch({reset:!0,success:function(t){return i.resolve(t)},error:function(){return i.resolve(void 0)}}),i.promise()},reqresChannel("entities").setHandlers({comments:function(e){return null==e&&(e={}),t.getCommentCollection(e)}})})}.call(this),function(){this.CP.Mn.app.module("Entities",function(t){var e;return e=6,this.getEmojis=function(){return this.emojis||(this.emojis=["bowtie","smile","laughing","blush","smiley","relaxed","smirk","heart_eyes","kissing_heart","kissing_closed_eyes","flushed","relieved","satisfied","grin","wink","stuck_out_tongue_winking_eye","stuck_out_tongue_closed_eyes","grinning","kissing","kissing_smiling_eyes","stuck_out_tongue","sleeping","worried","frowning","anguished","open_mouth","grimacing","confused","hushed","expressionless","unamused","sweat_smile","sweat","disappointed_relieved","weary","pensive","disappointed","confounded","fearful","cold_sweat","persevere","cry","sob","joy","astonished","scream","neckbeard","tired_face","angry","rage","triumph","sleepy","yum","mask","sunglasses","dizzy_face","imp","smiling_imp","neutral_face","no_mouth","innocent","alien","yellow_heart","blue_heart","purple_heart","heart","green_heart","broken_heart","heartbeat","heartpulse","two_hearts","revolving_hearts","cupid","sparkling_heart","sparkles","star","star2","dizzy","boom","collision","anger","exclamation","question","grey_exclamation","grey_question","zzz","dash","sweat_drops","notes","musical_note","fire","hankey","poop","shit","+1","thumbsup","-1","thumbsdown","ok_hand","punch","facepunch","fist","v","wave","hand","raised_hand","open_hands","point_up","point_down","point_left","point_right","raised_hands","pray","point_up_2","clap","muscle","metal","fu","runner","running","couple","family","two_men_holding_hands","two_women_holding_hands","dancer","dancers","ok_woman","no_good","information_desk_person","raising_hand","bride_with_veil","person_with_pouting_face","person_frowning","bow","couplekiss","couple_with_heart","massage","haircut","nail_care","boy","girl","woman","man","baby","older_woman","older_man","person_with_blond_hair","man_with_gua_pi_mao","man_with_turban","construction_worker","cop","angel","princess","smiley_cat","smile_cat","heart_eyes_cat","kissing_cat","smirk_cat","scream_cat","crying_cat_face","joy_cat","pouting_cat","japanese_ogre","japanese_goblin","see_no_evil","hear_no_evil","speak_no_evil","guardsman","skull","feet","lips","kiss","droplet","ear","eyes","nose","tongue","love_letter","bust_in_silhouette","busts_in_silhouette","speech_balloon","thought_balloon","feelsgood","finnadie","goberserk","godmode","hurtrealbad","rage1","rage2","rage3","rage4","suspect","trollface","sunny","umbrella","cloud","snowflake","snowman","zap","cyclone","foggy","ocean","cat","dog","mouse","hamster","rabbit","wolf","frog","tiger","koala","bear","pig","pig_nose","cow","boar","monkey_face","monkey","horse","racehorse","camel","sheep","elephant","panda_face","snake","bird","baby_chick","hatched_chick","hatching_chick","chicken","penguin","turtle","bug","honeybee","ant","beetle","snail","octopus","tropical_fish","fish","whale","whale2","dolphin","cow2","ram","rat","water_buffalo","tiger2","rabbit2","dragon","goat","rooster","dog2","pig2","mouse2","ox","dragon_face","blowfish","crocodile","dromedary_camel","leopard","cat2","poodle","paw_prints","bouquet","cherry_blossom","tulip","four_leaf_clover","rose","sunflower","hibiscus","maple_leaf","leaves","fallen_leaf","herb","mushroom","cactus","palm_tree","evergreen_tree","deciduous_tree","chestnut","seedling","blossom","ear_of_rice","shell","globe_with_meridians","sun_with_face","full_moon_with_face","new_moon_with_face","new_moon","waxing_crescent_moon","first_quarter_moon","waxing_gibbous_moon","full_moon","waning_gibbous_moon","last_quarter_moon","waning_crescent_moon","last_quarter_moon_with_face","first_quarter_moon_with_face","crescent_moon","earth_africa","earth_americas","earth_asia","volcano","milky_way","partly_sunny","octocat","squirrel","bamboo","gift_heart","dolls","school_satchel","mortar_board","flags","fireworks","sparkler","wind_chime","rice_scene","jack_o_lantern","ghost","santa","christmas_tree","gift","bell","no_bell","tanabata_tree","tada","confetti_ball","balloon","crystal_ball","cd","dvd","floppy_disk","camera","video_camera","movie_camera","computer","tv","iphone","phone","telephone","telephone_receiver","pager","fax","minidisc","vhs","sound","speaker","mute","loudspeaker","mega","hourglass","hourglass_flowing_sand","alarm_clock","watch","radio","satellite","loop","mag","mag_right","unlock","lock","lock_with_ink_pen","closed_lock_with_key","key","bulb","flashlight","high_brightness","low_brightness","electric_plug","battery","calling","email","mailbox","postbox","bath","bathtub","shower","toilet","wrench","nut_and_bolt","hammer","seat","moneybag","yen","dollar","pound","euro","credit_card","money_with_wings","e-mail","inbox_tray","outbox_tray","envelope","incoming_envelope","postal_horn","mailbox_closed","mailbox_with_mail","mailbox_with_no_mail","package","door","smoking","bomb","gun","hocho","pill","syringe","page_facing_up","page_with_curl","bookmark_tabs","bar_chart","chart_with_upwards_trend","chart_with_downwards_trend","scroll","clipboard","calendar","date","card_index","file_folder","open_file_folder","scissors","pushpin","paperclip","black_nib","pencil2","straight_ruler","triangular_ruler","closed_book","green_book","blue_book","orange_book","notebook","notebook_with_decorative_cover","ledger","books","bookmark","name_badge","microscope","telescope","newspaper","football","basketball","soccer","baseball","tennis","8ball","rugby_football","bowling","golf","mountain_bicyclist","bicyclist","horse_racing","snowboarder","swimmer","surfer","ski","spades","hearts","clubs","diamonds","gem","ring","trophy","musical_score","musical_keyboard","violin","space_invader","video_game","black_joker","flower_playing_cards","game_die","dart","mahjong","clapper","memo","pencil","book","art","microphone","headphones","trumpet","saxophone","guitar","shoe","sandal","high_heel","lipstick","boot","shirt","tshirt","necktie","womans_clothes","dress","running_shirt_with_sash","jeans","kimono","bikini","ribbon","tophat","crown","womans_hat","mans_shoe","closed_umbrella","briefcase","handbag","pouch","purse","eyeglasses","fishing_pole_and_fish","coffee","tea","sake","baby_bottle","beer","beers","cocktail","tropical_drink","wine_glass","fork_and_knife","pizza","hamburger","fries","poultry_leg","meat_on_bone","spaghetti","curry","fried_shrimp","bento","sushi","fish_cake","rice_ball","rice_cracker","rice","ramen","stew","oden","dango","egg","bread","doughnut","custard","icecream","ice_cream","shaved_ice","birthday","cake","cookie","chocolate_bar","candy","lollipop","honey_pot","apple","green_apple","tangerine","lemon","cherries","grapes","watermelon","strawberry","peach","melon","banana","pear","pineapple","sweet_potato","eggplant","tomato","corn","house","house_with_garden","school","office","post_office","hospital","bank","convenience_store","love_hotel","hotel","wedding","church","department_store","european_post_office","city_sunrise","city_sunset","japanese_castle","european_castle","tent","factory","tokyo_tower","japan","mount_fuji","sunrise_over_mountains","sunrise","stars","statue_of_liberty","bridge_at_night","carousel_horse","rainbow","ferris_wheel","fountain","roller_coaster","ship","speedboat","boat","sailboat","rowboat","anchor","rocket","airplane","helicopter","steam_locomotive","tram","mountain_railway","bike","aerial_tramway","suspension_railway","mountain_cableway","tractor","blue_car","oncoming_automobile","car","red_car","taxi","oncoming_taxi","articulated_lorry","bus","oncoming_bus","rotating_light","police_car","oncoming_police_car","fire_engine","ambulance","minibus","truck","train","station","train2","bullettrain_front","bullettrain_side","light_rail","monorail","railway_car","trolleybus","ticket","fuelpump","vertical_traffic_light","traffic_light","warning","construction","beginner","atm","slot_machine","busstop","barber","hotsprings","checkered_flag","crossed_flags","izakaya_lantern","moyai","circus_tent","performing_arts","round_pushpin","triangular_flag_on_post","jp","kr","cn","us","fr","es","it","ru","gb","uk","de","one","two","three","four","five","six","seven","eight","nine","keycap_ten","1234","zero","hash","symbols","arrow_backward","arrow_down","arrow_forward","arrow_left","capital_abcd","abcd","abc","arrow_lower_left","arrow_lower_right","arrow_right","arrow_up","arrow_upper_left","arrow_upper_right","arrow_double_down","arrow_double_up","arrow_down_small","arrow_heading_down","arrow_heading_up","leftwards_arrow_with_hook","arrow_right_hook","left_right_arrow","arrow_up_down","arrow_up_small","arrows_clockwise","arrows_counterclockwise","rewind","fast_forward","information_source","ok","twisted_rightwards_arrows","repeat","repeat_one","new","top","up","cool","free","ng","cinema","koko","signal_strength","u5272","u5408","u55b6","u6307","u6708","u6709","u6e80","u7121","u7533","u7a7a","u7981","sa","restroom","mens","womens","baby_symbol","no_smoking","parking","wheelchair","metro","baggage_claim","accept","wc","potable_water","put_litter_in_its_place","secret","congratulations","m","passport_control","left_luggage","customs","ideograph_advantage","cl","sos","id","no_entry_sign","underage","no_mobile_phones","do_not_litter","non-potable_water","no_bicycles","no_pedestrians","children_crossing","no_entry","eight_spoked_asterisk","sparkle","eight_pointed_black_star","heart_decoration","vs","vibration_mode","mobile_phone_off","chart","currency_exchange","aries","taurus","gemini","cancer","leo","virgo","libra","scorpius","sagittarius","capricorn","aquarius","pisces","ophiuchus","six_pointed_star","negative_squared_cross_mark","a","b","ab","o2","diamond_shape_with_a_dot_inside","recycle","end","back","on","soon","clock1","clock130","clock10","clock1030","clock11","clock1130","clock12","clock1230","clock2","clock230","clock3","clock330","clock4","clock430","clock5","clock530","clock6","clock630","clock7","clock730","clock8","clock830","clock9","clock930","heavy_dollar_sign","copyright","registered","tm","x","heavy_exclamation_mark","bangbang","interrobang","o","heavy_multiplication_x","heavy_plus_sign","heavy_minus_sign","heavy_division_sign","white_flower","100","heavy_check_mark","ballot_box_with_check","radio_button","link","curly_loop","wavy_dash","part_alternation_mark","trident","black_small_square","white_small_square","black_medium_small_square","white_medium_small_square","black_medium_square","white_medium_square","black_large_square","white_large_square","white_check_mark","black_square_button","white_square_button","black_circle","white_circle","red_circle","large_blue_circle","large_blue_diamond","large_orange_diamond","small_blue_diamond","small_orange_diamond","small_red_triangle","small_red_triangle_down","shipit","hellyeah","storm_trooper","boba_fett","c3p0","bb8","r2d2","tie_fighter","falcon","x_wing","lightsaber_green","lightsaber_red","leia","chewbacca","anakin","dark_anakin","darth_vader","broken_darth_vader","death_star","luke_skywalker","yoda","han_solo"])},reqresChannel("entities").setHandlers({emojis:function(){return t.getEmojis()}})})}.call(this),function(){this.CP.Mn.app.module("Entities",function(t,e,n){return this.FlashMessage=n.Model.extend({defaults:{type:"notice",message:null},reset:function(){return this.set(this.defaults)},notice:function(t){return this.set({type:"notice",message:t})},alert:function(t){return this.set({type:"alert",message:t})}}),reqresChannel("entities").setHandlers({"flash_message:new":function(e){return new t.FlashMessage(e)}})})}.call(this),function(){this.CP.Mn.app.module("Entities",function(t,e,n){return this.Hackathon=n.Model.extend()})}.call(this),function(){this.CP.Mn.app.module("Entities",function(t,e,n,i,r,s){var o;return this.HackathonCollection=n.Collection.extend({url:function(){return CP.env.routes.search_hackathons_url},model:e.Entities.Hackathon,per_page:20,search:function(t){return this.fetch({data:s.extend({per_page:this.per_page},t),reset:!0})}}),o=null,this.searchHackathons=function(e){var n;return o||(o=new t.HackathonCollection([])),n=r.Deferred(),o.search(e).done(function(){return n.resolve(o).fail(function(){return n.resolve(void 0)})}),n.promise()},reqresChannel("entities").setHandlers({"hackathons:search":function(e){return t.searchHackathons(e)}})})}.call(this),function(){this.CP.Mn.app.module("Entities",function(t,e,n){return this.Software=n.Model.extend(),reqresChannel("entities").setHandlers({"software:new":function(){return new t.Software}})})}.call(this),function(){this.CP.Mn.app.module("Entities",function(t,e,n,i,r,s){return this.SoftwareUpdate=n.Model.extend({defaults:{id:null,type:"SoftwareUpdate",subscription:{}},urlRoot:function(){return"/software_updates"},initialize:function(){return this.setSubscription(),this.listenTo(this,"change:subscription",this.setSubscription)},valid:function(){return s.isEmpty(this.get("errors"))},setSubscription:function(){var t;return this.subscription||(this.subscription=reqresChannel("entities").request("subscription:new")),t=s.extend({software_update_id:this.get("id")},this.get("subscription")),this.subscription.set(t)},parse:function(t){return t.software_update||t},toJSON:function(t){return s.extend({software_update:s.clone(this.attributes)},t)}}),this.getSoftwareUpdate=function(e){var n,i;return i=new t.SoftwareUpdate(e),n=r.Deferred(),i.fetch().done(function(){return n.resolve(i)}).fail(function(){return n.resolve(void 0)}),n.promise()},reqresChannel("entities").setHandlers({"software_update:new":function(e){return new t.SoftwareUpdate(e)},software_update:function(e){return t.getSoftwareUpdate(e)}})})}.call(this),function(){this.CP.Mn.app.module("Entities",function(t,e,n,i,r){return this.SoftwareUpdateCollection=n.Collection.extend({url:"/software_updates",model:e.Entities.SoftwareUpdate,parse:function(t){return t.software_updates||t}}),this.getSoftwareUpdateCollection=function(e){var n,i;return n=new t.SoftwareUpdateCollection([],e),i=r.Deferred(),n.fetch({data:e.data,reset:!0,success:function(t){return i.resolve(t)},error:function(){return i.resolve(void 0)}}),i.promise()},reqresChannel("entities").setHandlers({software_updates:function(e){return t.getSoftwareUpdateCollection(e)}})})}.call(this),function(){this.CP.Mn.app.module("Entities",function(t,e,n,i,r,s){return this.Subscription=n.Model.extend({defaults:{id:null},urlRoot:"/software_update_subscriptions",toJSON:function(){return{software_update_subscription:s.clone(this.attributes)}},parse:function(t){return t.subscription||t}}),reqresChannel("entities").setHandlers({"subscription:new":function(){return new t.Subscription}})})}.call(this),function(){this.CP.Mn.app.module("Entities",function(t,e,n){var i;return i=null,this.User=n.Model.extend({defaults:{id:0,screen_name:"",display_name:"",avatar_url:""},signedIn:function(){return this.get("id")>0}}),reqresChannel("entities").setHandlers({current_user:function(){return i||(i=new t.User(e.user))}})})}.call(this),function(){var t;t=function(){function t(t){this.$navigation=$(t),this.$toggleButton=this.$navigation.find(".toggle-button"),this.$toggleButtonLink=this.$toggleButton.find("a"),this.setupToggleButton()}return t.prototype.setupToggleButton=function(){return this.$toggleButton.on("click","a",function(t){return function(e){return e.preventDefault(),t.$navigation.toggleClass("expanded"),t.toggleText(t.$toggleButtonLink,"Descend","Ascend")}}(this))},t.prototype.toggleText=function(t,e,n){return t.text()===e?t.text(n):t.text(e)},t.setup=function(t){return new this(t)},t}(),this.CP.TabbedNavigation=t}.call(this),function(t){"undefined"==typeof t.fn.each2&&t.extend(t.fn,{each2:function(e){for(var n=t([0]),i=-1,r=this.length;++i<r&&(n.context=n[0]=this[i])&&e.call(n[0],i,n)!==!1;);return this}})}(jQuery),function(t,e){"use strict";function n(e){var n=t(document.createTextNode(""));e.before(n),n.before(e),n.remove()}function i(t){var e,n,i,r;if(!t||t.length<1)return t;for(e="",n=0,i=t.length;i>n;n++)r=t.charAt(n),e+=F[r]||r;return e}function r(t,e){for(var n=0,i=e.length;i>n;n+=1)if(o(t,e[n]))return n;return-1}function s(){var e=t(U);e.appendTo("body");var n={width:e.width()-e[0].clientWidth,height:e.height()-e[0].clientHeight};return e.remove(),n}function o(t,n){return t===n?!0:t===e||n===e?!1:null===t||null===n?!1:t.constructor===String?t+""==n+"":n.constructor===String?n+""==t+"":!1}function a(e,n){var i,r,s;if(null===e||e.length<1)return[];for(i=e.split(n),r=0,s=i.length;s>r;r+=1)i[r]=t.trim(i[r]);return i}function l(t){return t.outerWidth(!1)-t.width()}function c(n){var i="keyup-change-value";n.on("keydown",function(){t.data(n,i)===e&&t.data(n,i,n.val())}),n.on("keyup",function(){var r=t.data(n,i);r!==e&&n.val()!==r&&(t.removeData(n,i),n.trigger("keyup-change"))})}function u(n){n.on("mousemove",function(n){var i=j;(i===e||i.x!==n.pageX||i.y!==n.pageY)&&t(n.target).trigger("mousemove-filtered",n)})}function h(t,n,i){i=i||e;var r;return function(){var e=arguments;window.clearTimeout(r),r=window.setTimeout(function(){n.apply(i,e)},t)}}function p(t){var e,n=!1;return function(){return n===!1&&(e=t(),n=!0),e}}function d(t,e){var n=h(t,function(t){e.trigger("scroll-debounced",t)});e.on("scroll",function(t){r(t.target,e.get())>=0&&n(t)})}function f(t){t[0]!==document.activeElement&&window.setTimeout(function(){var e,n=t[0],i=t.val().length;t.focus();var r=n.offsetWidth>0||n.offsetHeight>0;r&&n===document.activeElement&&(n.setSelectionRange?n.setSelectionRange(i,i):n.createTextRange&&(e=n.createTextRange(),e.collapse(!1),e.select()))},0)}function m(e){e=t(e)[0];var n=0,i=0;if("selectionStart"in e)n=e.selectionStart,i=e.selectionEnd-n;else if("selection"in document){e.focus();var r=document.selection.createRange();i=document.selection.createRange().text.length,r.moveStart("character",-e.value.length),n=r.text.length-i}return{offset:n,length:i}}function g(t){t.preventDefault(),t.stopPropagation()}function v(t){t.preventDefault(),t.stopImmediatePropagation()}function w(e){if(!M){var n=e[0].currentStyle||window.getComputedStyle(e[0],null);M=t(document.createElement("div")).css({position:"absolute",left:"-10000px",top:"-10000px",display:"none",fontSize:n.fontSize,fontFamily:n.fontFamily,fontStyle:n.fontStyle,fontWeight:n.fontWeight,letterSpacing:n.letterSpacing,textTransform:n.textTransform,whiteSpace:"nowrap"}),M.attr("class","select2-sizer"),t("body").append(M)}return M.text(e.val()),M.width()}function b(e,n,i){var r,s,o=[];r=e.attr("class"),r&&(r=""+r,t(r.split(" ")).each2(function(){0===this.indexOf("select2-")&&o.push(this)})),r=n.attr("class"),r&&(r=""+r,t(r.split(" ")).each2(function(){0!==this.indexOf("select2-")&&(s=i(this),s&&o.push(s))})),e.attr("class",o.join(" "))}function y(t,e,n,r){var s=i(t.toUpperCase()).indexOf(i(e.toUpperCase())),o=e.length;return 0>s?(n.push(r(t)),void 0):(n.push(r(t.substring(0,s))),n.push("<span class='select2-match'>"),n.push(r(t.substring(s,s+o))),n.push("</span>"),n.push(r(t.substring(s+o,t.length))),void 0)}function _(t){var e={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return String(t).replace(/[&<>"'\/\\]/g,function(t){return e[t]})}function C(n){var i,r=null,s=n.quietMillis||100,o=n.url,a=this;return function(l){window.clearTimeout(i),i=window.setTimeout(function(){var i=n.data,s=o,c=n.transport||t.fn.select2.ajaxDefaults.transport,u={type:n.type||"GET",cache:n.cache||!1,jsonpCallback:n.jsonpCallback||e,dataType:n.dataType||"json"},h=t.extend({},t.fn.select2.ajaxDefaults.params,u);i=i?i.call(a,l.term,l.page,l.context):null,s="function"==typeof s?s.call(a,l.term,l.page,l.context):s,r&&"function"==typeof r.abort&&r.abort(),n.params&&(t.isFunction(n.params)?t.extend(h,n.params.call(a)):t.extend(h,n.params)),t.extend(h,{url:s,dataType:n.dataType,data:i,success:function(t){var e=n.results(t,l.page);l.callback(e)}}),r=c.call(a,h)},s)}}function S(e){var n,i,r=e,s=function(t){return""+t.text};t.isArray(r)&&(i=r,r={results:i}),t.isFunction(r)===!1&&(i=r,r=function(){return i});var o=r();return o.text&&(s=o.text,t.isFunction(s)||(n=o.text,s=function(t){return t[n]})),function(e){var n,i=e.term,o={results:[]};return""===i?(e.callback(r()),void 0):(n=function(r,o){var a,l;if(r=r[0],r.children){a={};for(l in r)r.hasOwnProperty(l)&&(a[l]=r[l]);a.children=[],t(r.children).each2(function(t,e){n(e,a.children)}),(a.children.length||e.matcher(i,s(a),r))&&o.push(a)}else e.matcher(i,s(r),r)&&o.push(r)},t(r().results).each2(function(t,e){n(e,o.results)}),e.callback(o),void 0)}}function k(n){var i=t.isFunction(n);return function(r){var s=r.term,o={results:[]};t(i?n():n).each(function(){var t=this.text!==e,n=t?this.text:this;(""===s||r.matcher(s,n))&&o.results.push(t?this:{id:this,text:this})}),r.callback(o)}}function x(e,n){if(t.isFunction(e))return!0;if(!e)return!1;if("string"==typeof e)return!0;throw new Error(n+" must be a string, function, or falsy value")}function $(e){if(t.isFunction(e)){var n=Array.prototype.slice.call(arguments,1);return e.apply(null,n)}return e}function T(e){var n=0;return t.each(e,function(t,e){e.children?n+=T(e.children):n++}),n}function P(t,n,i,r){var s,a,l,c,u,h=t,p=!1;if(!r.createSearchChoice||!r.tokenSeparators||r.tokenSeparators.length<1)return e;for(;;){for(a=-1,l=0,c=r.tokenSeparators.length;c>l&&(u=r.tokenSeparators[l],a=t.indexOf(u),!(a>=0));l++);if(0>a)break;if(s=t.substring(0,a),t=t.substring(a+u.length),s.length>0&&(s=r.createSearchChoice.call(this,s,n),s!==e&&null!==s&&r.id(s)!==e&&null!==r.id(s))){for(p=!1,l=0,c=n.length;c>l;l++)if(o(r.id(s),r.id(n[l]))){p=!0;break}p||i(s)}}return h!==t?t:void 0}function E(e,n){var i=function(){};return i.prototype=new e,i.prototype.constructor=i,i.prototype.parent=e.prototype,i.prototype=t.extend(i.prototype,n),i}if(window.Select2===e){var O,V,I,R,A,M,N,D,j={x:0,y:0},O={TAB:9,ENTER:13,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,SHIFT:16,CTRL:17,ALT:18,PAGE_UP:33,PAGE_DOWN:34,HOME:36,END:35,BACKSPACE:8,DELETE:46,isArrow:function(t){switch(t=t.which?t.which:t){case O.LEFT:case O.RIGHT:case O.UP:case O.DOWN:return!0}return!1},isControl:function(t){var e=t.which;switch(e){case O.SHIFT:case O.CTRL:case O.ALT:return!0}return t.metaKey?!0:!1
},isFunctionKey:function(t){return t=t.which?t.which:t,t>=112&&123>=t}},U="<div class='select2-measure-scrollbar'></div>",F={"Ⓐ":"A","Ａ":"A","À":"A","Á":"A","Â":"A","Ầ":"A","Ấ":"A","Ẫ":"A","Ẩ":"A","Ã":"A","Ā":"A","Ă":"A","Ằ":"A","Ắ":"A","Ẵ":"A","Ẳ":"A","Ȧ":"A","Ǡ":"A","Ä":"A","Ǟ":"A","Ả":"A","Å":"A","Ǻ":"A","Ǎ":"A","Ȁ":"A","Ȃ":"A","Ạ":"A","Ậ":"A","Ặ":"A","Ḁ":"A","Ą":"A","Ⱥ":"A","Ɐ":"A","Ꜳ":"AA","Æ":"AE","Ǽ":"AE","Ǣ":"AE","Ꜵ":"AO","Ꜷ":"AU","Ꜹ":"AV","Ꜻ":"AV","Ꜽ":"AY","Ⓑ":"B","Ｂ":"B","Ḃ":"B","Ḅ":"B","Ḇ":"B","Ƀ":"B","Ƃ":"B","Ɓ":"B","Ⓒ":"C","Ｃ":"C","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","Ç":"C","Ḉ":"C","Ƈ":"C","Ȼ":"C","Ꜿ":"C","Ⓓ":"D","Ｄ":"D","Ḋ":"D","Ď":"D","Ḍ":"D","Ḑ":"D","Ḓ":"D","Ḏ":"D","Đ":"D","Ƌ":"D","Ɗ":"D","Ɖ":"D","Ꝺ":"D","Ǳ":"DZ","Ǆ":"DZ","ǲ":"Dz","ǅ":"Dz","Ⓔ":"E","Ｅ":"E","È":"E","É":"E","Ê":"E","Ề":"E","Ế":"E","Ễ":"E","Ể":"E","Ẽ":"E","Ē":"E","Ḕ":"E","Ḗ":"E","Ĕ":"E","Ė":"E","Ë":"E","Ẻ":"E","Ě":"E","Ȅ":"E","Ȇ":"E","Ẹ":"E","Ệ":"E","Ȩ":"E","Ḝ":"E","Ę":"E","Ḙ":"E","Ḛ":"E","Ɛ":"E","Ǝ":"E","Ⓕ":"F","Ｆ":"F","Ḟ":"F","Ƒ":"F","Ꝼ":"F","Ⓖ":"G","Ｇ":"G","Ǵ":"G","Ĝ":"G","Ḡ":"G","Ğ":"G","Ġ":"G","Ǧ":"G","Ģ":"G","Ǥ":"G","Ɠ":"G","Ꞡ":"G","Ᵹ":"G","Ꝿ":"G","Ⓗ":"H","Ｈ":"H","Ĥ":"H","Ḣ":"H","Ḧ":"H","Ȟ":"H","Ḥ":"H","Ḩ":"H","Ḫ":"H","Ħ":"H","Ⱨ":"H","Ⱶ":"H","Ɥ":"H","Ⓘ":"I","Ｉ":"I","Ì":"I","Í":"I","Î":"I","Ĩ":"I","Ī":"I","Ĭ":"I","İ":"I","Ï":"I","Ḯ":"I","Ỉ":"I","Ǐ":"I","Ȉ":"I","Ȋ":"I","Ị":"I","Į":"I","Ḭ":"I","Ɨ":"I","Ⓙ":"J","Ｊ":"J","Ĵ":"J","Ɉ":"J","Ⓚ":"K","Ｋ":"K","Ḱ":"K","Ǩ":"K","Ḳ":"K","Ķ":"K","Ḵ":"K","Ƙ":"K","Ⱪ":"K","Ꝁ":"K","Ꝃ":"K","Ꝅ":"K","Ꞣ":"K","Ⓛ":"L","Ｌ":"L","Ŀ":"L","Ĺ":"L","Ľ":"L","Ḷ":"L","Ḹ":"L","Ļ":"L","Ḽ":"L","Ḻ":"L","Ł":"L","Ƚ":"L","Ɫ":"L","Ⱡ":"L","Ꝉ":"L","Ꝇ":"L","Ꞁ":"L","Ǉ":"LJ","ǈ":"Lj","Ⓜ":"M","Ｍ":"M","Ḿ":"M","Ṁ":"M","Ṃ":"M","Ɱ":"M","Ɯ":"M","Ⓝ":"N","Ｎ":"N","Ǹ":"N","Ń":"N","Ñ":"N","Ṅ":"N","Ň":"N","Ṇ":"N","Ņ":"N","Ṋ":"N","Ṉ":"N","Ƞ":"N","Ɲ":"N","Ꞑ":"N","Ꞥ":"N","Ǌ":"NJ","ǋ":"Nj","Ⓞ":"O","Ｏ":"O","Ò":"O","Ó":"O","Ô":"O","Ồ":"O","Ố":"O","Ỗ":"O","Ổ":"O","Õ":"O","Ṍ":"O","Ȭ":"O","Ṏ":"O","Ō":"O","Ṑ":"O","Ṓ":"O","Ŏ":"O","Ȯ":"O","Ȱ":"O","Ö":"O","Ȫ":"O","Ỏ":"O","Ő":"O","Ǒ":"O","Ȍ":"O","Ȏ":"O","Ơ":"O","Ờ":"O","Ớ":"O","Ỡ":"O","Ở":"O","Ợ":"O","Ọ":"O","Ộ":"O","Ǫ":"O","Ǭ":"O","Ø":"O","Ǿ":"O","Ɔ":"O","Ɵ":"O","Ꝋ":"O","Ꝍ":"O","Ƣ":"OI","Ꝏ":"OO","Ȣ":"OU","Ⓟ":"P","Ｐ":"P","Ṕ":"P","Ṗ":"P","Ƥ":"P","Ᵽ":"P","Ꝑ":"P","Ꝓ":"P","Ꝕ":"P","Ⓠ":"Q","Ｑ":"Q","Ꝗ":"Q","Ꝙ":"Q","Ɋ":"Q","Ⓡ":"R","Ｒ":"R","Ŕ":"R","Ṙ":"R","Ř":"R","Ȑ":"R","Ȓ":"R","Ṛ":"R","Ṝ":"R","Ŗ":"R","Ṟ":"R","Ɍ":"R","Ɽ":"R","Ꝛ":"R","Ꞧ":"R","Ꞃ":"R","Ⓢ":"S","Ｓ":"S","ẞ":"S","Ś":"S","Ṥ":"S","Ŝ":"S","Ṡ":"S","Š":"S","Ṧ":"S","Ṣ":"S","Ṩ":"S","Ș":"S","Ş":"S","Ȿ":"S","Ꞩ":"S","Ꞅ":"S","Ⓣ":"T","Ｔ":"T","Ṫ":"T","Ť":"T","Ṭ":"T","Ț":"T","Ţ":"T","Ṱ":"T","Ṯ":"T","Ŧ":"T","Ƭ":"T","Ʈ":"T","Ⱦ":"T","Ꞇ":"T","Ꜩ":"TZ","Ⓤ":"U","Ｕ":"U","Ù":"U","Ú":"U","Û":"U","Ũ":"U","Ṹ":"U","Ū":"U","Ṻ":"U","Ŭ":"U","Ü":"U","Ǜ":"U","Ǘ":"U","Ǖ":"U","Ǚ":"U","Ủ":"U","Ů":"U","Ű":"U","Ǔ":"U","Ȕ":"U","Ȗ":"U","Ư":"U","Ừ":"U","Ứ":"U","Ữ":"U","Ử":"U","Ự":"U","Ụ":"U","Ṳ":"U","Ų":"U","Ṷ":"U","Ṵ":"U","Ʉ":"U","Ⓥ":"V","Ｖ":"V","Ṽ":"V","Ṿ":"V","Ʋ":"V","Ꝟ":"V","Ʌ":"V","Ꝡ":"VY","Ⓦ":"W","Ｗ":"W","Ẁ":"W","Ẃ":"W","Ŵ":"W","Ẇ":"W","Ẅ":"W","Ẉ":"W","Ⱳ":"W","Ⓧ":"X","Ｘ":"X","Ẋ":"X","Ẍ":"X","Ⓨ":"Y","Ｙ":"Y","Ỳ":"Y","Ý":"Y","Ŷ":"Y","Ỹ":"Y","Ȳ":"Y","Ẏ":"Y","Ÿ":"Y","Ỷ":"Y","Ỵ":"Y","Ƴ":"Y","Ɏ":"Y","Ỿ":"Y","Ⓩ":"Z","Ｚ":"Z","Ź":"Z","Ẑ":"Z","Ż":"Z","Ž":"Z","Ẓ":"Z","Ẕ":"Z","Ƶ":"Z","Ȥ":"Z","Ɀ":"Z","Ⱬ":"Z","Ꝣ":"Z","ⓐ":"a","ａ":"a","ẚ":"a","à":"a","á":"a","â":"a","ầ":"a","ấ":"a","ẫ":"a","ẩ":"a","ã":"a","ā":"a","ă":"a","ằ":"a","ắ":"a","ẵ":"a","ẳ":"a","ȧ":"a","ǡ":"a","ä":"a","ǟ":"a","ả":"a","å":"a","ǻ":"a","ǎ":"a","ȁ":"a","ȃ":"a","ạ":"a","ậ":"a","ặ":"a","ḁ":"a","ą":"a","ⱥ":"a","ɐ":"a","ꜳ":"aa","æ":"ae","ǽ":"ae","ǣ":"ae","ꜵ":"ao","ꜷ":"au","ꜹ":"av","ꜻ":"av","ꜽ":"ay","ⓑ":"b","ｂ":"b","ḃ":"b","ḅ":"b","ḇ":"b","ƀ":"b","ƃ":"b","ɓ":"b","ⓒ":"c","ｃ":"c","ć":"c","ĉ":"c","ċ":"c","č":"c","ç":"c","ḉ":"c","ƈ":"c","ȼ":"c","ꜿ":"c","ↄ":"c","ⓓ":"d","ｄ":"d","ḋ":"d","ď":"d","ḍ":"d","ḑ":"d","ḓ":"d","ḏ":"d","đ":"d","ƌ":"d","ɖ":"d","ɗ":"d","ꝺ":"d","ǳ":"dz","ǆ":"dz","ⓔ":"e","ｅ":"e","è":"e","é":"e","ê":"e","ề":"e","ế":"e","ễ":"e","ể":"e","ẽ":"e","ē":"e","ḕ":"e","ḗ":"e","ĕ":"e","ė":"e","ë":"e","ẻ":"e","ě":"e","ȅ":"e","ȇ":"e","ẹ":"e","ệ":"e","ȩ":"e","ḝ":"e","ę":"e","ḙ":"e","ḛ":"e","ɇ":"e","ɛ":"e","ǝ":"e","ⓕ":"f","ｆ":"f","ḟ":"f","ƒ":"f","ꝼ":"f","ⓖ":"g","ｇ":"g","ǵ":"g","ĝ":"g","ḡ":"g","ğ":"g","ġ":"g","ǧ":"g","ģ":"g","ǥ":"g","ɠ":"g","ꞡ":"g","ᵹ":"g","ꝿ":"g","ⓗ":"h","ｈ":"h","ĥ":"h","ḣ":"h","ḧ":"h","ȟ":"h","ḥ":"h","ḩ":"h","ḫ":"h","ẖ":"h","ħ":"h","ⱨ":"h","ⱶ":"h","ɥ":"h","ƕ":"hv","ⓘ":"i","ｉ":"i","ì":"i","í":"i","î":"i","ĩ":"i","ī":"i","ĭ":"i","ï":"i","ḯ":"i","ỉ":"i","ǐ":"i","ȉ":"i","ȋ":"i","ị":"i","į":"i","ḭ":"i","ɨ":"i","ı":"i","ⓙ":"j","ｊ":"j","ĵ":"j","ǰ":"j","ɉ":"j","ⓚ":"k","ｋ":"k","ḱ":"k","ǩ":"k","ḳ":"k","ķ":"k","ḵ":"k","ƙ":"k","ⱪ":"k","ꝁ":"k","ꝃ":"k","ꝅ":"k","ꞣ":"k","ⓛ":"l","ｌ":"l","ŀ":"l","ĺ":"l","ľ":"l","ḷ":"l","ḹ":"l","ļ":"l","ḽ":"l","ḻ":"l","ſ":"l","ł":"l","ƚ":"l","ɫ":"l","ⱡ":"l","ꝉ":"l","ꞁ":"l","ꝇ":"l","ǉ":"lj","ⓜ":"m","ｍ":"m","ḿ":"m","ṁ":"m","ṃ":"m","ɱ":"m","ɯ":"m","ⓝ":"n","ｎ":"n","ǹ":"n","ń":"n","ñ":"n","ṅ":"n","ň":"n","ṇ":"n","ņ":"n","ṋ":"n","ṉ":"n","ƞ":"n","ɲ":"n","ŉ":"n","ꞑ":"n","ꞥ":"n","ǌ":"nj","ⓞ":"o","ｏ":"o","ò":"o","ó":"o","ô":"o","ồ":"o","ố":"o","ỗ":"o","ổ":"o","õ":"o","ṍ":"o","ȭ":"o","ṏ":"o","ō":"o","ṑ":"o","ṓ":"o","ŏ":"o","ȯ":"o","ȱ":"o","ö":"o","ȫ":"o","ỏ":"o","ő":"o","ǒ":"o","ȍ":"o","ȏ":"o","ơ":"o","ờ":"o","ớ":"o","ỡ":"o","ở":"o","ợ":"o","ọ":"o","ộ":"o","ǫ":"o","ǭ":"o","ø":"o","ǿ":"o","ɔ":"o","ꝋ":"o","ꝍ":"o","ɵ":"o","ƣ":"oi","ȣ":"ou","ꝏ":"oo","ⓟ":"p","ｐ":"p","ṕ":"p","ṗ":"p","ƥ":"p","ᵽ":"p","ꝑ":"p","ꝓ":"p","ꝕ":"p","ⓠ":"q","ｑ":"q","ɋ":"q","ꝗ":"q","ꝙ":"q","ⓡ":"r","ｒ":"r","ŕ":"r","ṙ":"r","ř":"r","ȑ":"r","ȓ":"r","ṛ":"r","ṝ":"r","ŗ":"r","ṟ":"r","ɍ":"r","ɽ":"r","ꝛ":"r","ꞧ":"r","ꞃ":"r","ⓢ":"s","ｓ":"s","ß":"s","ś":"s","ṥ":"s","ŝ":"s","ṡ":"s","š":"s","ṧ":"s","ṣ":"s","ṩ":"s","ș":"s","ş":"s","ȿ":"s","ꞩ":"s","ꞅ":"s","ẛ":"s","ⓣ":"t","ｔ":"t","ṫ":"t","ẗ":"t","ť":"t","ṭ":"t","ț":"t","ţ":"t","ṱ":"t","ṯ":"t","ŧ":"t","ƭ":"t","ʈ":"t","ⱦ":"t","ꞇ":"t","ꜩ":"tz","ⓤ":"u","ｕ":"u","ù":"u","ú":"u","û":"u","ũ":"u","ṹ":"u","ū":"u","ṻ":"u","ŭ":"u","ü":"u","ǜ":"u","ǘ":"u","ǖ":"u","ǚ":"u","ủ":"u","ů":"u","ű":"u","ǔ":"u","ȕ":"u","ȗ":"u","ư":"u","ừ":"u","ứ":"u","ữ":"u","ử":"u","ự":"u","ụ":"u","ṳ":"u","ų":"u","ṷ":"u","ṵ":"u","ʉ":"u","ⓥ":"v","ｖ":"v","ṽ":"v","ṿ":"v","ʋ":"v","ꝟ":"v","ʌ":"v","ꝡ":"vy","ⓦ":"w","ｗ":"w","ẁ":"w","ẃ":"w","ŵ":"w","ẇ":"w","ẅ":"w","ẘ":"w","ẉ":"w","ⱳ":"w","ⓧ":"x","ｘ":"x","ẋ":"x","ẍ":"x","ⓨ":"y","ｙ":"y","ỳ":"y","ý":"y","ŷ":"y","ỹ":"y","ȳ":"y","ẏ":"y","ÿ":"y","ỷ":"y","ẙ":"y","ỵ":"y","ƴ":"y","ɏ":"y","ỿ":"y","ⓩ":"z","ｚ":"z","ź":"z","ẑ":"z","ż":"z","ž":"z","ẓ":"z","ẕ":"z","ƶ":"z","ȥ":"z","ɀ":"z","ⱬ":"z","ꝣ":"z"};N=t(document),A=function(){var t=1;return function(){return t++}}(),N.on("mousemove",function(t){j.x=t.pageX,j.y=t.pageY}),V=E(Object,{bind:function(t){var e=this;return function(){t.apply(e,arguments)}},init:function(n){var i,r,o=".select2-results";this.opts=n=this.prepareOpts(n),this.id=n.id,n.element.data("select2")!==e&&null!==n.element.data("select2")&&n.element.data("select2").destroy(),this.container=this.createContainer(),this.liveRegion=t("<span>",{role:"status","aria-live":"polite"}).addClass("select2-hidden-accessible").appendTo(document.body),this.containerId="s2id_"+(n.element.attr("id")||"autogen"+A()).replace(/([;&,\-\.\+\*\~':"\!\^#$%@\[\]\(\)=>\|])/g,"\\$1"),this.containerSelector="#"+this.containerId,this.container.attr("id",this.containerId),this.body=p(function(){return n.element.closest("body")}),b(this.container,this.opts.element,this.opts.adaptContainerCssClass),this.container.attr("style",n.element.attr("style")),this.container.css($(n.containerCss)),this.container.addClass($(n.containerCssClass)),this.elementTabIndex=this.opts.element.attr("tabindex"),this.opts.element.data("select2",this).attr("tabindex","-1").before(this.container).on("click.select2",g),this.container.data("select2",this),this.dropdown=this.container.find(".select2-drop"),b(this.dropdown,this.opts.element,this.opts.adaptDropdownCssClass),this.dropdown.addClass($(n.dropdownCssClass)),this.dropdown.data("select2",this),this.dropdown.on("click",g),this.results=i=this.container.find(o),this.search=r=this.container.find("input.select2-input"),this.queryCount=0,this.resultsPage=0,this.context=null,this.initContainer(),this.container.on("click",g),u(this.results),this.dropdown.on("mousemove-filtered touchstart touchmove touchend",o,this.bind(this.highlightUnderEvent)),this.dropdown.on("touchend",o,this.bind(this.selectHighlighted)),this.dropdown.on("touchmove",o,this.bind(this.touchMoved)),this.dropdown.on("touchstart touchend",o,this.bind(this.clearTouchMoved)),d(80,this.results),this.dropdown.on("scroll-debounced",o,this.bind(this.loadMoreIfNeeded)),t(this.container).on("change",".select2-input",function(t){t.stopPropagation()}),t(this.dropdown).on("change",".select2-input",function(t){t.stopPropagation()}),t.fn.mousewheel&&i.mousewheel(function(t,e,n,r){var s=i.scrollTop();r>0&&0>=s-r?(i.scrollTop(0),g(t)):0>r&&i.get(0).scrollHeight-i.scrollTop()+r<=i.height()&&(i.scrollTop(i.get(0).scrollHeight-i.height()),g(t))}),c(r),r.on("keyup-change input paste",this.bind(this.updateResults)),r.on("focus",function(){r.addClass("select2-focused")}),r.on("blur",function(){r.removeClass("select2-focused")}),this.dropdown.on("mouseup",o,this.bind(function(e){t(e.target).closest(".select2-result-selectable").length>0&&(this.highlightUnderEvent(e),this.selectHighlighted(e))})),this.dropdown.on("click mouseup mousedown focusin",function(t){t.stopPropagation()}),this.nextSearchTerm=e,t.isFunction(this.opts.initSelection)&&(this.initSelection(),this.monitorSource()),null!==n.maximumInputLength&&this.search.attr("maxlength",n.maximumInputLength);var a=n.element.prop("disabled");a===e&&(a=!1),this.enable(!a);var l=n.element.prop("readonly");l===e&&(l=!1),this.readonly(l),D=D||s(),this.autofocus=n.element.prop("autofocus"),n.element.prop("autofocus",!1),this.autofocus&&this.focus(),this.search.attr("placeholder",n.searchInputPlaceholder)},destroy:function(){var t=this.opts.element,n=t.data("select2");this.close(),this.propertyObserver&&(delete this.propertyObserver,this.propertyObserver=null),n!==e&&(n.container.remove(),n.liveRegion.remove(),n.dropdown.remove(),t.removeClass("select2-offscreen").removeData("select2").off(".select2").prop("autofocus",this.autofocus||!1),this.elementTabIndex?t.attr({tabindex:this.elementTabIndex}):t.removeAttr("tabindex"),t.show())},optionToData:function(t){return t.is("option")?{id:t.prop("value"),text:t.text(),element:t.get(),css:t.attr("class"),disabled:t.prop("disabled"),locked:o(t.attr("locked"),"locked")||o(t.data("locked"),!0)}:t.is("optgroup")?{text:t.attr("label"),children:[],element:t.get(),css:t.attr("class")}:void 0},prepareOpts:function(n){var i,r,s,l,c=this;if(i=n.element,"select"===i.get(0).tagName.toLowerCase()&&(this.select=r=n.element),r&&t.each(["id","multiple","ajax","query","createSearchChoice","initSelection","data","tags"],function(){if(this in n)throw new Error("Option '"+this+"' is not allowed for Select2 when attached to a <select> element.")}),n=t.extend({},{populateResults:function(i,r,s){var o,a=this.opts.id,l=this.liveRegion;o=function(i,r,u){var h,p,d,f,m,g,v,w,b,y;for(i=n.sortResults(i,r,s),h=0,p=i.length;p>h;h+=1)d=i[h],m=d.disabled===!0,f=!m&&a(d)!==e,g=d.children&&d.children.length>0,v=t("<li></li>"),v.addClass("select2-results-dept-"+u),v.addClass("select2-result"),v.addClass(f?"select2-result-selectable":"select2-result-unselectable"),m&&v.addClass("select2-disabled"),g&&v.addClass("select2-result-with-children"),v.addClass(c.opts.formatResultCssClass(d)),v.attr("role","presentation"),w=t(document.createElement("div")),w.addClass("select2-result-label"),w.attr("id","select2-result-label-"+A()),w.attr("role","option"),y=n.formatResult(d,w,s,c.opts.escapeMarkup),y!==e&&(w.html(y),v.append(w)),g&&(b=t("<ul></ul>"),b.addClass("select2-result-sub"),o(d.children,b,u+1),v.append(b)),v.data("select2-data",d),r.append(v);l.text(n.formatMatches(i.length))},o(r,i,0)}},t.fn.select2.defaults,n),"function"!=typeof n.id&&(s=n.id,n.id=function(t){return t[s]}),t.isArray(n.element.data("select2Tags"))){if("tags"in n)throw"tags specified as both an attribute 'data-select2-tags' and in options of Select2 "+n.element.attr("id");n.tags=n.element.data("select2Tags")}if(r?(n.query=this.bind(function(t){var n,r,s,o={results:[],more:!1},a=t.term;s=function(e,n){var i;e.is("option")?t.matcher(a,e.text(),e)&&n.push(c.optionToData(e)):e.is("optgroup")&&(i=c.optionToData(e),e.children().each2(function(t,e){s(e,i.children)}),i.children.length>0&&n.push(i))},n=i.children(),this.getPlaceholder()!==e&&n.length>0&&(r=this.getPlaceholderOption(),r&&(n=n.not(r))),n.each2(function(t,e){s(e,o.results)}),t.callback(o)}),n.id=function(t){return t.id}):"query"in n||("ajax"in n?(l=n.element.data("ajax-url"),l&&l.length>0&&(n.ajax.url=l),n.query=C.call(n.element,n.ajax)):"data"in n?n.query=S(n.data):"tags"in n&&(n.query=k(n.tags),n.createSearchChoice===e&&(n.createSearchChoice=function(e){return{id:t.trim(e),text:t.trim(e)}}),n.initSelection===e&&(n.initSelection=function(e,i){var r=[];t(a(e.val(),n.separator)).each(function(){var e={id:this,text:this},i=n.tags;t.isFunction(i)&&(i=i()),t(i).each(function(){return o(this.id,e.id)?(e=this,!1):void 0}),r.push(e)}),i(r)}))),"function"!=typeof n.query)throw"query function not defined for Select2 "+n.element.attr("id");if("top"===n.createSearchChoicePosition)n.createSearchChoicePosition=function(t,e){t.unshift(e)};else if("bottom"===n.createSearchChoicePosition)n.createSearchChoicePosition=function(t,e){t.push(e)};else if("function"!=typeof n.createSearchChoicePosition)throw"invalid createSearchChoicePosition option must be 'top', 'bottom' or a custom function";return n},monitorSource:function(){var t,n,i=this.opts.element;i.on("change.select2",this.bind(function(){this.opts.element.data("select2-change-triggered")!==!0&&this.initSelection()})),t=this.bind(function(){var t=i.prop("disabled");t===e&&(t=!1),this.enable(!t);var n=i.prop("readonly");n===e&&(n=!1),this.readonly(n),b(this.container,this.opts.element,this.opts.adaptContainerCssClass),this.container.addClass($(this.opts.containerCssClass)),b(this.dropdown,this.opts.element,this.opts.adaptDropdownCssClass),this.dropdown.addClass($(this.opts.dropdownCssClass))}),i.on("propertychange.select2",t),this.mutationCallback===e&&(this.mutationCallback=function(e){e.forEach(t)}),n=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver,n!==e&&(this.propertyObserver&&(delete this.propertyObserver,this.propertyObserver=null),this.propertyObserver=new n(this.mutationCallback),this.propertyObserver.observe(i.get(0),{attributes:!0,subtree:!1}))},triggerSelect:function(e){var n=t.Event("select2-selecting",{val:this.id(e),object:e});return this.opts.element.trigger(n),!n.isDefaultPrevented()},triggerChange:function(e){e=e||{},e=t.extend({},e,{type:"change",val:this.val()}),this.opts.element.data("select2-change-triggered",!0),this.opts.element.trigger(e),this.opts.element.data("select2-change-triggered",!1),this.opts.element.click(),this.opts.blurOnChange&&this.opts.element.blur()},isInterfaceEnabled:function(){return this.enabledInterface===!0},enableInterface:function(){var t=this._enabled&&!this._readonly,e=!t;return t===this.enabledInterface?!1:(this.container.toggleClass("select2-container-disabled",e),this.close(),this.enabledInterface=t,!0)},enable:function(t){t===e&&(t=!0),this._enabled!==t&&(this._enabled=t,this.opts.element.prop("disabled",!t),this.enableInterface())},disable:function(){this.enable(!1)},readonly:function(t){t===e&&(t=!1),this._readonly!==t&&(this._readonly=t,this.opts.element.prop("readonly",t),this.enableInterface())},opened:function(){return this.container.hasClass("select2-dropdown-open")},positionDropdown:function(){var e,n,i,r,s,o=this.dropdown,a=this.container.offset(),l=this.container.outerHeight(!1),c=this.container.outerWidth(!1),u=o.outerHeight(!1),h=t(window),p=h.width(),d=h.height(),f=h.scrollLeft()+p,m=h.scrollTop()+d,g=a.top+l,v=a.left,w=m>=g+u,b=a.top-u>=h.scrollTop(),y=o.outerWidth(!1),_=f>=v+y,C=o.hasClass("select2-drop-above");C?(n=!0,!b&&w&&(i=!0,n=!1)):(n=!1,!w&&b&&(i=!0,n=!0)),i&&(o.hide(),a=this.container.offset(),l=this.container.outerHeight(!1),c=this.container.outerWidth(!1),u=o.outerHeight(!1),f=h.scrollLeft()+p,m=h.scrollTop()+d,g=a.top+l,v=a.left,y=o.outerWidth(!1),_=f>=v+y,o.show()),this.opts.dropdownAutoWidth?(s=t(".select2-results",o)[0],o.addClass("select2-drop-auto-width"),o.css("width",""),y=o.outerWidth(!1)+(s.scrollHeight===s.clientHeight?0:D.width),y>c?c=y:y=c,_=f>=v+y):this.container.removeClass("select2-drop-auto-width"),"static"!==this.body().css("position")&&(e=this.body().offset(),g-=e.top,v-=e.left),_||(v=a.left+this.container.outerWidth(!1)-y),r={left:v,width:c},n?(r.top=a.top-u,r.bottom="auto",this.container.addClass("select2-drop-above"),o.addClass("select2-drop-above")):(r.top=g,r.bottom="auto",this.container.removeClass("select2-drop-above"),o.removeClass("select2-drop-above")),r=t.extend(r,$(this.opts.dropdownCss)),o.css(r)},shouldOpen:function(){var e;return this.opened()?!1:this._enabled===!1||this._readonly===!0?!1:(e=t.Event("select2-opening"),this.opts.element.trigger(e),!e.isDefaultPrevented())},clearDropdownAlignmentPreference:function(){this.container.removeClass("select2-drop-above"),this.dropdown.removeClass("select2-drop-above")},open:function(){return this.shouldOpen()?(this.opening(),!0):!1},opening:function(){var e,i=this.containerId,r="scroll."+i,s="resize."+i,o="orientationchange."+i;this.container.addClass("select2-dropdown-open").addClass("select2-container-active"),this.clearDropdownAlignmentPreference(),this.dropdown[0]!==this.body().children().last()[0]&&this.dropdown.detach().appendTo(this.body()),e=t("#select2-drop-mask"),0==e.length&&(e=t(document.createElement("div")),e.attr("id","select2-drop-mask").attr("class","select2-drop-mask"),e.hide(),e.appendTo(this.body()),e.on("mousedown touchstart click",function(i){n(e);var r,s=t("#select2-drop");s.length>0&&(r=s.data("select2"),r.opts.selectOnBlur&&r.selectHighlighted({noFocus:!0}),r.close(),i.preventDefault(),i.stopPropagation())})),this.dropdown.prev()[0]!==e[0]&&this.dropdown.before(e),t("#select2-drop").removeAttr("id"),this.dropdown.attr("id","select2-drop"),e.show(),this.positionDropdown(),this.dropdown.show(),this.positionDropdown(),this.dropdown.addClass("select2-drop-active");var a=this;this.container.parents().add(window).each(function(){t(this).on(s+" "+r+" "+o,function(){a.positionDropdown()})})},close:function(){if(this.opened()){var e=this.containerId,n="scroll."+e,i="resize."+e,r="orientationchange."+e;this.container.parents().add(window).each(function(){t(this).off(n).off(i).off(r)}),this.clearDropdownAlignmentPreference(),t("#select2-drop-mask").hide(),this.dropdown.removeAttr("id"),this.dropdown.hide(),this.container.removeClass("select2-dropdown-open").removeClass("select2-container-active"),this.results.empty(),this.clearSearch(),this.search.removeClass("select2-active"),this.opts.element.trigger(t.Event("select2-close"))}},externalSearch:function(t){this.open(),this.search.val(t),this.updateResults(!1)},clearSearch:function(){},getMaximumSelectionSize:function(){return $(this.opts.maximumSelectionSize)},ensureHighlightVisible:function(){var e,n,i,r,s,o,a,l=this.results;if(n=this.highlight(),!(0>n)){if(0==n)return l.scrollTop(0),void 0;e=this.findHighlightableChoices().find(".select2-result-label"),i=t(e[n]),r=i.offset().top+i.outerHeight(!0),n===e.length-1&&(a=l.find("li.select2-more-results"),a.length>0&&(r=a.offset().top+a.outerHeight(!0))),s=l.offset().top+l.outerHeight(!0),r>s&&l.scrollTop(l.scrollTop()+(r-s)),o=i.offset().top-l.offset().top,0>o&&"none"!=i.css("display")&&l.scrollTop(l.scrollTop()+o)}},findHighlightableChoices:function(){return this.results.find(".select2-result-selectable:not(.select2-disabled):not(.select2-selected)")},moveHighlight:function(e){for(var n=this.findHighlightableChoices(),i=this.highlight();i>-1&&i<n.length;){i+=e;var r=t(n[i]);if(r.hasClass("select2-result-selectable")&&!r.hasClass("select2-disabled")&&!r.hasClass("select2-selected")){this.highlight(i);break}}},highlight:function(e){var n,i,s=this.findHighlightableChoices();return 0===arguments.length?r(s.filter(".select2-highlighted")[0],s.get()):(e>=s.length&&(e=s.length-1),0>e&&(e=0),this.removeHighlight(),n=t(s[e]),n.addClass("select2-highlighted"),this.search.attr("aria-activedescendant",n.find(".select2-result-label").attr("id")),this.ensureHighlightVisible(),this.liveRegion.text(n.text()),i=n.data("select2-data"),i&&this.opts.element.trigger({type:"select2-highlight",val:this.id(i),choice:i}),void 0)},removeHighlight:function(){this.results.find(".select2-highlighted").removeClass("select2-highlighted")},touchMoved:function(){this._touchMoved=!0},clearTouchMoved:function(){this._touchMoved=!1},countSelectableResults:function(){return this.findHighlightableChoices().length},highlightUnderEvent:function(e){var n=t(e.target).closest(".select2-result-selectable");if(n.length>0&&!n.is(".select2-highlighted")){var i=this.findHighlightableChoices();this.highlight(i.index(n))}else 0==n.length&&this.removeHighlight()},loadMoreIfNeeded:function(){var t,e=this.results,n=e.find("li.select2-more-results"),i=this.resultsPage+1,r=this,s=this.search.val(),o=this.context;0!==n.length&&(t=n.offset().top-e.offset().top-e.height(),t<=this.opts.loadMorePadding&&(n.addClass("select2-active"),this.opts.query({element:this.opts.element,term:s,page:i,context:o,matcher:this.opts.matcher,callback:this.bind(function(t){r.opened()&&(r.opts.populateResults.call(this,e,t.results,{term:s,page:i,context:o}),r.postprocessResults(t,!1,!1),t.more===!0?(n.detach().appendTo(e).text($(r.opts.formatLoadMore,i+1)),window.setTimeout(function(){r.loadMoreIfNeeded()},10)):n.remove(),r.positionDropdown(),r.resultsPage=i,r.context=t.context,this.opts.element.trigger({type:"select2-loaded",items:t}))})})))},tokenize:function(){},updateResults:function(n){function i(){c.removeClass("select2-active"),p.positionDropdown(),u.find(".select2-no-results,.select2-selection-limit,.select2-searching").length?p.liveRegion.text(u.text()):p.liveRegion.text(p.opts.formatMatches(u.find(".select2-result-selectable").length))}function r(t){u.html(t),i()}var s,a,l,c=this.search,u=this.results,h=this.opts,p=this,d=c.val(),f=t.data(this.container,"select2-last-term");if((n===!0||!f||!o(d,f))&&(t.data(this.container,"select2-last-term",d),n===!0||this.showSearchInput!==!1&&this.opened())){l=++this.queryCount;var m=this.getMaximumSelectionSize();if(m>=1&&(s=this.data(),t.isArray(s)&&s.length>=m&&x(h.formatSelectionTooBig,"formatSelectionTooBig")))return r("<li class='select2-selection-limit'>"+$(h.formatSelectionTooBig,m)+"</li>"),void 0;if(c.val().length<h.minimumInputLength)return x(h.formatInputTooShort,"formatInputTooShort")?r("<li class='select2-no-results'>"+$(h.formatInputTooShort,c.val(),h.minimumInputLength)+"</li>"):r(""),n&&this.showSearch&&this.showSearch(!0),void 0;if(h.maximumInputLength&&c.val().length>h.maximumInputLength)return x(h.formatInputTooLong,"formatInputTooLong")?r("<li class='select2-no-results'>"+$(h.formatInputTooLong,c.val(),h.maximumInputLength)+"</li>"):r(""),void 0;h.formatSearching&&0===this.findHighlightableChoices().length&&r("<li class='select2-searching'>"+$(h.formatSearching)+"</li>"),c.addClass("select2-active"),this.removeHighlight(),a=this.tokenize(),a!=e&&null!=a&&c.val(a),this.resultsPage=1,h.query({element:h.element,term:c.val(),page:this.resultsPage,context:null,matcher:h.matcher,callback:this.bind(function(s){var a;if(l==this.queryCount){if(!this.opened())return this.search.removeClass("select2-active"),void 0;if(this.context=s.context===e?null:s.context,this.opts.createSearchChoice&&""!==c.val()&&(a=this.opts.createSearchChoice.call(p,c.val(),s.results),a!==e&&null!==a&&p.id(a)!==e&&null!==p.id(a)&&0===t(s.results).filter(function(){return o(p.id(this),p.id(a))}).length&&this.opts.createSearchChoicePosition(s.results,a)),0===s.results.length&&x(h.formatNoMatches,"formatNoMatches"))return r("<li class='select2-no-results'>"+$(h.formatNoMatches,c.val())+"</li>"),void 0;u.empty(),p.opts.populateResults.call(this,u,s.results,{term:c.val(),page:this.resultsPage,context:null}),s.more===!0&&x(h.formatLoadMore,"formatLoadMore")&&(u.append("<li class='select2-more-results'>"+p.opts.escapeMarkup($(h.formatLoadMore,this.resultsPage))+"</li>"),window.setTimeout(function(){p.loadMoreIfNeeded()},10)),this.postprocessResults(s,n),i(),this.opts.element.trigger({type:"select2-loaded",items:s})}})})}},cancel:function(){this.close()},blur:function(){this.opts.selectOnBlur&&this.selectHighlighted({noFocus:!0}),this.close(),this.container.removeClass("select2-container-active"),this.search[0]===document.activeElement&&this.search.blur(),this.clearSearch(),this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus")},focusSearch:function(){f(this.search)},selectHighlighted:function(t){if(this._touchMoved)return this.clearTouchMoved(),void 0;var e=this.highlight(),n=this.results.find(".select2-highlighted"),i=n.closest(".select2-result").data("select2-data");i?(this.highlight(e),this.onSelect(i,t)):t&&t.noFocus&&this.close()},getPlaceholder:function(){var t;return this.opts.element.attr("placeholder")||this.opts.element.attr("data-placeholder")||this.opts.element.data("placeholder")||this.opts.placeholder||((t=this.getPlaceholderOption())!==e?t.text():e)},getPlaceholderOption:function(){if(this.select){var t=this.select.children("option").first();if(this.opts.placeholderOption!==e)return"first"===this.opts.placeholderOption&&t||"function"==typeof this.opts.placeholderOption&&this.opts.placeholderOption(this.select);if(""===t.text()&&""===t.val())return t}},initContainerWidth:function(){function n(){var n,i,r,s,o,a;if("off"===this.opts.width)return null;if("element"===this.opts.width)return 0===this.opts.element.outerWidth(!1)?"auto":this.opts.element.outerWidth(!1)+"px";if("copy"===this.opts.width||"resolve"===this.opts.width){if(n=this.opts.element.attr("style"),n!==e)for(i=n.split(";"),s=0,o=i.length;o>s;s+=1)if(a=i[s].replace(/\s/g,""),r=a.match(/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i),null!==r&&r.length>=1)return r[1];return"resolve"===this.opts.width?(n=this.opts.element.css("width"),n.indexOf("%")>0?n:0===this.opts.element.outerWidth(!1)?"auto":this.opts.element.outerWidth(!1)+"px"):null}return t.isFunction(this.opts.width)?this.opts.width():this.opts.width}var i=n.call(this);null!==i&&this.container.css("width",i)}}),I=E(V,{createContainer:function(){var e=t(document.createElement("div")).attr({"class":"select2-container"}).html(["<a href='javascript:void(0)' class='select2-choice' tabindex='-1'>","   <span class='select2-chosen'>&nbsp;</span><abbr class='select2-search-choice-close'></abbr>","   <span class='select2-arrow' role='presentation'><b role='presentation'></b></span>","</a>","<label for='' class='select2-offscreen'></label>","<input class='select2-focusser select2-offscreen' type='text' aria-haspopup='true' role='button' />","<div class='select2-drop select2-display-none'>","   <div class='select2-search'>","       <label for='' class='select2-offscreen'></label>","       <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' class='select2-input' role='combobox' aria-expanded='true'","       aria-autocomplete='list' />","   </div>","   <ul class='select2-results' role='listbox'>","   </ul>","</div>"].join(""));return e},enableInterface:function(){this.parent.enableInterface.apply(this,arguments)&&this.focusser.prop("disabled",!this.isInterfaceEnabled())},opening:function(){var n,i,r;this.opts.minimumResultsForSearch>=0&&this.showSearch(!0),this.parent.opening.apply(this,arguments),this.showSearchInput!==!1&&this.search.val(this.focusser.val()),this.search.focus(),n=this.search.get(0),n.createTextRange?(i=n.createTextRange(),i.collapse(!1),i.select()):n.setSelectionRange&&(r=this.search.val().length,n.setSelectionRange(r,r)),""===this.search.val()&&this.nextSearchTerm!=e&&(this.search.val(this.nextSearchTerm),this.search.select()),this.focusser.prop("disabled",!0).val(""),this.updateResults(!0),this.opts.element.trigger(t.Event("select2-open"))},close:function(){this.opened()&&(this.parent.close.apply(this,arguments),this.focusser.prop("disabled",!1),this.opts.shouldFocusInput(this)&&this.focusser.focus())},focus:function(){this.opened()?this.close():(this.focusser.prop("disabled",!1),this.opts.shouldFocusInput(this)&&this.focusser.focus())},isFocused:function(){return this.container.hasClass("select2-container-active")},cancel:function(){this.parent.cancel.apply(this,arguments),this.focusser.prop("disabled",!1),this.opts.shouldFocusInput(this)&&this.focusser.focus()},destroy:function(){t("label[for='"+this.focusser.attr("id")+"']").attr("for",this.opts.element.attr("id")),this.parent.destroy.apply(this,arguments)},initContainer:function(){var e,i,r=this.container,s=this.dropdown,o=A();this.opts.minimumResultsForSearch<0?this.showSearch(!1):this.showSearch(!0),this.selection=e=r.find(".select2-choice"),this.focusser=r.find(".select2-focusser"),e.find(".select2-chosen").attr("id","select2-chosen-"+o),this.focusser.attr("aria-labelledby","select2-chosen-"+o),this.results.attr("id","select2-results-"+o),this.search.attr("aria-owns","select2-results-"+o),this.focusser.attr("id","s2id_autogen"+o),i=t("label[for='"+this.opts.element.attr("id")+"']"),this.focusser.prev().text(i.text()).attr("for",this.focusser.attr("id"));var a=this.opts.element.attr("title");this.opts.element.attr("title",a||i.text()),this.focusser.attr("tabindex",this.elementTabIndex),this.search.attr("id",this.focusser.attr("id")+"_search"),this.search.prev().text(t("label[for='"+this.focusser.attr("id")+"']").text()).attr("for",this.search.attr("id")),this.search.on("keydown",this.bind(function(t){if(this.isInterfaceEnabled()){if(t.which===O.PAGE_UP||t.which===O.PAGE_DOWN)return g(t),void 0;switch(t.which){case O.UP:case O.DOWN:return this.moveHighlight(t.which===O.UP?-1:1),g(t),void 0;case O.ENTER:return this.selectHighlighted(),g(t),void 0;case O.TAB:return this.selectHighlighted({noFocus:!0}),void 0;case O.ESC:return this.cancel(t),g(t),void 0}}})),this.search.on("blur",this.bind(function(){document.activeElement===this.body().get(0)&&window.setTimeout(this.bind(function(){this.opened()&&this.search.focus()}),0)})),this.focusser.on("keydown",this.bind(function(t){if(this.isInterfaceEnabled()&&t.which!==O.TAB&&!O.isControl(t)&&!O.isFunctionKey(t)&&t.which!==O.ESC){if(this.opts.openOnEnter===!1&&t.which===O.ENTER)return g(t),void 0;if(t.which==O.DOWN||t.which==O.UP||t.which==O.ENTER&&this.opts.openOnEnter){if(t.altKey||t.ctrlKey||t.shiftKey||t.metaKey)return;return this.open(),g(t),void 0}return t.which==O.DELETE||t.which==O.BACKSPACE?(this.opts.allowClear&&this.clear(),g(t),void 0):void 0}})),c(this.focusser),this.focusser.on("keyup-change input",this.bind(function(t){if(this.opts.minimumResultsForSearch>=0){if(t.stopPropagation(),this.opened())return;this.open()}})),e.on("mousedown touchstart","abbr",this.bind(function(t){this.isInterfaceEnabled()&&(this.clear(),v(t),this.close(),this.selection.focus())})),e.on("mousedown touchstart",this.bind(function(i){n(e),this.container.hasClass("select2-container-active")||this.opts.element.trigger(t.Event("select2-focus")),this.opened()?this.close():this.isInterfaceEnabled()&&this.open(),g(i)})),s.on("mousedown touchstart",this.bind(function(){this.search.focus()})),e.on("focus",this.bind(function(t){g(t)})),this.focusser.on("focus",this.bind(function(){this.container.hasClass("select2-container-active")||this.opts.element.trigger(t.Event("select2-focus")),this.container.addClass("select2-container-active")})).on("blur",this.bind(function(){this.opened()||(this.container.removeClass("select2-container-active"),this.opts.element.trigger(t.Event("select2-blur")))})),this.search.on("focus",this.bind(function(){this.container.hasClass("select2-container-active")||this.opts.element.trigger(t.Event("select2-focus")),this.container.addClass("select2-container-active")})),this.initContainerWidth(),this.opts.element.addClass("select2-offscreen"),this.setPlaceholder()},clear:function(e){var n=this.selection.data("select2-data");if(n){var i=t.Event("select2-clearing");if(this.opts.element.trigger(i),i.isDefaultPrevented())return;var r=this.getPlaceholderOption();this.opts.element.val(r?r.val():""),this.selection.find(".select2-chosen").empty(),this.selection.removeData("select2-data"),this.setPlaceholder(),e!==!1&&(this.opts.element.trigger({type:"select2-removed",val:this.id(n),choice:n}),this.triggerChange({removed:n}))
}},initSelection:function(){if(this.isPlaceholderOptionSelected())this.updateSelection(null),this.close(),this.setPlaceholder();else{var t=this;this.opts.initSelection.call(null,this.opts.element,function(n){n!==e&&null!==n&&(t.updateSelection(n),t.close(),t.setPlaceholder(),t.nextSearchTerm=t.opts.nextSearchTerm(n,t.search.val()))})}},isPlaceholderOptionSelected:function(){var t;return this.getPlaceholder()?(t=this.getPlaceholderOption())!==e&&t.prop("selected")||""===this.opts.element.val()||this.opts.element.val()===e||null===this.opts.element.val():!1},prepareOpts:function(){var e=this.parent.prepareOpts.apply(this,arguments),n=this;return"select"===e.element.get(0).tagName.toLowerCase()?e.initSelection=function(t,e){var i=t.find("option").filter(function(){return this.selected&&!this.disabled});e(n.optionToData(i))}:"data"in e&&(e.initSelection=e.initSelection||function(n,i){var r=n.val(),s=null;e.query({matcher:function(t,n,i){var a=o(r,e.id(i));return a&&(s=i),a},callback:t.isFunction(i)?function(){i(s)}:t.noop})}),e},getPlaceholder:function(){return this.select&&this.getPlaceholderOption()===e?e:this.parent.getPlaceholder.apply(this,arguments)},setPlaceholder:function(){var t=this.getPlaceholder();if(this.isPlaceholderOptionSelected()&&t!==e){if(this.select&&this.getPlaceholderOption()===e)return;this.selection.find(".select2-chosen").html(this.opts.escapeMarkup(t)),this.selection.addClass("select2-default"),this.container.removeClass("select2-allowclear")}},postprocessResults:function(t,e,n){var i=0,r=this;if(this.findHighlightableChoices().each2(function(t,e){return o(r.id(e.data("select2-data")),r.opts.element.val())?(i=t,!1):void 0}),n!==!1&&(e===!0&&i>=0?this.highlight(i):this.highlight(0)),e===!0){var s=this.opts.minimumResultsForSearch;s>=0&&this.showSearch(T(t.results)>=s)}},showSearch:function(e){this.showSearchInput!==e&&(this.showSearchInput=e,this.dropdown.find(".select2-search").toggleClass("select2-search-hidden",!e),this.dropdown.find(".select2-search").toggleClass("select2-offscreen",!e),t(this.dropdown,this.container).toggleClass("select2-with-searchbox",e))},onSelect:function(t,e){if(this.triggerSelect(t)){var n=this.opts.element.val(),i=this.data();this.opts.element.val(this.id(t)),this.updateSelection(t),this.opts.element.trigger({type:"select2-selected",val:this.id(t),choice:t}),this.nextSearchTerm=this.opts.nextSearchTerm(t,this.search.val()),this.close(),e&&e.noFocus||!this.opts.shouldFocusInput(this)||this.focusser.focus(),o(n,this.id(t))||this.triggerChange({added:t,removed:i})}},updateSelection:function(t){var n,i,r=this.selection.find(".select2-chosen");this.selection.data("select2-data",t),r.empty(),null!==t&&(n=this.opts.formatSelection(t,r,this.opts.escapeMarkup)),n!==e&&r.append(n),i=this.opts.formatSelectionCssClass(t,r),i!==e&&r.addClass(i),this.selection.removeClass("select2-default"),this.opts.allowClear&&this.getPlaceholder()!==e&&this.container.addClass("select2-allowclear")},val:function(){var t,n=!1,i=null,r=this,s=this.data();if(0===arguments.length)return this.opts.element.val();if(t=arguments[0],arguments.length>1&&(n=arguments[1]),this.select)this.select.val(t).find("option").filter(function(){return this.selected}).each2(function(t,e){return i=r.optionToData(e),!1}),this.updateSelection(i),this.setPlaceholder(),n&&this.triggerChange({added:i,removed:s});else{if(!t&&0!==t)return this.clear(n),void 0;if(this.opts.initSelection===e)throw new Error("cannot call val() if initSelection() is not defined");this.opts.element.val(t),this.opts.initSelection(this.opts.element,function(t){r.opts.element.val(t?r.id(t):""),r.updateSelection(t),r.setPlaceholder(),n&&r.triggerChange({added:t,removed:s})})}},clearSearch:function(){this.search.val(""),this.focusser.val("")},data:function(t){var n,i=!1;return 0===arguments.length?(n=this.selection.data("select2-data"),n==e&&(n=null),n):(arguments.length>1&&(i=arguments[1]),t?(n=this.data(),this.opts.element.val(t?this.id(t):""),this.updateSelection(t),i&&this.triggerChange({added:t,removed:n})):this.clear(i),void 0)}}),R=E(V,{createContainer:function(){var e=t(document.createElement("div")).attr({"class":"select2-container select2-container-multi"}).html(["<ul class='select2-choices'>","  <li class='select2-search-field'>","    <label for='' class='select2-offscreen'></label>","    <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' class='select2-input'>","  </li>","</ul>","<div class='select2-drop select2-drop-multi select2-display-none'>","   <ul class='select2-results'>","   </ul>","</div>"].join(""));return e},prepareOpts:function(){var e=this.parent.prepareOpts.apply(this,arguments),n=this;return"select"===e.element.get(0).tagName.toLowerCase()?e.initSelection=function(t,e){var i=[];t.find("option").filter(function(){return this.selected&&!this.disabled}).each2(function(t,e){i.push(n.optionToData(e))}),e(i)}:"data"in e&&(e.initSelection=e.initSelection||function(n,i){var r=a(n.val(),e.separator),s=[];e.query({matcher:function(n,i,a){var l=t.grep(r,function(t){return o(t,e.id(a))}).length;return l&&s.push(a),l},callback:t.isFunction(i)?function(){for(var t=[],n=0;n<r.length;n++)for(var a=r[n],l=0;l<s.length;l++){var c=s[l];if(o(a,e.id(c))){t.push(c),s.splice(l,1);break}}i(t)}:t.noop})}),e},selectChoice:function(t){var e=this.container.find(".select2-search-choice-focus");e.length&&t&&t[0]==e[0]||(e.length&&this.opts.element.trigger("choice-deselected",e),e.removeClass("select2-search-choice-focus"),t&&t.length&&(this.close(),t.addClass("select2-search-choice-focus"),this.opts.element.trigger("choice-selected",t)))},destroy:function(){t("label[for='"+this.search.attr("id")+"']").attr("for",this.opts.element.attr("id")),this.parent.destroy.apply(this,arguments)},initContainer:function(){var e,n=".select2-choices";this.searchContainer=this.container.find(".select2-search-field"),this.selection=e=this.container.find(n);var i=this;this.selection.on("click",".select2-search-choice:not(.select2-locked)",function(){i.search[0].focus(),i.selectChoice(t(this))}),this.search.attr("id","s2id_autogen"+A()),this.search.prev().text(t("label[for='"+this.opts.element.attr("id")+"']").text()).attr("for",this.search.attr("id")),this.search.on("input paste",this.bind(function(){this.isInterfaceEnabled()&&(this.opened()||this.open())})),this.search.attr("tabindex",this.elementTabIndex),this.keydowns=0,this.search.on("keydown",this.bind(function(t){if(this.isInterfaceEnabled()){++this.keydowns;var n=e.find(".select2-search-choice-focus"),i=n.prev(".select2-search-choice:not(.select2-locked)"),r=n.next(".select2-search-choice:not(.select2-locked)"),s=m(this.search);if(n.length&&(t.which==O.LEFT||t.which==O.RIGHT||t.which==O.BACKSPACE||t.which==O.DELETE||t.which==O.ENTER)){var o=n;return t.which==O.LEFT&&i.length?o=i:t.which==O.RIGHT?o=r.length?r:null:t.which===O.BACKSPACE?this.unselect(n.first())&&(this.search.width(10),o=i.length?i:r):t.which==O.DELETE?this.unselect(n.first())&&(this.search.width(10),o=r.length?r:null):t.which==O.ENTER&&(o=null),this.selectChoice(o),g(t),o&&o.length||this.open(),void 0}if((t.which===O.BACKSPACE&&1==this.keydowns||t.which==O.LEFT)&&0==s.offset&&!s.length)return this.selectChoice(e.find(".select2-search-choice:not(.select2-locked)").last()),g(t),void 0;if(this.selectChoice(null),this.opened())switch(t.which){case O.UP:case O.DOWN:return this.moveHighlight(t.which===O.UP?-1:1),g(t),void 0;case O.ENTER:return this.selectHighlighted(),g(t),void 0;case O.TAB:return this.selectHighlighted({noFocus:!0}),this.close(),void 0;case O.ESC:return this.cancel(t),g(t),void 0}if(t.which!==O.TAB&&!O.isControl(t)&&!O.isFunctionKey(t)&&t.which!==O.BACKSPACE&&t.which!==O.ESC){if(t.which===O.ENTER){if(this.opts.openOnEnter===!1)return;if(t.altKey||t.ctrlKey||t.shiftKey||t.metaKey)return}this.open(),(t.which===O.PAGE_UP||t.which===O.PAGE_DOWN)&&g(t),t.which===O.ENTER&&g(t)}}})),this.search.on("keyup",this.bind(function(){this.keydowns=0,this.resizeSearch()})),this.search.on("blur",this.bind(function(e){this.container.removeClass("select2-container-active"),this.search.removeClass("select2-focused"),this.selectChoice(null),this.opened()||this.clearSearch(),e.stopImmediatePropagation(),this.opts.element.trigger(t.Event("select2-blur"))})),this.container.on("click",n,this.bind(function(e){this.isInterfaceEnabled()&&(t(e.target).closest(".select2-search-choice").length>0||(this.selectChoice(null),this.clearPlaceholder(),this.container.hasClass("select2-container-active")||this.opts.element.trigger(t.Event("select2-focus")),this.open(),this.focusSearch(),e.preventDefault()))})),this.container.on("focus",n,this.bind(function(){this.isInterfaceEnabled()&&(this.container.hasClass("select2-container-active")||this.opts.element.trigger(t.Event("select2-focus")),this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"),this.clearPlaceholder())})),this.initContainerWidth(),this.opts.element.addClass("select2-offscreen"),this.clearSearch()},enableInterface:function(){this.parent.enableInterface.apply(this,arguments)&&this.search.prop("disabled",!this.isInterfaceEnabled())},initSelection:function(){if(""===this.opts.element.val()&&""===this.opts.element.text()&&(this.updateSelection([]),this.close(),this.clearSearch()),this.select||""!==this.opts.element.val()){var t=this;this.opts.initSelection.call(null,this.opts.element,function(n){n!==e&&null!==n&&(t.updateSelection(n),t.close(),t.clearSearch())})}},clearSearch:function(){var t=this.getPlaceholder(),n=this.getMaxSearchWidth();t!==e&&0===this.getVal().length&&this.search.hasClass("select2-focused")===!1?(this.search.val(t).addClass("select2-default"),this.search.width(n>0?n:this.container.css("width"))):this.search.val("").width(10)},clearPlaceholder:function(){this.search.hasClass("select2-default")&&this.search.val("").removeClass("select2-default")},opening:function(){this.clearPlaceholder(),this.resizeSearch(),this.parent.opening.apply(this,arguments),this.focusSearch(),""===this.search.val()&&this.nextSearchTerm!=e&&(this.search.val(this.nextSearchTerm),this.search.select()),this.updateResults(!0),this.search.focus(),this.opts.element.trigger(t.Event("select2-open"))},close:function(){this.opened()&&this.parent.close.apply(this,arguments)},focus:function(){this.close(),this.search.focus()},isFocused:function(){return this.search.hasClass("select2-focused")},updateSelection:function(e){var n=[],i=[],s=this;t(e).each(function(){r(s.id(this),n)<0&&(n.push(s.id(this)),i.push(this))}),e=i,this.selection.find(".select2-search-choice").remove(),t(e).each(function(){s.addSelectedChoice(this)}),s.postprocessResults()},tokenize:function(){var t=this.search.val();t=this.opts.tokenizer.call(this,t,this.data(),this.bind(this.onSelect),this.opts),null!=t&&t!=e&&(this.search.val(t),t.length>0&&this.open())},onSelect:function(t,n){this.triggerSelect(t)&&(this.addSelectedChoice(t),this.opts.element.trigger({type:"selected",val:this.id(t),choice:t}),this.nextSearchTerm=this.opts.nextSearchTerm(t,this.search.val()),this.clearSearch(),this.updateResults(),(this.select||!this.opts.closeOnSelect)&&this.postprocessResults(t,!1,this.opts.closeOnSelect===!0),this.opts.closeOnSelect?(this.close(),this.search.width(10)):this.countSelectableResults()>0?(this.search.width(10),this.resizeSearch(),this.getMaximumSelectionSize()>0&&this.val().length>=this.getMaximumSelectionSize()?this.updateResults(!0):this.nextSearchTerm!=e&&(this.search.val(this.nextSearchTerm),this.updateResults(),this.search.select()),this.positionDropdown()):(this.close(),this.search.width(10)),this.triggerChange({added:t}),n&&n.noFocus||this.focusSearch())},cancel:function(){this.close(),this.focusSearch()},addSelectedChoice:function(n){var i,r,s=!n.locked,o=t("<li class='select2-search-choice'>    <div></div>    <a href='#' class='select2-search-choice-close' tabindex='-1'></a></li>"),a=t("<li class='select2-search-choice select2-locked'><div></div></li>"),l=s?o:a,c=this.id(n),u=this.getVal();i=this.opts.formatSelection(n,l.find("div"),this.opts.escapeMarkup),i!=e&&l.find("div").replaceWith("<div>"+i+"</div>"),r=this.opts.formatSelectionCssClass(n,l.find("div")),r!=e&&l.addClass(r),s&&l.find(".select2-search-choice-close").on("mousedown",g).on("click dblclick",this.bind(function(e){this.isInterfaceEnabled()&&(this.unselect(t(e.target)),this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus"),g(e),this.close(),this.focusSearch())})).on("focus",this.bind(function(){this.isInterfaceEnabled()&&(this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"))})),l.data("select2-data",n),l.insertBefore(this.searchContainer),u.push(c),this.setVal(u)},unselect:function(e){var n,i,s=this.getVal();if(e=e.closest(".select2-search-choice"),0===e.length)throw"Invalid argument: "+e+". Must be .select2-search-choice";if(n=e.data("select2-data")){var o=t.Event("select2-removing");if(o.val=this.id(n),o.choice=n,this.opts.element.trigger(o),o.isDefaultPrevented())return!1;for(;(i=r(this.id(n),s))>=0;)s.splice(i,1),this.setVal(s),this.select&&this.postprocessResults();return e.remove(),this.opts.element.trigger({type:"select2-removed",val:this.id(n),choice:n}),this.triggerChange({removed:n}),!0}},postprocessResults:function(t,e,n){var i=this.getVal(),s=this.results.find(".select2-result"),o=this.results.find(".select2-result-with-children"),a=this;s.each2(function(t,e){var n=a.id(e.data("select2-data"));r(n,i)>=0&&(e.addClass("select2-selected"),e.find(".select2-result-selectable").addClass("select2-selected"))}),o.each2(function(t,e){e.is(".select2-result-selectable")||0!==e.find(".select2-result-selectable:not(.select2-selected)").length||e.addClass("select2-selected")}),-1==this.highlight()&&n!==!1&&a.highlight(0),!this.opts.createSearchChoice&&!s.filter(".select2-result:not(.select2-selected)").length>0&&(!t||t&&!t.more&&0===this.results.find(".select2-no-results").length)&&x(a.opts.formatNoMatches,"formatNoMatches")&&this.results.append("<li class='select2-no-results'>"+$(a.opts.formatNoMatches,a.search.val())+"</li>")},getMaxSearchWidth:function(){return this.selection.width()-l(this.search)},resizeSearch:function(){var t,e,n,i,r,s=l(this.search);t=w(this.search)+10,e=this.search.offset().left,n=this.selection.width(),i=this.selection.offset().left,r=n-(e-i)-s,t>r&&(r=n-s),40>r&&(r=n-s),0>=r&&(r=t),this.search.width(Math.floor(r))},getVal:function(){var t;return this.select?(t=this.select.val(),null===t?[]:t):(t=this.opts.element.val(),a(t,this.opts.separator))},setVal:function(e){var n;this.select?this.select.val(e):(n=[],t(e).each(function(){r(this,n)<0&&n.push(this)}),this.opts.element.val(0===n.length?"":n.join(this.opts.separator)))},buildChangeDetails:function(t,e){for(var e=e.slice(0),t=t.slice(0),n=0;n<e.length;n++)for(var i=0;i<t.length;i++)o(this.opts.id(e[n]),this.opts.id(t[i]))&&(e.splice(n,1),n>0&&n--,t.splice(i,1),i--);return{added:e,removed:t}},val:function(n,i){var r,s=this;if(0===arguments.length)return this.getVal();if(r=this.data(),r.length||(r=[]),!n&&0!==n)return this.opts.element.val(""),this.updateSelection([]),this.clearSearch(),i&&this.triggerChange({added:this.data(),removed:r}),void 0;if(this.setVal(n),this.select)this.opts.initSelection(this.select,this.bind(this.updateSelection)),i&&this.triggerChange(this.buildChangeDetails(r,this.data()));else{if(this.opts.initSelection===e)throw new Error("val() cannot be called if initSelection() is not defined");this.opts.initSelection(this.opts.element,function(e){var n=t.map(e,s.id);s.setVal(n),s.updateSelection(e),s.clearSearch(),i&&s.triggerChange(s.buildChangeDetails(r,s.data()))})}this.clearSearch()},onSortStart:function(){if(this.select)throw new Error("Sorting of elements is not supported when attached to <select>. Attach to <input type='hidden'/> instead.");this.search.width(0),this.searchContainer.hide()},onSortEnd:function(){var e=[],n=this;this.searchContainer.show(),this.searchContainer.appendTo(this.searchContainer.parent()),this.resizeSearch(),this.selection.find(".select2-search-choice").each(function(){e.push(n.opts.id(t(this).data("select2-data")))}),this.setVal(e),this.triggerChange()},data:function(e,n){var i,r,s=this;return 0===arguments.length?this.selection.children(".select2-search-choice").map(function(){return t(this).data("select2-data")}).get():(r=this.data(),e||(e=[]),i=t.map(e,function(t){return s.opts.id(t)}),this.setVal(i),this.updateSelection(e),this.clearSearch(),n&&this.triggerChange(this.buildChangeDetails(r,this.data())),void 0)}}),t.fn.select2=function(){var n,i,s,o,a,l=Array.prototype.slice.call(arguments,0),c=["val","destroy","opened","open","close","focus","isFocused","container","dropdown","onSortStart","onSortEnd","enable","disable","readonly","positionDropdown","data","search"],u=["opened","isFocused","container","dropdown"],h=["val","data"],p={search:"externalSearch"};return this.each(function(){if(0===l.length||"object"==typeof l[0])n=0===l.length?{}:t.extend({},l[0]),n.element=t(this),"select"===n.element.get(0).tagName.toLowerCase()?a=n.element.prop("multiple"):(a=n.multiple||!1,"tags"in n&&(n.multiple=a=!0)),i=a?new window.Select2["class"].multi:new window.Select2["class"].single,i.init(n);else{if("string"!=typeof l[0])throw"Invalid arguments to select2 plugin: "+l;if(r(l[0],c)<0)throw"Unknown method: "+l[0];if(o=e,i=t(this).data("select2"),i===e)return;if(s=l[0],"container"===s?o=i.container:"dropdown"===s?o=i.dropdown:(p[s]&&(s=p[s]),o=i[s].apply(i,l.slice(1))),r(l[0],u)>=0||r(l[0],h)&&1==l.length)return!1}}),o===e?this:o},t.fn.select2.defaults={width:"copy",loadMorePadding:0,closeOnSelect:!0,openOnEnter:!0,containerCss:{},dropdownCss:{},containerCssClass:"",dropdownCssClass:"",formatResult:function(t,e,n,i){var r=[];return y(t.text,n.term,r,i),r.join("")},formatSelection:function(t,n,i){return t?i(t.text):e},sortResults:function(t){return t},formatResultCssClass:function(t){return t.css},formatSelectionCssClass:function(){return e},formatMatches:function(t){return t+" results are available, use up and down arrow keys to navigate."},formatNoMatches:function(){return"No matches found"},formatInputTooShort:function(t,e){var n=e-t.length;return"Please enter "+n+" or more character"+(1==n?"":"s")},formatInputTooLong:function(t,e){var n=t.length-e;return"Please delete "+n+" character"+(1==n?"":"s")},formatSelectionTooBig:function(t){return"You can only select "+t+" item"+(1==t?"":"s")},formatLoadMore:function(){return"Loading more results…"},formatSearching:function(){return"Searching…"},minimumResultsForSearch:0,minimumInputLength:0,maximumInputLength:null,maximumSelectionSize:0,id:function(t){return t==e?null:t.id},matcher:function(t,e){return i(""+e).toUpperCase().indexOf(i(""+t).toUpperCase())>=0},separator:",",tokenSeparators:[],tokenizer:P,escapeMarkup:_,blurOnChange:!1,selectOnBlur:!1,adaptContainerCssClass:function(t){return t},adaptDropdownCssClass:function(){return null},nextSearchTerm:function(){return e},searchInputPlaceholder:"",createSearchChoicePosition:"top",shouldFocusInput:function(t){return t.opts.minimumResultsForSearch<0?!1:!0}},t.fn.select2.ajaxDefaults={transport:t.ajax,params:{type:"GET",cache:!1,dataType:"json"}},window.Select2={query:{ajax:C,local:S,tags:k},util:{debounce:h,markMatch:y,escapeMarkup:_,stripDiacritics:i},"class":{"abstract":V,single:I,multi:R}}}}(jQuery),function(){var t,e=function(t,e){return function(){return t.apply(e,arguments)}},n=[].slice;t=function(){function t(t,n,i){this.$select=t,this.tagsPath=n,this.softwarePath=i,this.redirectToTagName=e(this.redirectToTagName,this),this.changed=e(this.changed,this),this.tagSearchAjaxSettings=e(this.tagSearchAjaxSettings,this),this.setupBindings=e(this.setupBindings,this)}return t.prototype.location=window.location,t.prototype.multiple=!0,t.prototype.setup=function(){return this.setupSearchBox(),this.setupBindings()},t.prototype.setupBindings=function(){return this.$select.on("change",this.changed)},t.prototype.setupSearchBox=function(){return this.$select.select2(this.options())},t.prototype.options=function(){return $.extend(this.baseOptions(),this.additionalOptions())},t.prototype.additionalOptions=function(){return{}},t.prototype.baseOptions=function(){return{multiple:this.multiple,maximumSelectionSize:1,ajax:this.tagSearchAjaxSettings(),formatSelection:this.formatSelection,formatResult:this.formatResult,id:this.id}},t.prototype.tagSearchAjaxSettings=function(){return{url:this.tagsPath,cache:!0,quietMillis:100,data:this.formatData,results:this.formatResults}},t.prototype.formatSelection=function(t){return this.escapeMarkup(t.name)},t.prototype.formatResult=function(t){return $("<div/>").text(t.name)},t.prototype.id=function(t){return t.slug},t.prototype.formatData=function(t,e){return{tag:t,page:e}},t.prototype.formatResults=function(t){return{results:t.tags,more:t.more}},t.prototype.changed=function(t){return this.trackAndRedirect(t.val[0])},t.prototype.trackAndRedirect=function(t){return this.tagName=t,window.mixpanel.track("Specific Tag Search",{"Tag Name":this.tagName},this.redirectToTagName)},t.prototype.redirectToTagName=function(){return this.location.assign(""+this.softwarePath+this.tagName)},t.setup=function(){var t;return t=1<=arguments.length?n.call(arguments,0):[],function(t,e,n){n.prototype=t.prototype;var i=new n,r=t.apply(i,e);return Object(r)===r?r:i}(this,t,function(){}).setup()},t}(),this.CP.TagSearch=t}.call(this),function(){var t;t=function(){function t(t,e){this.$select=t,this.tagsPath=e}return t.prototype.setup=function(){return this.$select.select2({multiple:!0,tokenSeparators:[","],ajax:{url:this.tagsPath,cache:!0,quietMillis:100,data:function(t,e){return{tag:t,page:e,original:!0}},results:function(t){return{results:t.tags,more:t.more}}},createSearchChoice:this.createSearchChoice,initSelection:this.initSelection,formatSelection:function(t){var e;return e=this.escapeMarkup(t.name),'<span class="label">'+e+"</span>"},formatResult:function(t){return $("<div/>").text(t.name)},id:function(t){return t.name}}),this.$select.closest("form").find("input[type='reset']").on("click",function(t){return function(){return t.$select.select2("val","")}}(this))},t.prototype.createSearchChoice=function(t,e){return 0===$(e).filter(function(){return 0===this.name.localeCompare(t)}).length?{name:t}:void 0},t.prototype.initSelection=function(t,e){var n,i;return n=t.val(),"[]"===n?t.val(""):(i=n.split(/,/),e($.map(i,function(t){return t=$.trim(t),{name:t}})))},t.setup=function(t,e){return new this(t,e).setup()},t}(),this.CP.TagTextField=t}.call(this),function(){var t,e=function(t,e){return function(){return t.apply(e,arguments)}};t=function(){function t(t,n){this.$list=t,this.postUrl=n,this.update=e(this.update,this),this.setupSortable=e(this.setupSortable,this),this.setup=e(this.setup,this)}return t.prototype.setup=function(){return this.setupSortable(),this},t.prototype.setupSortable=function(){return this.$list.sortable({items:"li",update:this.update})},t.prototype.update=function(){var t;return t=this.$list.sortable("serialize",{attribute:"data-id"}),$.ajax({url:this.postUrl,data:t,type:"post"})},t.setup=function(t,e){return new this(t,e).setup()},t}(),CP.SortableSorter=t}.call(this),function(){var t,e,n=function(t,e){function n(){this.constructor=t}for(var r in e)i.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;t=function(){function t(t){$(t).each(function(){return new CP.Home.EditableContributionView({el:this})})}return t}(),e=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return n(e,t),e.prototype.events={'click [data-contribution="edit"]':"edit",'submit [data-contribution="form"]':"save",'click [data-contribution="cancel"]':"cancel"},e.prototype.initialize=function(t){return null==t&&(t={}),this.setupVariables(),this.cacheContribution(),this.$textarea.on("focus",function(t){return function(){return t.$textarea.addClass("opened")}}(this)),this.$textarea.on("blur",function(t){return function(){return t.$textarea.toggleClass("opened",!!t.$textarea.val())}}(this)),this.listenTo(this,"show",this.showView),this.listenTo(this,"edit",this.editView),this.listenTo(this,"update",this.update)},e.prototype.setupVariables=function(){return this.$contribution=this.$el.find('[data-contribution="contribution"]'),this.$edit=this.$el.find('[data-contribution="edit"]'),this.$form=this.$el.find('[data-contribution="form"]'),this.$saveButton=this.$form.find("input:submit"),this.$textarea=this.$form.find("textarea"),this.$cancel=this.$form.find('[data-contribution="cancel"]')},e.prototype.edit=function(t){return t.preventDefault(),this.trigger("edit")},e.prototype.save=function(t){var e;return t.preventDefault(),this.trigger("update",this.formattedTextareaValue(),!1),this.cacheContribution(),this.disableButton(),e=$.ajax({url:this.$form.attr("action"),data:this.$form.serialize(),type:"POST",dataType:"json"}),e.then(_.bind(this.onSuccessfulUpdate,this)),e.always(_.bind(this.enableButton,this)),e.fail(function(t){return function(){return t.trigger("edit")}}(this))},e.prototype.onSuccessfulUpdate=function(t){return this.trigger("update",t.software_member.contribution,!0),null!=t.event?mixpanel.track(t.event.title,t.event.properties):void 0},e.prototype.cancel=function(t){return t.preventDefault(),("function"==typeof this.noContribution?this.noContribution():void 0)?(this.$textarea.val(""),this.$textarea.blur()):this.trigger("show")},e.prototype.update=function(t,e){return null==e&&(e=!1),t=$.trim(t),this.$contribution.html(""),t&&"<p></p>"!==t?(e?this.$contribution.html(t):this.$contribution.text(t),this.trigger("show")):this.$textarea.blur()},e.prototype.showView=function(){return("function"==typeof this.noContribution?this.noContribution():void 0)?!1:(this.$form.hide(),this.$contribution.show(),this.$edit.show())},e.prototype.editView=function(){return this.$edit.hide(),this.$contribution.hide(),this.restoreCachedContribution(),this.$form.show(),this.$textarea.addClass("opened")},e.prototype.restoreCachedContribution=function(){return this.$textarea.val(this.$contribution.data("contribution"))},e.prototype.cacheContribution=function(){return this.$contribution.data("contribution",this.$textarea.val())},e.prototype.noContribution=function(){return!this.$contribution.html()},e.prototype.formattedTextareaValue=function(){return"<p>"+this.$textarea.val().replace(/\r?\n/g,"<br />")+"</p>"},e.prototype.disableButton=function(){return this.$saveButton.attr("disabled","disabled")},e.prototype.enableButton=function(){return this.$saveButton.removeAttr("disabled")},e}(Backbone.View),this.CP.Home.EditableContribution=t,this.CP.Home.EditableContributionView=e}.call(this),function(){var t;t=function(){function t(t){this.software_ids=t,this.awardFeaturedRibbons()}return t.prototype.awardFeaturedRibbons=function(){var t;return t=$.each(this.software_ids,function(t){return function(e,n){var i;return i=$("#software_"+n+", #submission_"+n),i.length?t.awardFeaturedRibbon(i):void 0}}(this))},t.prototype.awardFeaturedRibbon=function(t){return t.find(".entry-badge").append(this.featuredRibbon(t))},t.prototype.featuredRibbon=function(t){return $("<img>").attr({src:this.ribbonImg(t),alt:"Featured"})},t.prototype.ribbonImg=function(t){var e;return e="featured-ribbon",this.isWinner(t)||(e+="-small"),"/assets/shared/software/"+e+".png"},t.prototype.isWinner=function(t){return!!t.find(".entry-badge .winner").length},t.setup=function(e){return new t(e)},t}(),this.CP.Home.FeaturedSoftware=t}.call(this),function(){var t,e;this.CP.Home.SoftwareSearch={},e=this.CP.Home.SoftwareSearch,t=function(){function t(){_.extend(this,Backbone.Events)}return t.prototype.start=function(t){return this.userSignedIn=t,new e.SearchAppView},t.prototype.controller={help:function(){return this.helpbox||(this.helpbox=new e.SearchHelpboxView),this.helpbox.render()}},t}(),e.app=new t}.call(this),function(){var t;t=this.CP.Home.SoftwareSearch,t.ResultViewMixin={tagName:"li",onSelectEvent:null,events:{click:"onClick"},open:function(){return setTimeout(function(t){return function(){return t.openWithoutDelay()}}(this),200),this.triggerSelectEvent(),!0},openWithoutDelay:function(){return window.location=this.url()},render:function(){return this.$el.html(this.template(this.toJSON())),this},triggerSelectEvent:function(){return this.onSelectEvent?this.collection.trigger("select:"+this.onSelectEvent,this.selectOptions()):void 0},toJSON:function(){return this.model.toJSON()},select:function(){return this.$el.addClass("selected")},unselect:function(){return this.$el.removeClass("selected")},selectOptions:function(){return{}}}}.call(this),function(){var t;t=this.CP.Home.SoftwareSearch,t.ResultsViewMixin={views:[],selectedView:null,selectedIndex:null,lastQuery:null,titleTemplate:JST["home/templates/software/search/results_title"],render:function(){return this.resetCollection(),this.results.isEmpty()?this.noResultsTemplate&&this.$el.append(this.noResultsTemplate):(this.renderTitle(),this.results.each(_.bind(this.renderResult,this))),this.trigger("render:done"),this.trigger("resize"),this},renderResult:function(t){var e;return e=new this.resultView({model:t,collection:this}),this.views.push(e),this.$el.append(e.render().el)},select:function(){return this.selectedView.open()},reset:function(){return this.resetCollection(),this.results.reset(void 0,{silent:!0}),this.lastQuery=null,this.trigger("resize")},resetCollection:function(){return this.resetSelection(),this.$el.empty(),this.views=[]},resetSelection:function(t){return null==t&&(t={}),this.selectedView&&(this.selectedView.unselect(),this.selectedView=null,t.silent||this.trigger("select:reset",this)),this.selectedIndex=null,!0},selectViewAt:function(t){return this.selectedView&&this.selectedView.unselect(),this.selectedIndex=t,this.selectedView=this.views[this.selectedIndex],this.selectedView.select(),this.trigger("select:change",this,this.selectedView.selectOptions())},next:function(){return this.move(1)},prev:function(){return this.move(-1)},move:function(t){if(!this.results.isEmpty()){if("function"==typeof this.emptySelection?this.emptySelection():void 0){switch(t){case 1:this.selectFirstResult();break;case-1:this.selectLastResult()}return!0}return this.selectedIndex+=t,("function"==typeof this.indexOutOfBounds?this.indexOutOfBounds():void 0)?this.resetSelection({silent:!0}):this.selectViewAt(this.selectedIndex),!("function"==typeof this.emptySelection?this.emptySelection():void 0)}},emptySelection:function(){return null===this.selectedView},indexOutOfBounds:function(){return this.selectedIndex<0||this.selectedIndex>this.viewCount()-1},selectFirstResult:function(){return this.selectViewAt(0)},selectLastResult:function(){return this.selectViewAt(this.viewCount()-1)},requestStart:function(){return this.trigger("fetch:start")},fetchResults:function(t){return this.abortPreviousRequest(),this.request=this.results.fetch(_.extend(this.fetchCallbacks(t),this.fetchOptions(t)))},fetchCallbacks:function(t){return{complete:function(e){return function(){return e.trigger("fetch:complete",t)}}(this),success:function(e){return function(){return e.trigger("fetch:success",t)}}(this),error:function(e){return function(){return e.trigger("fetch:error",t)}}(this)}},abortPreviousRequest:function(){return this.request?_.contains([1,2,3],this.request.readyState)?this.request.abort():void 0:void 0},cacheLastQuery:function(t){return t=$.trim(t),this.lastQuery===t?!1:(this.lastQuery=t,!0)},callToActionText:function(){return this.selectedView.callToActionText},renderTitle:function(){return this.$el.html(this.titleTemplate({title:this.title}))},resultCount:function(){return this.results.length},viewCount:function(){return this.views.length},height:function(){return this.$el.outerHeight()},observes:function(t,e){return _.each(e,function(e){return function(n,i){return e.listenTo(t,i,n)}}(this))}}}.call(this),function(){var t,e;t=this.CP.Home.SoftwareSearch,t.SearchInputView=Backbone.View.extend({el:"[data-cp-search=query]",operators:{tag:"#",user:"@",is:"is:",has:"has:"},events:{keydown:"navigate",keyup:"onChange",focus:"onFocus",blur:"onBlur",click:"onChange"},initialize:function(){return this.placeholderText="Search projects by keyword, #tag, @username, and more...",this.writeSlowly(this.placeholderText.length-1),this.$form=this.$el.closest("form"),this.createOperatorTags(),this.valueChanged()},onChange:function(t){return("function"==typeof this.isNavigatingDropdown?this.isNavigatingDropdown(t):void 0)||("function"==typeof this.escapeKeyPressed?this.escapeKeyPressed(t):void 0)||("function"==typeof this.enterKeyPressed?this.enterKeyPressed(t):void 0)?void 0:(this.triggerChange(),this.trackQuery())
},triggerChange:function(){return this.cacheCurrentValue(),this.trigger("change",this.changeEventOptions())},changeEventOptions:function(){return{data:this.serializedData(),currentWord:this.currentWord()}},onFocus:function(){return this.blurTimeout&&clearTimeout(this.blurTimeout),this.trigger("focus",this.changeEventOptions())},onBlur:function(){return this.blurTimeout=setTimeout(function(t){return function(){return document.hasFocus()?t.trigger("blur",{data:t.serializedData()}):void 0}}(this),200)},onSelectionChange:function(t,e){return e.query?this.setTemporaryVal(e.query+" "):this.restoreCachedVal()},onSelectionReset:function(){return this.restoreCachedVal()},setTemporaryVal:function(t){return void 0===this.cachedVal()&&this.cacheCurrentValue(),this.val(t)},restoreCachedVal:function(){return this.val()!==this.cachedVal()?this.val(this.cachedVal()):void 0},cachedVal:function(){return this.$el.data("val")},cacheCurrentValue:function(){return this.$el.data("val",this.val())},focus:function(){return this.$el.focus()},submit:function(t){return t.preventDefault(),this.trigger("select"),this.focus()},navigate:function(t){switch((("function"==typeof this.isNavigatingDropdown?this.isNavigatingDropdown(t):void 0)||("function"==typeof this.escapeKeyPressed?this.escapeKeyPressed(t):void 0))&&t.preventDefault(),t.which){case e.UP:return this.trigger("prev");case e.DOWN:return this.trigger("next");case e.ESC:return this.trigger("escape",_.bind(this.$el.blur,this.$el));case e.ENTER:return this.submit(t)}},serializedData:function(){var t;return t={query:this.query(),order_by:this.$form.find("#cp-search-order").val(),tag_id:this.$form.find("#cp-search-tag").val()},_(t).reduce(function(t,e,n){return e&&(t[n]=e),t},{})},trackQuery:function(){return this.trackQueryTimeout&&clearTimeout(this.trackQueryTimeout),this.trackQueryTimeout=setTimeout(function(t){return function(){return t.trigger("track:query",{query:t.query()})}}(this),1e3)},currentWord:function(){var t,e,n,i;return i=this.val(),e=this.cursorPosition(),t=i.slice(0,e).search(/\S+$/),0>t?"":(n=i.slice(e).search(/\s/),0>n?i.slice(t):i.slice(t,e+n))},cursorPosition:function(){return this.$el[0].selectionEnd},createOperatorTags:function(){var e,n;return n=new t.OperatorTagsView({$input:this.$el}),e={change:n.render,valueChange:n.render,focus:n.render,blur:n.render},_.each(e,function(t){return function(e,i){return n.listenTo(t,i,e)}}(this))},writeSlowly:function(t){var e;return 0>=t?this.$el.attr("placeholder",this.placeholderText):(e=function(){switch(t){case 29:case 12:return 150;default:return 20}}(),setTimeout(function(e){return function(){return e.$el.attr("placeholder",e.placeholderText.slice(0,-t)+"|"),e.writeSlowly(t-1)}}(this),e))},isNavigatingDropdown:function(t){return-1!==$.inArray(t.which,[e.UP,e.DOWN])},escapeKeyPressed:function(t){return t.which===e.ESC},sKeyPressed:function(t){return t.which===e.S_KEY},enterKeyPressed:function(t){return t.which===e.ENTER},update:function(t){return this.restoreCachedVal(),t?(this.val($.trim(this.val()+" "+t.get("query"))),this.triggerChange()):void 0},valueChanged:function(){return this.trigger("valueChange",this.changeEventOptions())},val:function(t){return null==t&&(t=null),null!=t?(this.$el.val(t),this.valueChanged()):this.$el.val()},query:function(){return this.val()}}),e={ENTER:13,UP:38,DOWN:40,LEFT:37,RIGHT:39,ESC:27,CTRL:17,CMD:91,OPT:18,S_KEY:83}}.call(this),function(){var t;t=this.CP.Home.SoftwareSearch,t.OperatorTagsView=Backbone.View.extend({el:"[data-cp-search='operator-tags']",val:null,currentWord:null,operatorsClasses:{"@":"at-operator","#":"hashtag-operator","tag:":"hashtag-operator","has:":"has-operator","is:":"is-operator"},entityMap:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"},initialize:function(t){return this.$content=this.$el.find("#operator-tags-content"),this.$input=t.$input,this.updateMaxWidth(),$(window).on("resize",_.bind(this.onResize,this))},render:function(t){var e,n,i;return n=[t.data.query,t.currentWord],i=n[0],e=n[1],i?(this.valChanged=this.cacheVal(i),this.currentWordChanged=this.cacheCurrentWord(e),!this.valChanged&&this.currentWordChanged?this.renderCurrentWord():this.renderHtml(this.queryWithTags(this.escapeHtml(i)))):this.reset()},escapeHtml:function(t){return String(t).replace(/[&<>"'\/]/g,function(t){return function(e){return t.entityMap[e]}}(this))},renderCurrentWord:function(){return this.$content.find(".current").removeClass("current"),("function"==typeof this.currentWordIsOperator?this.currentWordIsOperator():void 0)?this.highlightCurrentOperator():void 0},queryWithTags:function(t){return _.each(this.operatorsClasses,function(e,n){return t=t.replace(new RegExp("(^|\\s)("+n+")(\\S*)","g"),"$1<span class='"+e+"'>$2$3</span>")}),t},highlightCurrentOperator:function(){var t;if("function"==typeof this.currentWordIsOperator?this.currentWordIsOperator():void 0)return t=this,this.$content.find("span").filter(function(){return this.innerHTML===t.currentWord}).addClass("current")},reset:function(){return this.$content.html(""),this.val=null,this.currentWord=null},cacheVal:function(t){return t=$.trim(t),this.val===t?!1:this.val=t},cacheCurrentWord:function(t){return this.currentWord===t?!1:(this.currentWord=t,!0)},currentWordIsOperator:function(){var t;return t=_.findWhere(this.operators(),function(t){return function(e){return 0===t.currentWord.indexOf(e)}}(this)),!!t},renderHtml:function(t){return this.$content.html(t),("function"==typeof this.overflow?this.overflow():void 0)?this.reset():this.highlightCurrentOperator()},overflow:function(){return this.$content.width()>this.maxWidth},escapeRegExp:function(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},operators:function(){return this._operators||(this._operators=_.keys(this.operatorsClasses))},updateMaxWidth:function(){return this.maxWidth=this.$input.width()},onResize:function(){return clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(function(t){return function(){return t.updateMaxWidth(),("function"==typeof t.overflow?t.overflow():void 0)?t.reset():void 0}}(this),50)}})}.call(this),function(){var t;t=this.CP.Home.SoftwareSearch,t.SearchButtonView=Backbone.View.extend({el:"[data-cp-search=button]",events:{click:"onClick"},initialize:function(){return this.on("change",this.render),this.defaultValue=this.$el.val(),this.currentValue=this.defaultValue},onClick:function(t){return t.preventDefault(),this.trigger("click",t)},reset:function(){return this.enable(),this.changeValue(this.defaultValue)},change:function(t){return this.disable(),this.changeValue(this.callToActionText(t))},callToActionText:function(t){return t.callToActionText&&t.callToActionText()||this.defaultValue},changeValue:function(t){return this.currentValue=t,this.trigger("change")},render:function(){return this.$el.val(this.currentValue)},enable:function(){return this.toggleClasses(!0)},disable:function(){return this.toggleClasses(!1)},toggleClasses:function(t){var e;return e=["secondary","primary disabled"],t||e.reverse(),this.$el.addClass(e[0]).removeClass(e[1])}})}.call(this),function(){var t;t=this.CP.Home.SoftwareSearch,t.SearchFooterView=Backbone.View.extend({el:"[data-cp-search=footer]",helpboxSelector:"[data-cp-search=helpbox]",events:{"click a":"openHelpBox"},initialize:function(){return this.helpbox=new t.SearchHelpboxView},openHelpBox:function(e){return e.preventDefault(),t.app.trigger("help")}})}.call(this),function(){var t;t=this.CP.Home.SoftwareSearch,t.SearchHelpboxView=Backbone.View.extend({el:'[data-cp-search="helpbox-overlay"]',events:{"click .close":"close",click:"close","click [data-cp-search=helpbox]":"onHelpboxClick"},contentLoaded:!1,initialize:function(){return this.$body=$("body"),this.url=this.$el.data("url"),this.setupEvents(),this.setupListeners(),("function"==typeof this.renderOnInit?this.renderOnInit():void 0)?this.render():void 0},render:function(){return this.open(),this.contentLoaded?void 0:this.load()},load:function(){return this.trigger("loading:start"),$.ajax({url:this.url,success:function(t){return function(e){return t.$el.append(e),t.trigger("loading:done")}}(this)})},spinner:function(){return this._spinner||(this._spinner=new Spinner({color:"#FFD333",length:5,radius:40,width:10}))},startSpinner:function(){return this.spinner().spin(this.$el.get(0))},stopSpinner:function(){return this.spinner().stop()},open:function(){return this.$el.fadeIn(100),this.$body.addClass("helpbox")},close:function(t){return t&&t.preventDefault(),this.$body.removeClass("helpbox"),this.$el.fadeOut(100)},onHelpboxClick:function(t){return t.stopPropagation()},renderOnInit:function(){return"#search/help"===window.location.hash},setupListeners:function(){return this.listenTo(this,"close",this.close),this.listenTo(this,"loading:done",function(t){return function(){return t.contentLoaded=!0,t.stopSpinner()}}(this)),this.listenTo(this,"loading:start",function(t){return function(){return t.startSpinner()}}(this))},setupEvents:function(){return this.$body.on("keyup",function(t){return function(e){return 27===e.which?t.trigger("close"):void 0}}(this))}}),t.app.on("help",function(){return this.controller.help()})}.call(this),function(){var t;t=this.CP.Home.SoftwareSearch,t.SearchIconView=Backbone.View.extend({el:"[data-cp-search=loader]",template:JST["home/templates/software/search/search_icon"],isNavigating:!1,isLoading:!1,caretUpSelector:".ss-directup",caretDownSelector:".ss-dropdown",initialize:function(){return this.on("change",this.render),this.render()},active:function(){return this},start:function(){return this.setLoadingState(!0)},stop:function(){return this.setLoadingState(!1)},navigate:function(){return this.setNavigationState(!0)},rest:function(){return this.setNavigationState(!1)},prev:function(){return this.highlight(this.$el.find(this.caretUpSelector))},next:function(){return this.highlight(this.$el.find(this.caretDownSelector))},highlight:function(t){return this.isNavigating?(clearTimeout(this.navTimeout),t.css("color","#08C"),this.navTimeout=setTimeout(function(){return t.css("color","#615F5A")},200)):void 0},setNavigationState:function(t){return this.isNavigating=t,this.trigger("change")},setLoadingState:function(t){return this.isLoading=t,this.trigger("change")},toJSON:function(){return{isLoading:this.isLoading,isNavigating:this.isNavigating}},render:function(){return this.$el.html(this.template(this.toJSON()))}})}.call(this),function(){var t;t=this.CP.Home.SoftwareSearch,t.SearchPanelView=Backbone.View.extend({el:"#search-panel",selectedCollectionView:null,events:{click:"onClick"},initialize:function(){return this.softwareResultsView=new t.SoftwareResultsView({searchPanelView:this}),this.tagResultsView=new t.TagResultsView({searchPanelView:this}),this.suggestionResultsView=new t.SuggestionResultsView({searchPanelView:this}),this.collectionViews=[this.suggestionResultsView,this.tagResultsView,this.softwareResultsView],this.$resultsWrapper=this.$el.find("[data-cp-search='results-wrapper']"),this.setupObservers()},open:function(t){var e;return e=t.data,this.$el.slideDown(function(t){return function(){return t.$el.removeClass("hide")}}(this)),this.trigger("open",e)},close:function(){return this.trigger("close"),this.$el.slideUp()},getNextCollection:function(t){var e,n,i,r,s,o,a,l,c;for(s=_.indexOf(this.collectionViews,this.selectedCollectionView)+t,i=this.collectionViews.length,e=1===t?i-1:0,this.selectedCollectionView||(s=1===t?0:i-1),r=o=a=s,l=e,c=t;c>0?l>=o:o>=l;r=o+=c)if((n=this.collectionViews[r])&&n.resultCount())return n},move:function(t){var e;return e=1===t?"next":"prev",this.selectedCollectionView?this.selectedCollectionView[e]()||this.moveToNextCollection(t,e)?void 0:this.trigger("select:reset",this.selectedCollectionView):this.moveToNextCollection(t,e)},moveToNextCollection:function(t,e){var n;return(n=this.getNextCollection(t))?(n[e](),!0):void 0},next:function(){return this.move(1)},prev:function(){return this.move(-1)},reset:function(){return this.trigger("reset")},update:function(t){return this.trigger("update",t)},onSelectionChange:function(t){return this.setSelectedCollectionView(t)},onResetSelection:function(t){return t===this.selectedCollectionView?this.resetSelectedCollectionView():void 0},unselect:function(t){return this.resetSelection()||t()},resetSelection:function(){return this.selectedCollectionView?this.selectedCollectionView.resetSelection():void 0},select:function(){return this.selectedCollectionView?this.selectedCollectionView.select():this.search()},search:function(t){return this.trigger("search",t)},onClick:function(t){return this.trigger("click",t)},setSelectedCollectionView:function(t){return this.selectedCollectionView=t},resetSelectedCollectionView:function(){return this.selectedCollectionView=null},resize:function(){return this.$resultsWrapper.stop().animate({height:this.height()})},height:function(){return _.reduce(this.collectionViews,function(t,e){return t+e.height()},0)},setupObservers:function(){return this.on("resize",this.resize),this.on("select:reset",this.onResetSelection),this.on("select:change",this.onSelectionChange),this.echoEvents([this.softwareResultsView,this.tagResultsView],["fetch:start","fetch:complete","fetch:success","fetch:error","select:change","select:reset","select:viewTagGallery","select:viewSoftware","resize","render","submit","search"]),this.echoEvents([this.suggestionResultsView],["select:change","select:reset","select:suggestion","resize","search"])},echoEvents:function(t,e){return _.each(t,function(t){return function(n){return _.each(e,function(e){return t.listenTo(n,e,_.bind(function(){return Array.prototype.unshift.call(arguments,e),this.trigger.apply(this,arguments)},t))})}}(this))}})}.call(this),function(){var t;t=this.CP.Home.SoftwareSearch,t.SoftwareView=Backbone.View.extend(_.extend({},t.ResultViewMixin,{className:"result software-result clearfix",callToActionText:"Open software",onSelectEvent:"viewSoftware",template:JST["home/templates/software/search/software"],toJSON:function(){return this.model.viewAttributes()},url:function(){return this.model.get("url")},name:function(){return this.model.get("name")},onClick:function(e){return e.preventDefault(),2===e.which||e.metaKey?(window.open(this.url()),t.MixpanelTracker.trackViewSoftware(this.selectOptions())):t.MixpanelTracker.trackViewSoftware(this.selectOptions(),function(t){return function(){return window.location=t.url()}}(this)),!0},selectOptions:function(){return{name:this.name()}}}))}.call(this),function(){var t;t=this.CP.Home.SoftwareSearch,t.SoftwareResultsView=Backbone.View.extend(_.extend({},t.ResultsViewMixin,{el:'[data-cp-search="software-results"]',resultView:t.SoftwareView,noResultsTemplate:"<li><h5>No software projects match your query.</h5></li>",title:"Software projects",initialize:function(e){return this.searchPanelView=e.searchPanelView,this.results=new t.SoftwareResults,this.setupObservers()},setupObservers:function(){return this.observes(this.results,{reset:this.render,request:this.requestStart,viewAll:this.search}),this.observes(this.searchPanelView,{reset:this.reset,update:this.update,open:this.open,close:this.resetSelection}),this.on("render:done",this.displayTotalResults)},update:function(t){var e;return e=t.data,this.typewatch(function(t){return function(){if(e.query){if(!t.cacheLastQuery(e.query))return;return t.fetchResults(e)}return t.reset()}}(this),300)},fetchOptions:function(t){return{reset:!0,data:_.extend({},t,{per_page:this.results.perPage})}},open:function(t){return t.query&&this.results.isEmpty()&&!this.$el.find("li").length?this.fetchResults(t):void 0},search:function(t){return this.trigger("search",t)},displayTotalResults:function(){var e,n;if("function"==typeof(e=this.results).more?e.more():void 0)return n=new t.SoftwareTotalResultsView(this.results),this.views.push(n),this.$el.append(n.render().el)},typewatch:function(){var t;return t=0,function(e,n){return clearTimeout(t),t=setTimeout(e,n)}}()}))}.call(this),function(){var t;t=this.CP.Home.SoftwareSearch,t.SoftwareTotalResultsView=Backbone.View.extend(_.extend({},t.ResultViewMixin,{className:"total-count one-liner",callToActionText:"Search projects",template:JST["home/templates/software/search/software_total_results"],events:{click:"onClick"},initialize:function(t){return this.results=t},onClick:function(t){return t.preventDefault(),this.open()},open:function(){return this.results.trigger("viewAll"),!1},remainingCount:function(){return this.results.remainingCount()},toJSON:function(){return{remainingCount:this.remainingCount()}}}))}.call(this),function(){var t;t=this.CP.Home.SoftwareSearch,t.TagView=Backbone.View.extend(_.extend({},t.ResultViewMixin,{className:"result tag-result clearfix",callToActionText:"Open tag gallery",onSelectEvent:"viewTagGallery",template:JST["home/templates/software/search/tag"],url:function(){return this.$el.find("> a").attr("href")},name:function(){return this.model.get("name")},onClick:function(e){return e.preventDefault(),2===e.which||e.metaKey?(window.open(this.url()),t.MixpanelTracker.trackViewTagGallery(this.selectOptions())):t.MixpanelTracker.trackViewTagGallery(this.selectOptions(),function(t){return function(){return window.location=t.url()}}(this)),!0},selectOptions:function(){return{name:this.name()}}}))}.call(this),function(){var t;t=this.CP.Home.SoftwareSearch,t.TagResultsView=Backbone.View.extend(_.extend({},t.ResultsViewMixin,{el:'[data-cp-search="tag-results"]',resultView:t.TagView,tagOperator:"#",title:"Tag suggestions",initialize:function(e){return this.searchPanelView=e.searchPanelView,this.results=new t.TagResults,this.setupObservers()},setupObservers:function(){return this.observes(this.results,{reset:this.render,request:this.requestStart}),this.observes(this.searchPanelView,{update:this.update,reset:this.reset,close:this.resetSelection})},update:function(t){var e,n,i;return i=[t.data,t.currentWord],n=i[0],e=i[1],this.search(e)},isTag:function(t){return t.charAt(0)===this.tagOperator},fetchOptions:function(t){var e;return e=t.query,{reset:!0,data:{tag:e.substring(1),recognized:!0,per_page:3}}},search:function(t){return this.typewatch(function(e){return function(){if(!("function"==typeof e.isTag?e.isTag(t):void 0))return e.reset();if(e.cacheLastQuery(t))return e.fetchResults({query:t})}}(this),300)},typewatch:function(){var t;return t=0,function(e,n){return clearTimeout(t),t=setTimeout(e,n)}}()}))}.call(this),function(){var t;t=this.CP.Home.SoftwareSearch,t.SuggestionView=Backbone.View.extend(_.extend({},t.ResultViewMixin,{className:"result suggestion-result clearfix one-liner",template:JST["home/templates/software/search/suggestion"],onSelectEvent:"suggestion",onClick:function(t){return t.preventDefault(),this.collection.trigger("search",{query:this.query(),source:"suggestion"})},open:function(){return this.triggerSelectEvent(),!1},selectOptions:function(){return{query:this.query()}},query:function(){return this.model.get("query")}}))}.call(this),function(){var t;t=this.CP.Home.SoftwareSearch,t.SuggestionResultsView=Backbone.View.extend(_.extend({},t.ResultsViewMixin,{el:'[data-cp-search="suggestion-results"]',resultView:t.SuggestionView,title:"Suggestions",initialize:function(e){return this.searchPanelView=e.searchPanelView,this.results=new t.SuggestionResults,this.setupObservers()},setupObservers:function(){return this.observes(this.results,{search:this.search,reset:this.delayedRender}),this.observes(this.searchPanelView,{reset:this.reset,update:this.update,open:this.open})},update:function(t){return this.open(t.data)?void 0:this.reset()},open:function(t){return t.query?(this.reset(),!1):(this.loadSuggestions(),!0)},loadSuggestions:function(){return this.results.loadSuggestions()},delayedRender:function(){return setTimeout(function(t){return function(){return t.render()}}(this),250)},search:function(t){return this.trigger("search",t)}}))}.call(this),function(){var t;t=this.CP.Home.SoftwareSearch,t.FilterView=Backbone.View.extend({tagName:"li",template:JST["home/templates/software/search/filter"],events:{click:"select"},render:function(){return this.$el.html(this.template(this.model.toJSON())),this.$el},query:function(){return this.model.get("query")},select:function(t){return t.preventDefault(),this.trigger("select",this.model)}}),t.FilterHelpItemView=Backbone.View.extend({tagName:"li",template:JST["home/templates/software/search/filter_help_item"],events:{click:"select"},render:function(){return this.$el.html(this.template()),this.$el},select:function(e){return e.preventDefault(),t.app.trigger("help")}})}.call(this),function(){var t;t=this.CP.Home.SoftwareSearch,t.FiltersView=Backbone.View.extend({el:'[data-cp-search="form"] [data-dropdown-content]',initialize:function(){return this.filters=new t.Filters,this.listenTo(this.filters,"reset",this.render),this.filters.load()},render:function(){return this.$el.empty(),this.filters.each(function(e){return function(n){var i;return i=new t.FilterView({model:n,collection:e}),e.listenTo(i,"select",e.filterSelected),e.$el.append(i.render())}}(this)),this.$el.append((new t.FilterHelpItemView).render())},filterSelected:function(t){return this.trigger("filter:selected",t)},close:function(){return Foundation.libs.dropdown.close($("#"+this.$el.attr("id")))}})}.call(this),function(){var t;t=this.CP.Home.SoftwareSearch,t.SearchAppView=Backbone.View.extend({el:"[data-cp-search=base]",events:{click:"onClick"},initialize:function(){return this.searchInputView=new t.SearchInputView,this.searchPanelView=new t.SearchPanelView,this.searchIconView=new t.SearchIconView,this.filtersView=new t.FiltersView,this.searchButtonView=new t.SearchButtonView,this.searchFooterView=new t.SearchFooterView,this.mixpanelTracker=new t.MixpanelTracker,this.setupObservers()},setupObservers:function(){return this.setupInputViewObservers(),this.setupSearchPanelViewObservers(),this.setupSearchButtonViewObservers(),this.setupFiltersViewObservers(),this.setupSearchAppViewObservers(),this.setupTracking()},setupInputViewObservers:function(){return this.observes(this.searchInputView,this.searchPanelView,{prev:"prev",next:"next",blur:"close",focus:"open",escape:"unselect",select:"select",change:"update"}),this.observes(this.searchInputView,this.searchIconView,{next:"next",prev:"prev"}),this.observes(this.searchInputView,this.filtersView,{blur:"close"})},setupSearchPanelViewObservers:function(){return this.observes(this.searchPanelView,this.searchInputView,{click:"focus","select:suggestion":"triggerChange","select:change":"onSelectionChange","select:reset":"onSelectionReset"}),this.observes(this.searchPanelView,this.searchIconView,{"fetch:start":"start","fetch:complete":"stop","select:change":"navigate","select:reset":"rest"}),this.observes(this.searchPanelView,this.searchButtonView,{"select:change":"change","select:reset":"reset"}),this.listenTo(this.searchPanelView,"search",this.search)},setupSearchButtonViewObservers:function(){return this.observes(this.searchButtonView,this.searchInputView,{click:"submit"})},setupFiltersViewObservers:function(){return this.observes(this.filtersView,this.searchInputView,{"filter:selected":"update"})},setupSearchAppViewObservers:function(){return this.observes(this,this.searchInputView,{click:"focus"})},setupTracking:function(){return this.observes(this.searchPanelView,this.mixpanelTracker,{"select:viewSoftware":"trackViewSoftware","select:viewTagGallery":"trackViewTagGallery","select:suggestion":"trackSuggestion"}),this.observes(this.searchInputView,this.mixpanelTracker,{"track:query":"trackAutocompletion"})},onClick:function(t){return this.trigger("click",t)},search:function(t){return t=_.extend(this.searchInputView.serializedData(),t||{}),this.trackFullPageSearch(t),this.viewAllResults(t)},viewAllResults:function(t){return setTimeout(function(){var e,n;return n=$.param(t),n&&(n="?"+n),(e=t.tag_id)?(delete t.tag_id,window.location="/software/built-with/"+e+n):window.location="/software/search"+n},200)},trackFullPageSearch:function(t){return this.mixpanelTracker.trackFullPageSearch({query:t.query})},observes:function(t,e,n){return _.each(n,function(n){return function(i,r){return n.listenTo(t,r,_.bind(e[i],e))}}(this))}})}.call(this),function(){var t;t=this.CP.Home.SoftwareSearch,t.Software=Backbone.Model.extend({fallbackThumbnail:"/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif",visibleTagCount:4,memberList:function(){return this.shortList(this.members(),1,", ")},members:function(){return this.get("members")||[]},photo:function(){return this.get("photo")||this.fallbackThumbnail},viewAttributes:function(){return _.extend(this.toJSON(),{members:this.memberList(),photo:this.photo()})},shortList:function(t,e,n){var i,r,s;return null==n&&(n=", "),t.length>0?(r=t.length-e,t=t.slice(0,e),i="",r>0&&(s=1===r?"":"s",i=" &amp; "+r+" other"+s),t.join(n)+i):""}})}.call(this),function(){var t;t=this.CP.Home.SoftwareSearch,t.Tag=Backbone.Model.extend()}.call(this),function(){var t;t=this.CP.Home.SoftwareSearch,t.Suggestion=Backbone.Model.extend()}.call(this),function(){var t;t=this.CP.Home.SoftwareSearch,t.Filter=Backbone.Model.extend()}.call(this),function(){var t;t=this.CP.Home.SoftwareSearch,t.SoftwareResults=Backbone.Collection.extend({url:"/software/search",model:t.Software,perPage:6,parse:function(t){return this.totalCount=t.total_count,t.software},more:function(){return parseInt(this.totalCount)>this.perPage},remainingCount:function(){return this.totalCount-this.perPage}})}.call(this),function(){var t;t=this.CP.Home.SoftwareSearch,t.TagResults=Backbone.Collection.extend({url:"/tags",model:t.Tag,parse:function(t,e){return null==e&&(e={}),t.tags}})}.call(this),function(){var t;t=this.CP.Home.SoftwareSearch,t.SuggestionResults=Backbone.Collection.extend({model:t.Suggestion,suggestions:[{query:"is:featured",description:"Staff Picks",icon:"heart"},{query:"@me",description:"My software projects",icon:"user",user:!0},{query:"@following is:trending",description:"Trending software from people I'm following",icon:"users",user:!0},{query:"is:winner has:video",description:"Most recent challenge winners, with demo videos",icon:"star"}],visibleSuggestions:function(){return t.app.userSignedIn?this.suggestions:_.reject(this.suggestions,function(t){return t.user})},loadSuggestions:function(){return this.reset(this.visibleSuggestions())}})}.call(this),function(){var t;t=this.CP.Home.SoftwareSearch,t.Filters=Backbone.Collection.extend({model:t.Filter,filters:[{description:"My projects",query:"@me",classes:"user",user:!0},{description:"My friends' projects",query:"@following",classes:"user",user:!0},{description:"Tag",query:"#",classes:"tag"},{description:"Staff Picks",query:"is:featured",classes:"is"},{description:"Winners only",query:"is:winner",classes:"is"},{description:"With demo videos",query:"has:video",classes:"has"},{description:"With a gallery",query:"has:image",classes:"has"}],visibleFilters:function(){return t.app.userSignedIn?this.filters:_.reject(this.filters,function(t){return t.user})},load:function(){return this.reset(this.visibleFilters())}})}.call(this),function(){var t;t=this.CP.Home.SoftwareSearch,t.MixpanelTracker=function(){function e(){}return e.trackViewSoftware=function(e,n){return null==n&&(n=$.noop),(new t.MixpanelTracker).trackViewSoftware(e,n)},e.prototype.trackViewSoftware=function(t,e){return null==e&&(e=$.noop),_.extend(t,{"thumbnail displayed on":"search bar"}),window.mixpanel.track("Software Detail Page",t,e)},e.trackViewTagGallery=function(e,n){return null==n&&(n=$.noop),(new t.MixpanelTracker).trackViewTagGallery(e,n)},e.prototype.trackSuggestion=function(){return window.mixpanel.track("Follow Search suggestion")},e.prototype.trackViewTagGallery=function(t,e){return null==e&&(e=$.noop),_.extend(t,{"Tag displayed on":"search bar"}),window.mixpanel.track("Tag Gallery",t,e)},e.prototype.trackAutocompletion=function(t){return t.query?this.trackSearchEvent("autocompletion",t):void 0},e.prototype.trackFullPageSearch=function(t){return this.trackSearchEvent("view all results",t)},e.prototype.trackSearchEvent=function(t,e){return null==e&&(e={}),window.mixpanel.track("search bar",_.extend({},e,{step:t}))},e}()}.call(this),function(){}.call(this),function(){var t,e,n,i,r,s;s=function(t){var e,n;return n=$.Deferred(),e=$("<img />"),e.load(n.resolve),e.error(n.reject),e.prop("src",t),n.promise()},t=Backbone.View.extend({el:"[data-thumbnail=errors]",attributes:{"class":"software-form-thumbnail-errors","data-thumbnail":"errors"},prefixErrors:function(){var t;return t=$('<li class="software-thumbnail-errors-title"></li>'),this.$el.append(t.text("Something went wrong:"))},renderErrors:function(t){var e,n,i,r;for(this.prefixErrors(),r=[],n=0,i=t.length;i>n;n++)e=t[n],r.push(this.$el.append($("<li/>").text(e)));return r},empty:function(){return this.$el.empty()},render:function(t){return this.empty(),this.renderErrors(t)}}),r=Backbone.View.extend({el:'[data-thumbnail="image-preview"]',initialize:function(e){return this.options=e,this.$softwareThumbnailInput=$("#software-thumbnail-file-input"),this.$thumbnailImage=this.$el.find('[data-thumbnail="image"]'),this.errorView=new t,this.setupUploader(),this.listenToEvents()},listenToEvents:function(){return this.on("thumbnail:removing:true",this.startChanging,this),this.on("thumbnail:removing:false",this.doneChanging,this)},setupUploader:function(){return this.$softwareThumbnailInput.fileupload({type:"POST",dataType:"json",url:this.postUrl(),dropZone:this.options.app.el,formData:null,start:$.proxy(this.start,this),add:$.proxy(this.add,this),done:$.proxy(this.done,this),fail:$.proxy(this.fail,this),pasteZone:null})},start:function(){return this.errorView.empty()},add:function(t,e){return this.startSpin(),this.trigger("thumbnail:uploading"),this.startChanging(),e.submit()},hasError:function(t){var e,n,i;return e=null!=(n=t.photo)?null!=(i=n.errors)?i.data:void 0:void 0,(null!=e?e.length:void 0)>0},done:function(t,e){var n,i,r,s;return s=e.result,this.hasError(s)?this.fail(t,s):(r=s.photo,i=r.links,n=i["photo.thumbnail_url"],this.showNewThumbnail(n))},showNewThumbnail:function(t){return s(t).then(function(e){return function(){return e.$thumbnailImage.attr({src:t}),e.always()}}(this))},always:function(){return this.endSpin(),this.doneChanging()},startChanging:function(){return this.$thumbnailImage.addClass("software-thumbnail-removing")},doneChanging:function(){return this.$thumbnailImage.removeClass("software-thumbnail-removing")},fail:function(t,e){var n;return n=e.photo.errors.data,this.errorView.render(n),this.always()},startSpin:function(){return null==this.spinner&&(this.spinner=new Spinner({lines:11,length:32,width:10,radius:30,corners:1,rotate:0,direction:1,color:"#000",speed:1,trail:60,hwaccel:!0,className:"spinner",zIndex:2e9,top:"50%",left:"50%"})),this.spinner.spin(this.$thumbnailImage.parent()[0])},endSpin:function(){var t;return null!=(t=this.spinner)?t.stop():void 0},postUrl:function(){return this.$softwareThumbnailInput.data("photoUploadAction")}}),i=Backbone.View.extend({el:'[data-thumbnail="remove"]',events:{'change [data-thumbnail="remove-checkbox"]':"toggleRemovingClass",'change [data-thumbnail="remove-checkbox"]':"switchMessages"},initialize:function(){return this.$keepingMessage=this.$el.find('[data-thumbnail="keeping-message"]'),this.$removingMessage=this.$el.find('[data-thumbnail="removing-message"]'),this.$checkbox=this.$el.find('[data-thumbnail="remove-checkbox"]'),this.listenToEvents()},listenToEvents:function(){return this.on("thumbnail:uploading",this.uncheckRemove,this)},isRemoving:function(){return this.$checkbox.prop("checked")},switchMessages:function(){return this.$keepingMessage.toggle(!this.isRemoving()),this.$removingMessage.toggle(this.isRemoving()),this.toggleRemovingClass()},toggleRemovingClass:function(){return this.trigger("change")},uncheckRemove:function(){return this.$checkbox.prop("checked",!1),this.$checkbox.change()}}),n=Backbone.View.extend({el:"[data-thumbnail=attributes]",initialize:function(){var t,e,n,i;return t=this.$el.find("[data-thumbnail=name]"),i=this.$el.find("[data-thumbnail=tagline]"),e=$("#software_name"),n=$("#software_tagline"),e.on("keyup change",function(){return function(){return t.text(e.val())}}(this)),n.on("keyup change",function(){return function(){return i.text(n.val())}}(this))}}),e=Backbone.View.extend({el:"[data-thumbnail=container]",initialize:function(){return this.thumbnailAttributes=new n({app:this}),this.thumbnailRemover=new i({app:this}),this.thumbnailImage=new r({app:this}),this.listenToEvents()},listenToEvents:function(){return this.listenTo(this.thumbnailRemover,"change",this.dispatchRemovingIntent),this.listenTo(this.thumbnailImage,"thumbnail:uploading",this.dispatchUploadingIntent)},dispatchRemovingIntent:function(){return this.thumbnailImage.trigger("thumbnail:removing:"+this.thumbnailRemover.isRemoving())
},dispatchUploadingIntent:function(){return this.thumbnailRemover.trigger("thumbnail:uploading")}}),this.CP.Home.softwareFormLiveThumbnail=function(){return new e}}.call(this),function(){var t;t=function(){function t(t){this.$urls=$(t),this.$form=this.$urls.closest("form")}return t.prototype.setup=function(){return this.hideRemoveUrlButton(),this.setupCocoonEvents(),this.setupOnSubmitEvent(),this},t.prototype.setupCocoonEvents=function(){return this.$urls.on("cocoon:after-insert",function(t){return function(){return t.removeRequiredUrlError(),t.showRemoveUrlButton()}}(this)),this.$urls.on("cocoon:after-remove",function(t){return function(){return t.hideRemoveUrlButton()}}(this))},t.prototype.setupOnSubmitEvent=function(){return this.$form.on("submit",function(t){return function(){return $.each(t.$nestedUrlsFields(),function(t,e){var n;return n=$(e),n.find("input.url").val()?void 0:n.find("input[type=hidden]").val(!0)})}}(this))},t.prototype.removeRequiredUrlError=function(){return this.$urls.closest(".fieldWithErrors").removeClass("fieldWithErrors").find("> .errors").remove()},t.prototype.hideRemoveUrlButton=function(){return this.urlCount()<=1?this.$urls.addClass("immutable"):void 0},t.prototype.showRemoveUrlButton=function(){return this.urlCount()>1?this.$urls.removeClass("immutable"):void 0},t.prototype.urlCount=function(){return this.$nestedUrlsFields().length},t.prototype.$nestedUrlsFields=function(){return this.$urls.find("> .nested-fields:visible")},t.setup=function(e){return new t(e).setup()},t}(),this.CP.Home.SoftwareFormUrls=t}.call(this),function(){var t,e=function(t,e){return function(){return t.apply(e,arguments)}};t=function(){function t(t){this.enhanceLink=e(this.enhanceLink,this),this.$links=$(t).find("a")}return t.prototype.supportedSites=[{domain:"github.com",icon:"ss-social ss-octocat",text:"GitHub Repo"},{domain:"itunes.apple.com",icon:"ss-social-regular ss-apple",text:"App Store"},{domain:"play.google.com",icon:"ss-social-regular ss-android",text:"Google Play Store"},{domain:"dribbble.com",icon:"ss-social-regular ss-dribbble",text:"Dribbble"},{domain:"behance.net",icon:"ss-social-regular ss-behance",text:"Behance"},{domain:"windows.microsoft.com",icon:"ss-social-regular ss-microsoft",text:"Windows Store"}],t.prototype.enhance=function(){return $.each(this.$links,this.enhanceLink)},t.prototype.enhanceLink=function(t,e){var n,i,r;return n=$(e),r=n.attr("href"),(i=this.findSupportedSiteByDomain(this.domain(r)))?n.find("span").text(i.text).end().find("i").removeClass("ss-link").addClass(i.icon):void 0},t.prototype.findSupportedSiteByDomain=function(t){var e;if(t)return e=$.grep(this.supportedSites,function(e){return t.match(e.domain)}),e[0]},t.prototype.domain=function(t){var e,n;return n=t.match(/^https?\:\/\/([^\/?#]+)(?:[\/?#]|$)/i),e=n&&n[1]},t}(),this.CP.Home.SoftwareLinks=t}.call(this),function(){var t,e,n,i=[].slice;t=function(t){return"number"!=typeof t?"":t>=1e9?(t/1e9).toFixed(2)+" GB":t>=1e6?(t/1e6).toFixed(2)+" MB":t>=1e3?(t/1e3).toFixed(2)+" KB":t+" B"},n={fileSize:t},e=function(){var t,e,r;return r=arguments[0],t=2<=arguments.length?i.call(arguments,1):[],e=n[r]||function(){throw r+" not defined in $.formatNumber"}(),e.apply(null,t)},$.extend(!0,{formatNumber:e})}.call(this),function(){var t,e=function(t,e){return function(){return t.apply(e,arguments)}};t=function(){function t(t,n){this.$uploader=t,this.$container=n,this.doneSuccessfully=e(this.doneSuccessfully,this),this.doneWithErrors=e(this.doneWithErrors,this),this.fileFromData=e(this.fileFromData,this),this.deleteFile=e(this.deleteFile,this),this.fail=e(this.fail,this),this.done=e(this.done,this),this.always=e(this.always,this),this.add=e(this.add,this),this.setupDropZone=e(this.setupDropZone,this),this.setupBindings=e(this.setupBindings,this),this.setupUploader=e(this.setupUploader,this),this.setup=e(this.setup,this),this.setVariables()}return t.prototype.formData=[{name:"authenticity_token",value:$('meta[name="csrf-token"]').attr("content")}],t.prototype.classForImage="panel",t.prototype.path="/photos",t.prototype.objectName="submission",t.prototype.setVariables=function(){return this.$dropzone=this.$container.find("[data-image-gallery-dropzone]"),this.$fileInput=this.$container.find("[data-image-gallery-choose-file]"),this.$files=this.$container.find("[data-image-gallery-list]")},t.prototype.setup=function(){return this.$uploader.hide(),this.setupUploader(),this.setupBindings(),this.setupDropZone()},t.prototype.setupUploader=function(){return this.$uploader.fileupload({add:this.add,always:this.always,done:this.done,dropZone:this.$container,pasteZone:null,fail:this.fail,fileInput:this.$fileInput,formData:this.formData,type:"POST",url:this.path})},t.prototype.setupBindings=function(){return this.$container.on("click","a[data-method='delete']",this.deleteFile)},t.prototype.setupDropZone=function(){var t;return $(document).bind("drop dragover",function(t){return function(e){return t.$dropzone.hide(),e.preventDefault()}}(this)),t=0,$(document).on("dragover",function(e){return function(){return e.$dropzone.show(),window.clearTimeout(t)}}(this)),$(document).on("dragleave",function(e){return function(){return window.clearTimeout(t),t=window.setTimeout(function(){return e.$dropzone.hide()},85)}}(this))},t.prototype.add=function(t,e){var n,i,r;return n=e.files[0],i=this.newFileEntry(n),this.broadcast("file:adding"),e.context=i.appendTo(this.$files),r=e.submit(),i.on("click","a",function(){return i.hasClass("working")?r.abort():void 0})},t.prototype.always=function(t,e){var n;return n=e.context,n.removeClass("working")},t.prototype.done=function(t,e){var n,i;return i=this.fileFromData(e),n=e.context,this.updateTemplate(n,i),n.find('input[type="hidden"]').attr("value",i.id),i.errors?this.doneWithErrors(n,i):this.doneSuccessfully(n,i)},t.prototype.fail=function(t,e){var n;return n=$("<strong/>").html(" &mdash; <span>Canceled upload</span>"),this.handleError(e.context,"canceled",n)},t.prototype.deleteFile=function(t){var e,n;return t.preventDefault(),n=$(t.currentTarget),e=n.parent("li"),e.addClass("deleting"),this.broadcast("file:removing"),$.ajax({url:n.attr("href"),type:n.data("method"),dataType:"json",success:function(t){return function(){return t.fileWasDeleted(e)}}(this),error:function(t){return function(){return t.broadcast("file:remove:error")}}(this)}),!1},t.prototype.fileFromData=function(t){var e;if(typeof t.result===Object)return t.result.photo;e=t.result;try{e=$(e).text()}catch(n){}return t.result=JSON.parse(e),t.result.photo},t.prototype.doneWithErrors=function(t,e){var n;return n=this.fileErrorText(e),this.handleError(t,"error",n),this.broadcast("file:add:error")},t.prototype.doneSuccessfully=function(t,e){var n,i;return n="ss-icon ss-delete",i=$("<a class='"+n+"' href='"+e.delete_url+"' data-method='delete'></a>"),t.find("a").remove(),t.append(i),this.broadcast("file:added")},t.prototype.handleError=function(t,e,n){return t.addClass(e),this.appendErrorText(t,n),t.find("a").click(function(){return t.fadeOut("medium")}),t.find("input").remove()},t.prototype.broadcast=function(t){return"undefined"!=typeof Backbone&&null!==Backbone?Backbone.Radio.channel("softwareForm").trigger(t):void 0},t.setup=function(t,e){return new this(t,e).setup()},t.prototype.newFileEntry=function(t){return $('<li class="'+this.classForImage+' working">\n  <input name="'+this.objectName+'[photo_ids][]" type="hidden">\n  <strong>'+t.name+"</strong>\n  (<span>"+$.formatNumber("fileSize",t.size)+'</span>)\n  <a class="ss-icon ss-delete"></a>\n  <img src="/assets/challenges/indicator-ajax-spinner.gif" class="loading" />\n</li>')},t.prototype.updateTemplate=function(t,e){return t.attr("data-id","ids_"+e.id),t.find("span").text(e.size),t.find("input").attr("value",e.id),t.find('input[type="hidden"]').attr("value",e.id)},t.prototype.fileWasDeleted=function(t){return t.fadeOut("medium"),this.broadcast("file:removed")},t.prototype.fileErrorText=function(t){return $("<span/>").text(t.errors)},t.prototype.appendErrorText=function(t,e){return t.append(e)},t}(),this.CP.MultiplePhotoUploader=t}.call(this),function(){var t,e=function(t,e){return function(){return t.apply(e,arguments)}},n=function(t,e){function n(){this.constructor=t}for(var r in e)i.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;t=function(t){function i(){return this.doneSuccessfully=e(this.doneSuccessfully,this),this.setupUploader=e(this.setupUploader,this),i.__super__.constructor.apply(this,arguments)}return n(i,t),i.prototype.path="/software_photos",i.prototype.objectName="software",i.prototype.setupUploader=function(){return this.$uploader.fileupload({add:this.add,always:this.always,done:this.done,dropZone:this.$container,pasteZone:null,fail:this.fail,fileInput:this.$fileInput,formData:this.$uploader.serializeArray(),type:"POST",url:this.path})},i.prototype.newFileEntry=function(t){var e,n;return n=window.URL.createObjectURL(t),e=$($("label.choose_files").data("fields")),e.find("img.software_photo_image").attr("src",n),e.find(".software_photos_caption input"),e.find("input.string.optional").attr("disabled",""),e.addClass("working")},i.prototype.updateTemplate=function(t,e){var n,i,r;return t.attr("data-id","ids_"+e.id),r=(new Date).getTime(),n=$("label.choose_files").data("id"),i=new RegExp(n,"g"),t.html(t.html().replace(i,r)),t.find('input[type="hidden"]').attr("value",e.id)},i.prototype.fileWasDeleted=function(t){return i.__super__.fileWasDeleted.call(this,t),t.remove()},i.prototype.fileErrorText=function(t){return $('<span class="message"/>').text(t.errors)},i.prototype.doneSuccessfully=function(t,e){var n;return i.__super__.doneSuccessfully.call(this,t,e),n=t.find("input.string.optional"),n.removeAttr("disabled"),n.focus(),n.characterCounter({limit:140})},i.prototype.appendErrorText=function(t,e){var n;return n=t.find("img.software_photo_image"),n.after(e)},i}(CP.MultiplePhotoUploader),this.CP.Home.SoftwarePhotoUploader=t}.call(this),function(){var t;t=function(){function t(t){this.$inputFields=$(t)}return t.prototype.setup=function(){return this.setupVideoUrlTip()},t.prototype.setupVideoUrlTip=function(){return this.$inputFields.on("keyup change","input.url",function(t){return function(e){var n;return n=e.target.value,t.isVideoUrl(n)?t.showVideoErrorMessage(e.target):t.hideVideoErrorMessage(e.target)}}(this))},t.prototype.isVideoUrl=function(t){return this.isYoutubeUrl(t)||this.isVimeoUrl(t)||this.isYoukuUrl(t)},t.prototype.isYoutubeUrl=function(t){var e;return e=/youtu\.be|youtube\.com/,e.test(t)},t.prototype.isVimeoUrl=function(t){var e;return e=/vimeo\.com/,e.test(t)},t.prototype.isYoukuUrl=function(t){var e;return e=/youku\.com/,e.test(t)},t.prototype.showVideoErrorMessage=function(t){var e,n,i;return i=$(t).parent(),e='put video links in the "Video" field below',n=i.find("span.errors"),i.addClass("fieldWithErrors"),n.length>0?n.text(e).show():i.append("<span class='errors'>"+e+"</span>")},t.prototype.hideVideoErrorMessage=function(t){var e;return e=$(t).parent(),e.removeClass("fieldWithErrors"),e.find("span.errors").hide()},t.setup=function(e){return new t(e).setup()},t}(),this.CP.Home.VideoUrlValidator=t}.call(this),function(){var t;t=function(){function t(t,e){this.options=e,this.$form=$(t),this.setupCharacterCounters(),this.setupEditableTemplate()}return t.prototype.setupCharacterCounters=function(){return this.$form.find("#software_name").characterCounter({limit:this.options.title_max_length}),this.$form.find("#software_tagline").characterCounter({limit:this.options.tagline_max_length}),this.repositionCounters(),this.$form.find(".software_photos_caption input").characterCounter({limit:this.options.caption_max_length})},t.prototype.repositionCounters=function(){var t;return t=this.$form.find(".counter"),t.addClass("small-2 large-1 columns"),$.each(t,function(t,e){var n;return n=$(e),n.insertAfter(n.closest("div.columns"))})},t.prototype.setupEditableTemplate=function(){var t;return t=$("[data-editable-templates]"),t.on("focusin",function(t){return function(e){var n;return n=$(e.target),""===$.trim(n.val())?(n.val(t.editableTemplate(n)),n.trigger("change")):void 0}}(this)),t.on("focusout",function(t){return function(e){var n,i,r,s,o,a;for(n=$(e.target),o=[0,1],a=[],i=0,r=o.length;r>i;i++)s=o[i],n.val()===t.editableTemplate(n,s)?(n.val(""),a.push(n.trigger("change"))):a.push(void 0);return a}}(this))},t.prototype.editableTemplate=function(t,e){return null==e&&(e=null),e||(e=1!==this.software_members_count()?1:0),this.templates(t)[e]},t.prototype.templates=function(t){return t.data("editableTemplates")},t.prototype.software_members_count=function(){return $(".software-members-list li").length},t.setup=function(e,n){return new t(e,n)},t}(),this.CP.Home.SoftwareForm=t}.call(this),function(){var t,e=function(t,e){return function(){return t.apply(e,arguments)}};t=function(){function t(t){this.$dropDown=t,this.onChange=e(this.onChange,this),this.$dropDown.on("change",this.onChange)}return t.prototype.onChange=function(){return window.location=this.$dropDown.find(":selected").data("uri")},t}(),this.CP.SoftwareSortDropdown=t}.call(this),function(){var t;t=function(){function t(t){this.options=t,this.highlightLikedSoftware(),this.highlightSoftwareCommentedOn()}return t.prototype.highlightSoftwareCommentedOn=function(){return $.getJSON(this.softwareCommentedOnUrl(),{software_ids:this.softwareIds()},function(t){return function(e){return t.highlightCounts(e,"[data-count=comment]")}}(this))},t.prototype.highlightLikedSoftware=function(){return $.getJSON(this.likedSoftwareUrl(),{software_ids:this.softwareIds()},function(t){return function(e){return t.highlightCounts(e,"[data-count=like]")}}(this))},t.prototype.highlightCounts=function(t,e){return $.each(t,function(t,n){var i;return i=$("[data-software-id="+n.id+"]").find(e),i.addClass("highlight")})},t.prototype.softwareIds=function(){return $.map(this.thumbnails(),function(t){return $(t).data("software-id")})},t.prototype.thumbnails=function(){return this._thumbnails||(this._thumbnails=$(this.options.thumbnailSelector))},t.prototype.likedSoftwareUrl=function(){return this.options.likedSoftwareUrl},t.prototype.softwareCommentedOnUrl=function(){return this.options.softwareCommentedOnUrl},t}(),this.CP.Home.SoftwareThumbnails=t}.call(this),function(){var t;t=function(){function t(){}return t.prototype.setup=function(){return $("#software-comment-button").on("click",this.scrollTo)},t.prototype.scrollTo=function(){var t;return t=$("#updates"),$("html,body").animate({scrollTop:t.offset().top})},t.setup=function(){return(new t).setup()},t}(),this.CP.Home.SoftwareCommentButton=t}.call(this),function(){var t,e=function(t,e){return function(){return t.apply(e,arguments)}},n=[].indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(e in this&&this[e]===t)return e;return-1};t=function(){function t(t){var n;this.$gallery=t,this.rightArrow=e(this.rightArrow,this),this.leftArrow=e(this.leftArrow,this),this.bindNavigation=e(this.bindNavigation,this),this.unbindNavigation=e(this.unbindNavigation,this),this.keyMap={37:this.leftArrow,39:this.rightArrow},this.$window=$(window),this.keys=Object.keys(this.keyMap),this.bindNavigation(),n=$("input, textarea"),n.on("focus",this.unbindNavigation),n.on("blur",this.bindNavigation)}return t.setup=function(t){return new this($(t))},t.prototype.unbindNavigation=function(){return this.$window.off("keyup.imageGalleryNavigation")},t.prototype.bindNavigation=function(){return this.$window.on("keyup.imageGalleryNavigation",function(t){return function(e){var i;return i=e.which.toString(),n.call(t.keys,i)>=0?t.keyMap[i]():void 0}}(this))},t.prototype.leftArrow=function(){return this.navigate(".orbit-prev")},t.prototype.rightArrow=function(){return this.navigate(".orbit-next")},t.prototype.navigate=function(t){return this.$gallery.find(t).click()},t}(),this.CP.Home.ArrowKeyGalleryNavigation=t}.call(this),function(){var t,e,n,i,r,s=function(t,e){return function(){return t.apply(e,arguments)}};e=function(){function e(e){this.fail=s(this.fail,this),this.always=s(this.always,this),this.done=s(this.done,this),this.add=s(this.add,this),this.settings=_.extend({container:"[data-image-gallery-container]",fileInput:"input:file",fileList:"[data-image-gallery-list]",url:null,formData:{authenticity_token:$('meta[name="csrf-token"]').attr("content")},maxFileSize:5e6,Model:n,AttachmentView:t},e),this.$container=$(this.settings.container),this.$fileInput=$(this.settings.fileInput),this.$fileList=$(this.settings.fileList),this.renderAttachedPhoto(this.$fileList.data("photo")),this.url=this.settings.url||this.$fileInput.data("photoUploadAction"),this.$fileInput.fileupload({add:this.add,always:this.always,done:this.done,dropZone:this.$container,pasteZone:null,fail:this.fail,formData:this.settings.formData,dataType:"json",type:"POST",url:this.url})}return e.prototype.renderAttachedPhoto=function(t){var e,n;if(null!=t)return e=new this.settings.Model(t),n=new this.settings.AttachmentView({model:e}),n.render(),this.$fileList.html(n.$el),n},e.prototype.add=function(t,e){var n,r,s,o,a;return r=e.files[0],n=i(r,{isUploading:!0}),o=this.renderAttachedPhoto(n),e.context=o.model,r.size>this.settings.maxFileSize?(s=o.model,s.set({isUploading:!1,uploadError:"Image size is too big. Please choose an image under 5 MB"}),void 0):(a=e.submit(),o.on("attachment:upload:abort",function(){return a.abort()}))},e.prototype.done=function(t,e){var n,i,s;return s=e.context,i=r(e.result),n=_.extend(i,{isUploading:!1}),n.errors?s.set(_.extend(n,{uploadError:n.errors})):s.set(_.extend(n,{isUploaded:!0}))},e.prototype.always=function(t,e){var n;return n=e.context,n.get("isUploading")?n.set("isUploading",!1):void 0},e.prototype.fail=function(t,e){var n;return n=e.context,n.set({wasCanceled:!0})},e.setup=function(t){return new this(t)},e}(),i=function(t,e){return null==e&&(e={}),_.extend({name:t.name,size:$.formatNumber("fileSize",t.size),type:t.type},e)},r=function(){return function(t){if("object"==typeof t)return t.photo;try{t=$(t).text()}catch(e){}return t=JSON.parse(t),t.photo}}(this),n=Backbone.Model.extend({initialize:function(){return this.set("displayName",$.truncate(this.get("name"),20,{omission:"[…]",separator:".",extension:!0}))},defaults:{id:null,name:null,size:null,type:null,displayName:null,uploadError:!1,isUploading:!1,isUploaded:!1,wasCanceled:!1}}),t=Backbone.View.extend({initialize:function(){return _.bindAll(this,"render"),this.model.bind("change",this.render)},template:JST["home/templates/user_stylesheets/attached_photo"],render:function(){return this.$el.toggleClass("working",this.model.get("isUploading")).toggleClass("canceled",this.model.get("wasCanceled")).toggleClass("error",this.model.get("uploadError")),this.$el.html(this.template(this.model.toJSON())),this.addPhoto(),this},attributes:{"class":"photo-item panel"},abortUpload:function(){return this.trigger("attachment:upload:abort")},removePhoto:function(){return this.$el.trigger("attachment:photo:remove"),this.remove()},addPhoto:function(){return this.$el.trigger("attachment:photo:add")},events:{"click .abort":"abortUpload","click .remove":"removePhoto"}}),this.CP.Home.BackgroundImageUploader=e}.call(this),function(){var t,e,n,i,r,s,o,a,l,c,u,h,p,d,f,m,g,v,w,b,y,C,S,k=[].slice,x=function(t,e){return function(){return t.apply(e,arguments)}};u=function(t){var e;return e=$.extend({container:"#container",targetClass:"edit-stylesheet-form-target",form:"form",cancelLinkTo:"a.cancel",backgroundColorInput:"input[name*='background_color']",submitButton:"input:submit",linkTo:"a.remote",backgroundColorPreview:".user-background-color",backgroundImagePreview:".user-background-image",fileInputLabel:".fileinput-button label"},t),s(e),y(e),m(e)},c=["stylesheet:init","stylesheet:get:start","stylesheet:get:finish","stylesheet:cancel","stylesheet:change","stylesheet:sync","stylesheet:saved","stylesheet:error"],y=function(t,e){return t.attributes||(t.attributes={}),e||(e={}),t.attributes.background_color=e.background_color||$(t.backgroundColorPreview).css("background-color"),t.attributes.background_image=e.background_image||$(t.backgroundImagePreview).css("background-image")},s=function(t){var e;return e=$("<div>",{"class":t.targetClass}).prependTo(t.container),t.target=e},S=[],m=function(n){var i,s,u,h;return n.observer=d(n),u=$(n.linkTo),h=$(n.target),i=$(n.backgroundColorPreview),s=$(n.backgroundImagePreview),u.on("click",p(n)),h.on("click",n.cancelLinkTo,o(n)),h.on("change keyup",n.backgroundColorInput,a(n)),h.on("click",n.submitButton,C(n)),$(document.body).on(c.join(" "),function(){var t,e;return e=arguments[0],t=2<=arguments.length?k.call(arguments,1):[],e.target===this?n.observer.trigger(e.type,t):void 0}),h.on("stylesheet:init",function(){var e;return(e=$(this).data()).spinner||(e.spinner=new t(this,{color:"#999"}))}),h.on("stylesheet:saved",function(t,e){return t.target===this?($(this).data("spinner").stop(),y(n,e),l.call(this)):void 0}),h.on("stylesheet:get:finish",function(){return r.setup(".simple-color-picker"),$("[data-image-gallery-container]").length?(e.setup({container:"[data-image-gallery-container]"}),w(n)):void 0}),h.on("stylesheet:cancel",function(t){return t.target===this?(n.observer.trigger("stylesheet:change",n.attributes),l.call(this)):void 0}),h.on("stylesheet:error",function(t,e){var i,r,s,o;if(t.target===this){$(this).data("spinner").stop(),o=[];for(i in e)s=e[i],r="<span class='error'>"+[s].join(", ")+"</span>",o.push(b(n,i,r));return o}}),h.on("stylesheet:change",function(t,e){var i,r,s;if(t.target===this){r=[];for(i in e)s=e[i],r.push(b(n,i));return r}}),h.on("attachment:photo:remove",function(){return n.removePhotoField&&n.removePhotoField.trigger("attachment:photo:remove"),n.observer.trigger("stylesheet:change",{background_image:"none"}),$(this).find(n.fileInputLabel).text("Choose photo")}),h.on("attachment:photo:add",function(){return n.removePhotoField&&n.removePhotoField.trigger("attachment:photo:add"),$(this).find(n.fileInputLabel).text("Change photo")}),h.on("fileuploadsend",function(t,e){var i;return i=e.files[0],_.defer(function(){var t;return t=function(t){var e;return e=t.toDataURL(),n.observer.trigger("stylesheet:change",{background_image:"url("+e+")"})},window.loadImage(i,t,{maxwidth:1200,cover:!0,canvas:!0})})}),h.on("stylesheet:sync",function(){return $(this).data("spinner").spin()}),u.on("stylesheet:init stylesheet:saved stylesheet:cancel",function(e){var n;return e.preventDefault(),(n=$(this).data()).spinner||(n.spinner=new t(this,{color:"#F0F0F0",length:5,width:3,radius:5,left:"-18px",top:"17px"})),$(this).addClass("visible").removeClass("disabled")}),u.on("stylesheet:get:start",function(){return $(this).addClass("disabled"),$(this).data("spinner").spin()}),u.on("stylesheet:get:finish",function(){return $(this).removeClass("visible"),$(this).data("spinner").stop()}),i.on("stylesheet:change",function(t,e){return e&&e.background_color?$(this).css({"background-color":e.background_color}):void 0}),s.on("stylesheet:change",function(t,e){return e&&e.background_image?$(this).css({"background-image":e.background_image}):void 0}),n.observer.trigger("stylesheet:init")},h=function(t){return $.ajax({url:$(t.linkTo).attr("href"),dataType:"html",data:{layout:!1}})},v=function(t,e){return $(this).slideUp(function(){return $(this).html(t).slideDown(function(){return e(),$(this).css("overflow","")})})},l=function(){return _(S).each(function(t){return t.remove()}),$(this).slideUp(function(){return $(this).empty()})},p=function(t){return function(e){var n;return e.preventDefault(),t.observer.trigger("stylesheet:get:start"),n=h(t),n.done(function(e){return v.call($(t.target),e,function(){return t.observer.trigger("stylesheet:get:finish")})}),n.error(function(e,n,i){var r;return r="<p>We are currently experiencing issues with Portfolio Customization, please try again shortly.</p>",v.call($(t.target),r,function(){return t.observer.trigger("stylesheet:get:finish")}),g("Error",i)})}},C=function(t){return function(){return t.observer.trigger("stylesheet:sync")}},o=function(t){return function(e){return e.preventDefault(),t.observer.trigger("stylesheet:cancel")}},a=function(t){return function(e){var n;return e.preventDefault(),n=$(this).val(),f($(this).val())?t.observer.trigger("stylesheet:change",{background_color:$(this).val()}):t.observer.trigger("stylesheet:error",{background_color:"must be a valid hex color"})}},f=function(t){return t.match(/^#([0-9a-f]{6}|[0-9a-f]{3})$/i)},b=function(t,e,n){var i;return i=$(t.target).find("input[name*="+e+"]").parent(),i.find(".error").remove(),n?i.append(n):void 0},w=function(t){var e;return e=new i,t.removePhotoField=e,$(t.target).find(t.form).append(e.render().el)},d=function(t){var e;return e=new n(c),e.observe(t.target,t.linkTo,t.backgroundColorPreview,t.backgroundImagePreview,t.backgroundColorInput),e},g=function(){var t;return t=1<=arguments.length?k.call(arguments,0):[],window.debug?console.log.apply(console,t):void 0},t=function(){function t(t,e){this.el=t,this.options=e}return t.prototype.stop=function(){return this.spinner?this.spinner.stop():void 0},t.prototype.spin=function(){return this.spinner||(this.spinner=new Spinner(this.options)),this.spinner.spin(this.el)},t}(),n=function(){function t(t){this.notify=x(this.notify,this),_.extend(this,Backbone.Events),this.registry=[],this.events=[],this.listenFor(t)}return t.prototype.observe=function(){var t;return t=1<=arguments.length?k.call(arguments,0):[],_(t).each(function(t){return function(e){return t.registry.push(e)}}(this))},t.prototype.listenFor=function(t){return this.events=this.events.concat(t),_(t).each(function(t){return function(e){return t.on(e,function(n){return t.notify(e,n)},t)}}(this))},t.prototype.notify=function(t,e){return _(this.registry).each(function(){return function(n){return $(n).trigger(t,e)}}(this))},t}(),i=Backbone.View.extend({initialize:function(){return _.bindAll(this,"yes","no"),this.on("attachment:photo:remove",this.yes),this.on("attachment:photo:add",this.no)},render:function(){var t;return t=_.template($("#removing-photo-field").html()),this.$el.html(t()),this},events:{"attachment:photo:remove":"yes","attachment:photo:add":"no"},yes:function(){return this.$el.find("input").val("yes")},no:function(){return this.$el.find("input").val("no")}}),r=this.CP.SimpleColorPicker,e=this.CP.Home.BackgroundImageUploader,this.CP.Home.editStylesheetAction=u}.call(this),function(){CP.Home.toggleExpandable=function(){return $(".expandable").each(function(){var t,e,n;return e=$(this),n=e.find(".expandable-toggle"),t=e.find(".expandable-content"),n.on("click",function(e){return e.preventDefault(),t.slideToggle("fast",function(){return n.toggleClass("expandable-close",t.is(":visible"))})})})}}.call(this),function(){var t,e=function(t,e){return function(){return t.apply(e,arguments)}},n=[].slice;t=function(){function t(t){this.$base=t,this.dismiss=e(this.dismiss,this),this.setListeners()}return t.prototype.cookie_key="platform.notifications.follow.dismissed",t.prototype.domain="devpost.com",t.prototype.setListeners=function(){return this.$base.on("click",'[data-follow-alert="close"]',this.dismiss)},t.prototype.dismiss=function(t){return t.preventDefault(),this.persist(),this.close()},t.prototype.persist=function(){return $.cookie(this.cookie_key,"dismissed",{expires:30,domain:this.domain,path:"/"})},t.prototype.wasDismissed=function(){return!!$.cookie(this.cookie_key)},t.prototype.close=function(){return this.$base.slideUp(function(t){return function(){return t.$base.remove()}}(this))},t.setup=function(){var t;return t=1<=arguments.length?n.call(arguments,0):[],function(t,e,n){n.prototype=t.prototype;var i=new n,r=t.apply(i,e);return Object(r)===r?r:i}(this,t,function(){})},t}(),this.CP.Home.FollowBanner=t}.call(this),function(){var t,e,n,i,r=function(t,e){return function(){return t.apply(e,arguments)}},s=function(t,e){function n(){this.constructor=t}for(var i in e)o.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},o={}.hasOwnProperty,a=[].slice;t=function(){function t(t){null==t&&(t={}),this.options=$.extend({},this["default"],t),this.deferred=$.Deferred(this.options.beforeStart),this.saveLike()}return t.prototype["default"]={dataType:"JSON",beforeStart:$.noop},t.prototype.saveLike=function(){return this.xhr=$.ajax({url:this.options.url,type:this.options.method,dataType:this.options.dataType,beforeSend:this.options.beforeStart})},t.prototype.promise=function(){return this.xhr.promise()},t.likePromise=function(e){var n;return n=new t(e),n.promise()},t}(),e=function(){function t(){this.likeCallbacks=$.Callbacks(),this.unlikeCallbacks=$.Callbacks(),this.beforeStartCallbacks=$.Callbacks(),this.finishCallbacks=$.Callbacks(),this.errorCallbacks=$.Callbacks(),this.successCallbacks=$.Callbacks()}return t.prototype.onLike=function(t){return this.likeCallbacks.add(t)},t.prototype.onUnlike=function(t){return this.unlikeCallbacks.add(t)},t.prototype.onError=function(t){return this.errorCallbacks.add(t)},t.prototype.onSuccess=function(t){return this.successCallbacks.add(t)},t.prototype.onFinish=function(t){return this.finishCallbacks.add(t)},t.prototype.beforeStart=function(t){return this.beforeStartCallbacks.add(t)},t}(),n=function(e){function n(t){this.$link=t,this.fireActionCallbacks=r(this.fireActionCallbacks,this),this.fireWithThis=r(this.fireWithThis,this),n.__super__.constructor.call(this)}return s(n,e),n.prototype.likeOrUnlike=function(){var e;return e=t.likePromise({beforeStart:this.beforeStartCallbacks.fire,url:this.$link.attr("href"),method:this.$link.data("method")}),e.done(this.fireActionCallbacks),e.fail(this.fireWithThis(this.errorCallbacks)),e.always(this.fireWithThis(this.finishCallbacks)),this},n.prototype.beforeStart=function(t){return this.beforeStartCallbacks.add($.proxy(t,this))},n.prototype.fireWithThis=function(t){var e;return e=this,function(){var n;return n=1<=arguments.length?a.call(arguments,0):[],t.fireWith(e,n)}},n.prototype.isLiking=function(){var t;return"POST"===(null!=(t=this.$link.data("method"))?t.toUpperCase():void 0)},n.prototype.isUnliking=function(){var t;return"DELETE"===(null!=(t=this.$link.data("method"))?t.toUpperCase():void 0)},n.prototype.fireActionCallbacks=function(){var t;return t=1<=arguments.length?a.call(arguments,0):[],this.isLiking()&&this.likeCallbacks.fireWith(this,t),this.isUnliking()&&this.unlikeCallbacks.fireWith(this,t),this.successCallbacks.fireWith(this,t)},n}(e),i=function(t){function e(){this.onClick=r(this.onClick,this),e.__super__.constructor.call(this),this.setListeners()}return s(e,t),e.containerSelector='[data-like="base"]',e.likeButtonSelectors="[data-like=like-button], [data-like=unlike-button]",e.prototype.setListeners=function(){return $("body").on("click",e.likeButtonSelectors,this.onClick)},e.prototype.onClick=function(t){var e,i;return e=$(t.currentTarget),i=new n(e),i.onLike(this.likeCallbacks.fire),i.onUnlike(this.unlikeCallbacks.fire),i.onFinish(this.finishCallbacks.fire),i.onError(this.errorCallbacks.fire),i.onSuccess(this.successCallbacks.fire),i.beforeStart(this.beforeStartCallbacks.fire),i.likeOrUnlike(),!1},e}(e),CP.Home.likeWidget=function(){var t;return t=new i,t.beforeStart(function(){return this.$link.addClass("disabled")}),t.onFinish(function(){return this.$link.removeClass("disabled")}),t.onSuccess(function(t){return $(i.containerSelector).replaceWith(t.html)}),t.onLike(function(t){return null!=t.event_title?mixpanel.track(t.event_title,t.event_properties):void 0}),t}()}.call(this),function(){var t,e,n,i,r,s,o,a,l,c;a={},t=Backbone.View.extend({tagName:"div",id:"star-error-modal",className:"reveal-modal tiny",template:JST["home/templates/software/portfolios/starring_error"],initialize:function(){return this.errorCount=0},errorJSON:function(t){return{errorCount:this.errorCount,errorMessages:t}},render:function(t){return this.errorCount+=1,this.$el.html(this.template(this.errorJSON(t))),$("body").append(this.$el),this.$el.foundation("reveal","open")}}),n=Backbone.View.extend({tagName:"i",attributes:{"data-options":"disable-for-touch:true"},refreshTipZone:function(){var t;return t=Foundation.libs.tooltips.getTip(this.$el),null!=t?(t.remove(),this.$el.data("selector",null)):void 0},addTip:function(){var t;return this.refreshTipZone(),t=a.tipText(this),null!=t?this.$el.attr({title:t,"data-tooltip":""}):(this.$el.removeAttr("title"),this.$el.removeAttr("data-tooltip"))},create:function(){return this.render(),$("#software_"+this.model.get("softwareId")).append(this.$el)},render:function(){return this.addTip(),this.$el.attr("class",null),this.$el.attr("class",this.starClasses())},starClasses:function(){return["ss-icon","ss-star","software-thumbnail-star","tip-top",this.model.statusClass()].join(" ")
}}),e=Backbone.Model.extend({defaults:{isStarred:!1,isProcessing:!1},statusClass:function(){var t;return t=[],t.push(this.isStarred()?"software-thumbnail-starred":"software-thumbnail-not-starred"),this.isProcessing()&&t.push("software-thumbnail-processing"),t.join(" ")},star:function(){return this.set("isStarred",!0)},unstar:function(){return this.set("isStarred",!1)},toggleStar:function(){return this.set("isStarred",!this.get("isStarred"))},isStarred:function(){return this.get("isStarred")},isProcessing:function(){return this.get("isProcessing")},toggleAndPersist:function(){return this.isProcessing()?void 0:(this.startProcessing(),this.isStarred()?this.persistUnstar():this.persistStar())},persistOperation:function(t){var e;return e=$.ajax({type:t,url:this.starUrl()}),e.then($.proxy(this.updateStarCount,this)),e.fail($.proxy(this.handleError,this)),e.always($.proxy(this.stopProcessing,this)),e},persistStar:function(){return this.persistOperation("post").then($.proxy(this.star,this))},persistUnstar:function(){return this.persistOperation("delete").then($.proxy(this.unstar,this))},updateStarCount:function(t){return a.updateStarredIds(t.stars)},startProcessing:function(){return this.set("isProcessing",!0)},stopProcessing:function(){return window.setTimeout(function(t){return function(){return t.set("isProcessing",!1)}}(this),500)},handleError:function(t){var e;return e=$.parseJSON(t.responseText),this.renderError(e.messages)},renderError:function(e){return null==this.errorView&&(this.errorView=new t),this.errorView.render(e)},starUrl:function(){return this.get("softwareUrl")+"/star"}}),o=Backbone.Collection.extend({model:e}),r=n.extend({events:{click:"toggleStar",mouseup:"stopImmediatePropagation"},initialize:function(){var t;return this.listenTo(this.model,"change",this.render),t=$("#software_"+this.model.get("softwareId")).closest(".block-wrapper-link"),this.model.set("softwareUrl",t.attr("href"))},toggleStar:function(t){return this.stopImmediatePropagation(t),this.model.toggleAndPersist()},stopImmediatePropagation:function(t){return t.stopImmediatePropagation(),t.preventDefault()}}),s=Backbone.View.extend({el:"#software-entries",initialize:function(t){return a=this,this.userUrl=t.userUrl,this.userName=t.userName,this.fetchStars()},tipText:function(){return"featured by "+this.userName},fetchStars:function(){return $.getJSON(this.userUrl).then(this.showStars)},showStars:function(t){var i,r,s,o,a,l,c;for(l=t.stars,s=[],i=0,r=l.length;r>i;i++)o=l[i],a=new e({softwareId:o,isStarred:!0}),c=new n({model:a}),s.push(c.create());return s}}),i=Backbone.View.extend({el:"#software-entries",initialize:function(t){return a=this,this.userUrl=t.userUrl,this.stars=new o,this.buildStars(),this.fetchStars()},fetchStars:function(){return $.getJSON(this.userUrl).then($.proxy(this.makeThemShine,this))},buildStars:function(){var t;return t=this,$("[data-software-id]").each(function(){var n,i,s,o;return n=$(this),i=n.data("softwareId"),s=new e({softwareId:i}),o=new r({model:s}),t.stars.add(s),o.create()})},tipText:function(t){return t.model.isStarred()?"Click to unstar":"Star your favorite projects (up to 4) to feature them at the top of your Portfolio."},starsCount:function(){return this.starredIds.length},makeThemShine:function(t){var e,n,i,r,s,o;for(this.updateStarredIds(t.stars),r=this.starredIds,s=[],e=0,i=r.length;i>e;e++)n=r[e],o=this.stars.findWhere({softwareId:n}),s.push(o.star());return s},updateStarredIds:function(t){return this.starredIds=t}}),l=function(t){return new i(t)},c=function(t){return new s(t)},CP.Home.PortfolioStars={starred:c,starrable:l}}.call(this),function(){var t;t=function(){function t(){this.onSocialLogin(),this.scrollToErrors()}return t.prototype.onSocialLogin=function(){return $("[data-role~='social-login']").on("click",function(){return function(t){var e,n;return t.preventDefault(),n=$(t.currentTarget),e=n.closest("form"),e.find("input[type=text]").attr("disabled","disabled"),e.attr("action",n.attr("href")),e.submit()}}(this))},t.prototype.scrollToErrors=function(){var t;return t=$(".fieldWithErrors"),t.length?$("html, body").animate({scrollTop:t.offset().top-20},200):void 0},t.setup=function(){return new t},t}(),CP.Home.JobRegistration=t}.call(this),function(t){var e=0,n=function(){return(new Date).getTime()+e++},i=function(t){return"["+t+"]$1"},r=function(t){return"_"+t+"_$1"};t(document).on("click",".add_fields",function(e){e.preventDefault();var s=t(this),o=s.data("association"),a=s.data("associations"),l=s.data("association-insertion-template"),c=s.data("association-insertion-method")||s.data("association-insertion-position")||"before",u=s.data("association-insertion-node"),h=s.data("association-insertion-traversal"),p=parseInt(s.data("count"),10),d=new RegExp("\\[new_"+o+"\\](.*?\\s)","g"),f=new RegExp("_new_"+o+"_(\\w*)","g"),m=n(),g=l.replace(d,i(m)),v=[];for(g==l&&(d=new RegExp("\\[new_"+a+"\\](.*?\\s)","g"),f=new RegExp("_new_"+a+"_(\\w*)","g"),g=l.replace(d,i(m))),g=g.replace(f,r(m)),v=[g],p=isNaN(p)?1:Math.max(p,1),p-=1;p;)m=n(),g=l.replace(d,i(m)),g=g.replace(f,r(m)),v.push(g),p-=1;u=u?h?s[h](u):"this"==u?s:t(u):s.parent();for(var w in v){var b=t(v[w]);u.trigger("cocoon:before-insert",[b]),u[c](b),u.trigger("cocoon:after-insert",[b])}}),t(document).on("click",".remove_fields.dynamic, .remove_fields.existing",function(e){var n=t(this),i=n.data("wrapper-class")||"nested-fields",r=n.closest("."+i),s=r.parent();e.preventDefault(),s.trigger("cocoon:before-remove",[r]);var o=s.data("remove-timeout")||0;setTimeout(function(){n.hasClass("dynamic")?r.remove():(n.prev("input[type=hidden]").val("1"),r.hide()),s.trigger("cocoon:after-remove",[r])},o)}),t(".remove_fields.existing.destroyed").each(function(){var e=t(this),n=e.data("wrapper-class")||"nested-fields";e.closest("."+n).hide()})}(jQuery),function(t,e){"function"==typeof define&&define.amd?define(["jquery"],function(n){return t.returnExportsGlobal=e(n)}):"object"==typeof exports?module.exports=e(require("jquery")):e(jQuery)}(this,function(t){"use strict";var e,n,i,r,s,o,a,l,c,u,h;u="caret",e=function(){function e(t){this.$inputor=t,this.domInputor=this.$inputor[0]}return e.prototype.setPos=function(){return this.domInputor},e.prototype.getIEPosition=function(){return this.getPosition()},e.prototype.getPosition=function(){var t,e;return e=this.getOffset(),t=this.$inputor.offset(),e.left-=t.left,e.top-=t.top,e},e.prototype.getOldIEPos=function(){var t,e;return e=a.selection.createRange(),t=a.body.createTextRange(),t.moveToElementText(this.domInputor),t.setEndPoint("EndToEnd",e),t.text.length},e.prototype.getPos=function(){var t,e,n;return(n=this.range())?(t=n.cloneRange(),t.selectNodeContents(this.domInputor),t.setEnd(n.endContainer,n.endOffset),e=t.toString().length,t.detach(),e):a.selection?this.getOldIEPos():void 0},e.prototype.getOldIEOffset=function(){var t,e;return t=a.selection.createRange().duplicate(),t.moveStart("character",-1),e=t.getBoundingClientRect(),{height:e.bottom-e.top,left:e.left,top:e.top}},e.prototype.getOffset=function(){var e,n,i,r,s;return c.getSelection&&(i=this.range())?(i.endOffset-1>0&&i.endContainer===!this.domInputor&&(e=i.cloneRange(),e.setStart(i.endContainer,i.endOffset-1),e.setEnd(i.endContainer,i.endOffset),r=e.getBoundingClientRect(),n={height:r.height,left:r.left+r.width,top:r.top},e.detach()),n&&0!==(null!=n?n.height:void 0)||(e=i.cloneRange(),s=t(a.createTextNode("|")),e.insertNode(s[0]),e.selectNode(s[0]),r=e.getBoundingClientRect(),n={height:r.height,left:r.left,top:r.top},s.remove(),e.detach())):a.selection&&(n=this.getOldIEOffset()),n&&(n.top+=t(c).scrollTop(),n.left+=t(c).scrollLeft()),n},e.prototype.range=function(){var t;if(c.getSelection)return t=c.getSelection(),t.rangeCount>0?t.getRangeAt(0):null},e}(),n=function(){function e(t){this.$inputor=t,this.domInputor=this.$inputor[0]}return e.prototype.getIEPos=function(){var t,e,n,i,r,s,o;return e=this.domInputor,s=a.selection.createRange(),r=0,s&&s.parentElement()===e&&(i=e.value.replace(/\r\n/g,"\n"),n=i.length,o=e.createTextRange(),o.moveToBookmark(s.getBookmark()),t=e.createTextRange(),t.collapse(!1),r=o.compareEndPoints("StartToEnd",t)>-1?n:-o.moveStart("character",-n)),r},e.prototype.getPos=function(){return a.selection?this.getIEPos():this.domInputor.selectionStart},e.prototype.setPos=function(t){var e,n;return e=this.domInputor,a.selection?(n=e.createTextRange(),n.move("character",t),n.select()):e.setSelectionRange&&e.setSelectionRange(t,t),e},e.prototype.getIEOffset=function(t){var e,n,i,r;return n=this.domInputor.createTextRange(),t||(t=this.getPos()),n.move("character",t),i=n.boundingLeft,r=n.boundingTop,e=n.boundingHeight,{left:i,top:r,height:e}},e.prototype.getOffset=function(e){var n,i,r;return n=this.$inputor,a.selection?(i=this.getIEOffset(e),i.top+=t(c).scrollTop()+n.scrollTop(),i.left+=t(c).scrollLeft()+n.scrollLeft(),i):(i=n.offset(),r=this.getPosition(e),i={left:i.left+r.left-n.scrollLeft(),top:i.top+r.top-n.scrollTop(),height:r.height})},e.prototype.getPosition=function(t){var e,n,r,s,o,a,l;return e=this.$inputor,s=function(t){return t=t.replace(/<|>|`|"|&/g,"?").replace(/\r\n|\r|\n/g,"<br/>"),/firefox/i.test(navigator.userAgent)&&(t=t.replace(/\s/g,"&nbsp;")),t},void 0===t&&(t=this.getPos()),l=e.val().slice(0,t),r=e.val().slice(t),o="<span style='position: relative; display: inline;'>"+s(l)+"</span>",o+="<span id='caret' style='position: relative; display: inline;'>|</span>",o+="<span style='position: relative; display: inline;'>"+s(r)+"</span>",a=new i(e),n=a.create(o).rect()},e.prototype.getIEPosition=function(t){var e,n,i,r,s;return i=this.getIEOffset(t),n=this.$inputor.offset(),r=i.left-n.left,s=i.top-n.top,e=i.height,{left:r,top:s,height:e}},e}(),i=function(){function e(t){this.$inputor=t}return e.prototype.css_attr=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopStyle","borderRightStyle","borderBottomStyle","borderLeftStyle","borderTopWidth","boxSizing","fontFamily","fontSize","fontWeight","height","letterSpacing","lineHeight","marginBottom","marginLeft","marginRight","marginTop","outlineWidth","overflow","overflowX","overflowY","paddingBottom","paddingLeft","paddingRight","paddingTop","textAlign","textOverflow","textTransform","whiteSpace","wordBreak","wordWrap"],e.prototype.mirrorCss=function(){var e,n=this;return e={position:"absolute",left:-9999,top:0,zIndex:-2e4},"TEXTAREA"===this.$inputor.prop("tagName")&&this.css_attr.push("width"),t.each(this.css_attr,function(t,i){return e[i]=n.$inputor.css(i)}),e},e.prototype.create=function(e){return this.$mirror=t("<div></div>"),this.$mirror.css(this.mirrorCss()),this.$mirror.html(e),this.$inputor.after(this.$mirror),this},e.prototype.rect=function(){var t,e,n;return t=this.$mirror.find("#caret"),e=t.position(),n={left:e.left,top:e.top,height:t.height()},this.$mirror.remove(),n},e}(),r={contentEditable:function(t){return!(!t[0].contentEditable||"true"!==t[0].contentEditable)}},o={pos:function(t){return t||0===t?this.setPos(t):this.getPos()},position:function(t){return a.selection?this.getIEPosition(t):this.getPosition(t)},offset:function(t){var e;return e=this.getOffset(t)}},a=null,c=null,l=null,h=function(t){var e;return(e=null!=t?t.iframe:void 0)?(l=e,c=e.contentWindow,a=e.contentDocument||c.document):(l=void 0,c=window,a=document)},s=function(t){var e;a=t[0].ownerDocument,c=a.defaultView||a.parentWindow;try{return l=c.frameElement}catch(n){e=n}},t.fn.caret=function(i,s,a){var l;return o[i]?(t.isPlainObject(s)?(h(s),s=void 0):h(a),l=r.contentEditable(this)?new e(this):new n(this),o[i].apply(l,[s])):t.error("Method "+i+" does not exist on jQuery.caret")},t.fn.caret.EditableCaret=e,t.fn.caret.InputCaret=n,t.fn.caret.Utils=r,t.fn.caret.apis=o}),function(t,e){"function"==typeof define&&define.amd?define(["jquery"],function(t){return e(t)}):"object"==typeof exports?module.exports=e(require("jquery")):e(jQuery)}(this,function(t){var e,n,i,r,s,o,a,l,c,u,h=[].slice,p=function(t,e){function n(){this.constructor=t}for(var i in e)d.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},d={}.hasOwnProperty;e=t,i=function(){function t(t){this.currentFlag=null,this.controllers={},this.aliasMaps={},this.$inputor=e(t),this.setupRootElement(),this.listen()}return t.prototype.createContainer=function(t){var n;return null!=(n=this.$el)&&n.remove(),e(t.body).append(this.$el=e("<div class='atwho-container'></div>"))},t.prototype.setupRootElement=function(t,n){var i;if(null==n&&(n=!1),t)this.window=t.contentWindow,this.document=t.contentDocument||this.window.document,this.iframe=t;else{this.document=this.$inputor[0].ownerDocument,this.window=this.document.defaultView||this.document.parentWindow;try{this.iframe=this.window.frameElement}catch(r){if(i=r,this.iframe=null,e.fn.atwho.debug)throw new Error("iframe auto-discovery is failed.\nPlease use `setIframe` to set the target iframe manually.\n"+i)}}return this.createContainer((this.iframeAsRoot=n)?this.document:document)},t.prototype.controller=function(t){var e,n,i,r;if(this.aliasMaps[t])n=this.controllers[this.aliasMaps[t]];else{r=this.controllers;for(i in r)if(e=r[i],i===t){n=e;break}}return n?n:this.controllers[this.currentFlag]},t.prototype.setContextFor=function(t){return this.currentFlag=t,this},t.prototype.reg=function(t,e){var n,i;return i=(n=this.controllers)[t]||(n[t]=this.$inputor.is("[contentEditable]")?new o(this,t):new c(this,t)),e.alias&&(this.aliasMaps[e.alias]=t),i.init(e),this},t.prototype.listen=function(){return this.$inputor.on("compositionstart",function(t){return function(){var e;return null!=(e=t.controller())&&e.view.hide(),t.isComposing=!0}}(this)).on("compositionend",function(t){return function(){return t.isComposing=!1}}(this)).on("keyup.atwhoInner",function(t){return function(e){return t.onKeyup(e)}}(this)).on("keydown.atwhoInner",function(t){return function(e){return t.onKeydown(e)}}(this)).on("blur.atwhoInner",function(t){return function(e){var n;return(n=t.controller())?(n.expectedQueryCBId=null,n.view.hide(e,n.getOpt("displayTimeout"))):void 0}}(this)).on("click.atwhoInner",function(t){return function(e){return t.dispatch(e)}}(this)).on("scroll.atwhoInner",function(t){return function(){var e;return e=t.$inputor.scrollTop(),function(n){var i,r;return i=n.target.scrollTop,e!==i&&null!=(r=t.controller())&&r.view.hide(n),e=i,!0}}}(this)())},t.prototype.shutdown=function(){var t,e,n;n=this.controllers;for(t in n)e=n[t],e.destroy(),delete this.controllers[t];return this.$inputor.off(".atwhoInner"),this.$el.remove()},t.prototype.dispatch=function(t){var e,n,i,r;i=this.controllers,r=[];for(e in i)n=i[e],r.push(n.lookUp(t));return r},t.prototype.onKeyup=function(t){var n;switch(t.keyCode){case a.ESC:t.preventDefault(),null!=(n=this.controller())&&n.view.hide();break;case a.DOWN:case a.UP:case a.CTRL:e.noop();break;case a.P:case a.N:t.ctrlKey||this.dispatch(t);break;default:this.dispatch(t)}},t.prototype.onKeydown=function(t){var n,i;if(i=null!=(n=this.controller())?n.view:void 0,i&&i.visible())switch(t.keyCode){case a.ESC:t.preventDefault(),i.hide(t);break;case a.UP:t.preventDefault(),i.prev();break;case a.DOWN:t.preventDefault(),i.next();break;case a.P:if(!t.ctrlKey)return;t.preventDefault(),i.prev();break;case a.N:if(!t.ctrlKey)return;t.preventDefault(),i.next();break;case a.TAB:case a.ENTER:case a.SPACE:if(!i.visible())return;if(!this.controller().getOpt("spaceSelectsMatch")&&t.keyCode===a.SPACE)return;if(!this.controller().getOpt("tabSelectsMatch")&&t.keyCode===a.TAB)return;i.highlighted()?(t.preventDefault(),i.choose(t)):i.hide(t);break;default:e.noop()}},t}(),r=function(){function t(t,n){this.app=t,this.at=n,this.$inputor=this.app.$inputor,this.id=this.$inputor[0].id||this.uid(),this.expectedQueryCBId=null,this.setting=null,this.query=null,this.pos=0,this.range=null,0===(this.$el=e("#atwho-ground-"+this.id,this.app.$el)).length&&this.app.$el.append(this.$el=e("<div id='atwho-ground-"+this.id+"'></div>")),this.model=new l(this),this.view=new u(this)}return t.prototype.uid=function(){return(Math.random().toString(16)+"000000000").substr(2,8)+(new Date).getTime()},t.prototype.init=function(t){return this.setting=e.extend({},this.setting||e.fn.atwho["default"],t),this.view.init(),this.model.reload(this.setting.data)},t.prototype.destroy=function(){return this.trigger("beforeDestroy"),this.model.destroy(),this.view.destroy(),this.$el.remove()},t.prototype.callDefault=function(){var t,n,i;i=arguments[0],t=2<=arguments.length?h.call(arguments,1):[];try{return s[i].apply(this,t)}catch(r){return n=r,e.error(n+" Or maybe At.js doesn't have function "+i)}},t.prototype.trigger=function(t,e){var n,i;return null==e&&(e=[]),e.push(this),n=this.getOpt("alias"),i=n?t+"-"+n+".atwho":t+".atwho",this.$inputor.trigger(i,e)},t.prototype.callbacks=function(t){return this.getOpt("callbacks")[t]||s[t]},t.prototype.getOpt=function(t){var e;try{return this.setting[t]}catch(n){return e=n,null}},t.prototype.insertContentFor=function(t){var n,i;return i=this.getOpt("insertTpl"),n=e.extend({},t.data("item-data"),{"atwho-at":this.at}),this.callbacks("tplEval").call(this,i,n,"onInsert")},t.prototype.renderView=function(t){var e;return e=this.getOpt("searchKey"),t=this.callbacks("sorter").call(this,this.query.text,t.slice(0,1001),e),this.view.render(t.slice(0,this.getOpt("limit")))},t.arrayToDefaultHash=function(t){var n,i,r,s;if(!e.isArray(t))return t;for(s=[],n=0,r=t.length;r>n;n++)i=t[n],e.isPlainObject(i)?s.push(i):s.push({name:i});return s},t.prototype.lookUp=function(t){var e,n;return(e=this.catchQuery(t))?(this.app.setContextFor(this.at),(n=this.getOpt("delay"))?this._delayLookUp(e,n):this._lookUp(e),e):(this.expectedQueryCBId=null,e)},t.prototype._delayLookUp=function(t,e){var n,i;return n=Date.now?Date.now():(new Date).getTime(),this.previousCallTime||(this.previousCallTime=n),i=e-(n-this.previousCallTime),i>0&&e>i?(this.previousCallTime=n,this._stopDelayedCall(),this.delayedCallTimeout=setTimeout(function(e){return function(){return e.previousCallTime=0,e.delayedCallTimeout=null,e._lookUp(t)}}(this),e)):(this._stopDelayedCall(),this.previousCallTime!==n&&(this.previousCallTime=0),this._lookUp(t))},t.prototype._stopDelayedCall=function(){return this.delayedCallTimeout?(clearTimeout(this.delayedCallTimeout),this.delayedCallTimeout=null):void 0},t.prototype._generateQueryCBId=function(){return{}},t.prototype._lookUp=function(t){var n;return n=function(t,e){return t===this.expectedQueryCBId?e&&e.length>0?this.renderView(this.constructor.arrayToDefaultHash(e)):this.view.hide():void 0},this.expectedQueryCBId=this._generateQueryCBId(),this.model.query(t.text,e.proxy(n,this,this.expectedQueryCBId))},t}(),c=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return p(n,t),n.prototype.catchQuery=function(){var t,e,n,i,r,s;return e=this.$inputor.val(),t=this.$inputor.caret("pos",{iframe:this.app.iframe}),s=e.slice(0,t),i=this.callbacks("matcher").call(this,this.at,s,this.getOpt("startWithSpace")),"string"==typeof i&&i.length<=this.getOpt("maxLen",20)?(r=t-i.length,n=r+i.length,this.pos=r,i={text:i,headPos:r,endPos:n},this.trigger("matched",[this.at,i.text])):(i=null,this.view.hide()),this.query=i},n.prototype.rect=function(){var t,n,i;if(t=this.$inputor.caret("offset",this.pos-1,{iframe:this.app.iframe}))return this.app.iframe&&!this.app.iframeAsRoot&&(n=e(this.app.iframe).offset(),t.left+=n.left,t.top+=n.top),i=this.app.document.selection?0:2,{left:t.left,top:t.top,bottom:t.top+t.height+i}},n.prototype.insert=function(t){var e,n,i,r,s;return e=this.$inputor,n=e.val(),i=n.slice(0,Math.max(this.query.headPos-this.at.length,0)),r=""===(r=this.getOpt("suffix"))?r:r||" ",t+=r,s=""+i+t+n.slice(this.query.endPos||0),e.val(s),e.caret("pos",i.length+t.length,{iframe:this.app.iframe}),e.is(":focus")||e.focus(),e.change()},n}(r),o=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return p(n,t),n.prototype._getRange=function(){var t;return t=this.app.window.getSelection(),t.rangeCount>0?t.getRangeAt(0):void 0},n.prototype._setRange=function(t,n,i){return null==i&&(i=this._getRange()),i?(n=e(n)[0],"after"===t?(i.setEndAfter(n),i.setStartAfter(n)):(i.setEndBefore(n),i.setStartBefore(n)),i.collapse(!1),this._clearRange(i)):void 0},n.prototype._clearRange=function(t){var e;return null==t&&(t=this._getRange()),e=this.app.window.getSelection(),null==this.ctrl_a_pressed?(e.removeAllRanges(),e.addRange(t)):void 0},n.prototype._movingEvent=function(t){var e;return"click"===t.type||(e=t.which)===a.RIGHT||e===a.LEFT||e===a.UP||e===a.DOWN},n.prototype._unwrap=function(t){var n;return t=e(t).unwrap().get(0),(n=t.nextSibling)&&n.nodeValue&&(t.nodeValue+=n.nodeValue,e(n).remove()),t},n.prototype.catchQuery=function(t){var n,i,r,s,o,l,c,u,h,p;if(!this.app.isComposing&&(p=this._getRange())){if(t.which===a.CTRL?this.ctrl_pressed=!0:t.which===a.A?null==this.ctrl_pressed&&(this.ctrl_a_pressed=!0):(delete this.ctrl_a_pressed,delete this.ctrl_pressed),t.which===a.ENTER)return(i=e(p.startContainer).closest(".atwho-query")).contents().unwrap(),i.is(":empty")&&i.remove(),(i=e(".atwho-query",this.app.document)).text(i.text()).contents().last().unwrap(),this._clearRange(),void 0;if(/firefox/i.test(navigator.userAgent)){if(e(p.startContainer).is(this.$inputor))return this._clearRange(),void 0;t.which===a.BACKSPACE&&p.startContainer.nodeType===document.ELEMENT_NODE&&(u=p.startOffset-1)>=0?(r=p.cloneRange(),r.setStart(p.startContainer,u),e(r.cloneContents()).contents().last().is(".atwho-inserted")&&(o=e(p.startContainer).contents().get(u),this._setRange("after",e(o).contents().last()))):t.which===a.LEFT&&p.startContainer.nodeType===document.TEXT_NODE&&(n=e(p.startContainer.previousSibling),n.is(".atwho-inserted")&&0===p.startOffset&&this._setRange("after",n.contents().last()))}return e(p.startContainer).closest(".atwho-inserted").addClass("atwho-query").siblings().removeClass("atwho-query"),(i=e(".atwho-query",this.app.document)).length>0&&i.is(":empty")&&0===i.text().length&&i.remove(),this._movingEvent(t)||i.removeClass("atwho-inserted"),r=p.cloneRange(),r.setStart(p.startContainer,0),c=this.callbacks("matcher").call(this,this.at,r.toString(),this.getOpt("startWithSpace")),0===i.length&&"string"==typeof c&&(s=p.startOffset-this.at.length-c.length)>=0&&(p.setStart(p.startContainer,s),i=e("<span/>",this.app.document).attr(this.getOpt("editableAtwhoQueryAttrs")).addClass("atwho-query"),p.surroundContents(i.get(0)),l=i.contents().last().get(0),/firefox/i.test(navigator.userAgent)?(p.setStart(l,l.length),p.setEnd(l,l.length),this._clearRange(p)):this._setRange("after",l,p)),"string"==typeof c&&c.length<=this.getOpt("maxLen",20)?(h={text:c,el:i},this.trigger("matched",[this.at,h.text]),this.query=h):(this.view.hide(),this.query={el:i},i.text().indexOf(this.at)>=0&&(this._movingEvent(t)&&i.hasClass("atwho-inserted")?i.removeClass("atwho-query"):!1!==this.callbacks("afterMatchFailed").call(this,this.at,i)&&this._setRange("after",this._unwrap(i.text(i.text()).contents().first()))),null)}},n.prototype.rect=function(){var t,n,i;return i=this.query.el.offset(),this.app.iframe&&!this.app.iframeAsRoot&&(n=(t=e(this.app.iframe)).offset(),i.left+=n.left-this.$inputor.scrollLeft(),i.top+=n.top-this.$inputor.scrollTop()),i.bottom=i.top+this.query.el.height(),i},n.prototype.insert=function(t){var e,n,i;return n=""===(n=this.getOpt("suffix"))?n:n||" ",this.query.el.removeClass("atwho-query").addClass("atwho-inserted").html(t),(e=this._getRange())&&(e.setEndAfter(this.query.el[0]),e.collapse(!1),e.insertNode(i=this.app.document.createTextNode(n)),this._setRange("after",i,e)),this.$inputor.is(":focus")||this.$inputor.focus(),this.$inputor.change()},n}(r),l=function(){function t(t){this.context=t,this.at=this.context.at,this.storage=this.context.$inputor}return t.prototype.destroy=function(){return this.storage.data(this.at,null)},t.prototype.saved=function(){return this.fetch()>0},t.prototype.query=function(t,e){var n,i,r;return i=this.fetch(),r=this.context.getOpt("searchKey"),i=this.context.callbacks("filter").call(this.context,t,i,r)||[],n=this.context.callbacks("remoteFilter"),i.length>0||!n&&0===i.length?e(i):n.call(this.context,t,e)},t.prototype.fetch=function(){return this.storage.data(this.at)||[]},t.prototype.save=function(t){return this.storage.data(this.at,this.context.callbacks("beforeSave").call(this.context,t||[]))},t.prototype.load=function(t){return!this.saved()&&t?this._load(t):void 0},t.prototype.reload=function(t){return this._load(t)},t.prototype._load=function(t){return"string"==typeof t?e.ajax(t,{dataType:"json"}).done(function(t){return function(e){return t.save(e)}}(this)):this.save(t)},t}(),u=function(){function t(t){this.context=t,this.$el=e("<div class='atwho-view'><ul class='atwho-view-ul'></ul></div>"),this.timeoutID=null,this.context.$el.append(this.$el),this.bindEvent()}return t.prototype.init=function(){var t;return t=this.context.getOpt("alias")||this.context.at.charCodeAt(0),this.$el.attr({id:"at-view-"+t})},t.prototype.destroy=function(){return this.$el.remove()},t.prototype.bindEvent=function(){var t;return t=this.$el.find("ul"),t.on("mouseenter.atwho-view","li",function(n){return t.find(".cur").removeClass("cur"),e(n.currentTarget).addClass("cur")}).on("click.atwho-view","li",function(n){return function(i){return t.find(".cur").removeClass("cur"),e(i.currentTarget).addClass("cur"),n.choose(i),i.preventDefault()}}(this))},t.prototype.visible=function(){return this.$el.is(":visible")},t.prototype.highlighted=function(){return this.$el.find(".cur").length>0},t.prototype.choose=function(t){var e,n;return(e=this.$el.find(".cur")).length&&(n=this.context.insertContentFor(e),this.context.insert(this.context.callbacks("beforeInsert").call(this.context,n,e),e),this.context.trigger("inserted",[e,t]),this.hide(t)),this.context.getOpt("hideWithoutSuffix")?this.stopShowing=!0:void 0},t.prototype.reposition=function(t){var n,i,r,s;return n=this.context.app.iframeAsRoot?this.context.app.window:window,t.bottom+this.$el.height()-e(n).scrollTop()>e(n).height()&&(t.bottom=t.top-this.$el.height()),t.left>(r=e(n).width()-this.$el.width()-5)&&(t.left=r),i={left:t.left,top:t.bottom},null!=(s=this.context.callbacks("beforeReposition"))&&s.call(this.context,i),this.$el.offset(i),this.context.trigger("reposition",[i])},t.prototype.next=function(){var t,e;return t=this.$el.find(".cur").removeClass("cur"),e=t.next(),e.length||(e=this.$el.find("li:first")),e.addClass("cur"),this.scrollTop(Math.max(0,t.innerHeight()*(e.index()+2)-this.$el.height()))},t.prototype.prev=function(){var t,e;return t=this.$el.find(".cur").removeClass("cur"),e=t.prev(),e.length||(e=this.$el.find("li:last")),e.addClass("cur"),this.scrollTop(Math.max(0,t.innerHeight()*(e.index()+2)-this.$el.height()))},t.prototype.scrollTop=function(t){var e;return e=this.context.getOpt("scrollDuration"),e?this.$el.animate({scrollTop:t},e):this.$el.scrollTop(t)},t.prototype.show=function(){var t;return this.stopShowing?(this.stopShowing=!1,void 0):(this.visible()||(this.$el.show(),this.$el.scrollTop(0),this.context.trigger("shown")),(t=this.context.rect())?this.reposition(t):void 0)},t.prototype.hide=function(t,e){var n;if(this.visible())return isNaN(e)?(this.$el.hide(),this.context.trigger("hidden",[t])):(n=function(t){return function(){return t.hide()}}(this),clearTimeout(this.timeoutID),this.timeoutID=setTimeout(n,e))},t.prototype.render=function(t){var n,i,r,s,o,a,l;if(!(e.isArray(t)&&t.length>0))return this.hide(),void 0;for(this.$el.find("ul").empty(),i=this.$el.find("ul"),l=this.context.getOpt("displayTpl"),r=0,o=t.length;o>r;r++)s=t[r],s=e.extend({},s,{"atwho-at":this.context.at}),a=this.context.callbacks("tplEval").call(this.context,l,s,"onDisplay"),n=e(this.context.callbacks("highlighter").call(this.context,a,this.context.query.text)),n.data("item-data",s),i.append(n);return this.show(),this.context.getOpt("highlightFirst")?i.find("li:first").addClass("cur"):void 0},t}(),a={DOWN:40,UP:38,ESC:27,TAB:9,ENTER:13,CTRL:17,A:65,P:80,N:78,LEFT:37,UP:38,RIGHT:39,DOWN:40,BACKSPACE:8,SPACE:32},s={beforeSave:function(t){return r.arrayToDefaultHash(t)},matcher:function(t,e,n,i){var r,s,o,a,l;return t=t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"),n&&(t="(?:^|\\s)"+t),r=decodeURI("%C3%80"),s=decodeURI("%C3%BF"),l=i?" ":"",a=new RegExp(t+"([A-Za-z"+r+"-"+s+"0-9_"+l+".+-]*)$|"+t+"([^\\x00-\\xff]*)$","gi"),o=a.exec(e),o?o[2]||o[1]:null},filter:function(t,e,n){var i,r,s,o;for(i=[],r=0,o=e.length;o>r;r++)s=e[r],~new String(s[n]).toLowerCase().indexOf(t.toLowerCase())&&i.push(s);return i},remoteFilter:null,sorter:function(t,e,n){var i,r,s,o;if(!t)return e;for(i=[],r=0,o=e.length;o>r;r++)s=e[r],s.atwho_order=new String(s[n]).toLowerCase().indexOf(t.toLowerCase()),s.atwho_order>-1&&i.push(s);return i.sort(function(t,e){return t.atwho_order-e.atwho_order})},tplEval:function(t,e){var n,i;i=t;try{return"string"!=typeof t&&(i=t(e)),i.replace(/\$\{([^\}]*)\}/g,function(t,n){return e[n]})}catch(r){return n=r,""}},highlighter:function(t,e){var n;return e?(n=new RegExp(">\\s*(\\w*?)("+e.replace("+","\\+")+")(\\w*)\\s*<","ig"),t.replace(n,function(t,e,n,i){return"> "+e+"<strong>"+n+"</strong>"+i+" <"})):t},beforeInsert:function(t){return t},beforeReposition:function(t){return t},afterMatchFailed:function(){}},n={load:function(t,e){var n;return(n=this.controller(t))?n.model.load(e):void 0},isSelecting:function(){var t;return null!=(t=this.controller())?t.view.visible():void 0},hide:function(){var t;return null!=(t=this.controller())?t.view.hide():void 0},reposition:function(){var t;return(t=this.controller())?t.view.reposition(t.rect()):void 0},setIframe:function(t,e){return this.setupRootElement(t,e),null},run:function(){return this.dispatch()},destroy:function(){return this.shutdown(),this.$inputor.data("atwho",null)}},e.fn.atwho=function(t){var r,s;return r=arguments,s=null,this.filter('textarea, input, [contenteditable=""], [contenteditable=true]').each(function(){var o,a;return(a=(o=e(this)).data("atwho"))||o.data("atwho",a=new i(this)),"object"!=typeof t&&t?n[t]&&a?s=n[t].apply(a,Array.prototype.slice.call(r,1)):e.error("Method "+t+" does not exist on jQuery.atwho"):a.reg(t.at,t)}),null!=s?s:this},e.fn.atwho["default"]={at:void 0,alias:void 0,data:null,displayTpl:"<li>${name}</li>",insertTpl:"${atwho-at}${name}",callbacks:s,searchKey:"name",suffix:void 0,hideWithoutSuffix:!1,startWithSpace:!0,highlightFirst:!0,limit:5,maxLen:20,displayTimeout:300,delay:null,spaceSelectsMatch:!1,tabSelectsMatch:!0,editableAtwhoQueryAttrs:{},scrollDuration:150},e.fn.atwho.debug=!1}),function(t,e,n){function i(t){return t}function r(t){return decodeURIComponent(t.replace(s," "))}var s=/\+/g,o=t.cookie=function(s,a,l){if(a!==n){if(l=t.extend({},o.defaults,l),null===a&&(l.expires=-1),"number"==typeof l.expires){var c=l.expires,u=l.expires=new Date;u.setDate(u.getDate()+c)}return a=o.json?JSON.stringify(a):String(a),e.cookie=[encodeURIComponent(s),"=",o.raw?a:encodeURIComponent(a),l.expires?"; expires="+l.expires.toUTCString():"",l.path?"; path="+l.path:"",l.domain?"; domain="+l.domain:"",l.secure?"; secure":""].join("")}for(var h=o.raw?i:r,p=e.cookie.split("; "),d=0,f=p.length;f>d;d++){var m=p[d].split("=");if(h(m.shift())===s){var g=h(m.join("="));return o.json?JSON.parse(g):g}}return null};o.defaults={},t.removeCookie=function(e,n){return null!==t.cookie(e)?(t.cookie(e,null,n),!0):!1}}(jQuery,document),function(t){t.fn.characterCounter=function(e){function n(n){$input=t(n),$counter=t("<"+e.counterWrapper+' class="'+e.counterCssClass+'"></'+e.counterWrapper+">"),$input.after($counter),$input.data("counter",$counter)}function i(t){return e.counterFormat.replace(/%1/,t)}function r(n){var r=t(n),o=r.val().length,a=e.limit-o,l=s(r);0>a?(l.addClass(e.counterExceededCssClass),e.exceeded=!0,e.onExceed(o)):e.exceeded&&(l.removeClass(e.counterExceededCssClass),e.onDeceed(o),e.exceeded=!1),l.html(i(a))}function s(t){return t.data("counter")||t.next("."+e.counterCssClass)}function o(e){t(e).bind("keyup",function(){r(e)}).bind("paste",function(){var t=this;setTimeout(function(){r(t)},0)})}var a={exceeded:!1,limit:150,counterWrapper:"span",counterCssClass:"counter",counterFormat:"%1",counterExceededCssClass:"exceeded",onExceed:function(){},onDeceed:function(){}},e=t.extend(a,e);return this.each(function(){n(this),o(this),r(this)})}}(jQuery),function(){var t,e,n;n=function(n,i,r){var s,o;return null==r&&(r={}),null==n?n:n.length>i?(s=e(n,r),o=t(n,i-s.length,r),""+n.substring(0,o)+s):n},t=function(t,e,n){var i,r;return n.separator?(i=t.lastIndexOf(n.separator,e),r=i>0?i:e):e},e=function(t,e){var n,i,r;return r=e.omission||"…",e.separator&&e.extension&&(i=t.lastIndexOf(e.separator),n=i>0?t.substring(i):"",r+=n),r
},$.extend(!0,{truncate:n})}.call(this),function(){var t;null==(t=this.CP).IE&&(t.IE={})}.call(this),Function("/*@cc_on return /^10/.test(@_jscript_version) @*/")()&&$(document.body).removeClass("placeholder").addClass("no-placeholder"),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}(function(t){function e(){var e=n(this);return isNaN(e.datetime)||t(this).text(i(e.datetime)),this}function n(e){if(e=t(e),!e.data("timeago")){e.data("timeago",{datetime:s.datetime(e)});var n=t.trim(e.text());!(n.length>0)||s.isTime(e)&&e.attr("title")||e.attr("title",n)}return e.data("timeago")}function i(t){return s.inWords(r(t))}function r(t){return(new Date).getTime()-t.getTime()}t.timeago=function(e){return e instanceof Date?i(e):"string"==typeof e?i(t.timeago.parse(e)):"number"==typeof e?i(new Date(e)):i(t.timeago.datetime(e))};var s=t.timeago;t.extend(t.timeago,{settings:{refreshMillis:6e4,allowFuture:!1,strings:{prefixAgo:null,prefixFromNow:null,suffixAgo:"ago",suffixFromNow:"from now",seconds:"less than a minute",minute:"about a minute",minutes:"%d minutes",hour:"about an hour",hours:"about %d hours",day:"a day",days:"%d days",month:"about a month",months:"%d months",year:"about a year",years:"%d years",wordSeparator:" ",numbers:[]}},inWords:function(e){function n(n,r){var s=t.isFunction(n)?n(r,e):n,o=i.numbers&&i.numbers[r]||r;return s.replace(/%d/i,o)}var i=this.settings.strings,r=i.prefixAgo,s=i.suffixAgo;this.settings.allowFuture&&0>e&&(r=i.prefixFromNow,s=i.suffixFromNow);var o=Math.abs(e)/1e3,a=o/60,l=a/60,c=l/24,u=c/365,h=45>o&&n(i.seconds,Math.round(o))||90>o&&n(i.minute,1)||45>a&&n(i.minutes,Math.round(a))||90>a&&n(i.hour,1)||24>l&&n(i.hours,Math.round(l))||42>l&&n(i.day,1)||30>c&&n(i.days,Math.round(c))||45>c&&n(i.month,1)||365>c&&n(i.months,Math.round(c/30))||1.5>u&&n(i.year,1)||n(i.years,Math.round(u)),p=i.wordSeparator||"";return void 0===i.wordSeparator&&(p=" "),t.trim([r,h,s].join(p))},parse:function(e){var n=t.trim(e);return n=n.replace(/\.\d+/,""),n=n.replace(/-/,"/").replace(/-/,"/"),n=n.replace(/T/," ").replace(/Z/," UTC"),n=n.replace(/([\+\-]\d\d)\:?(\d\d)/," $1$2"),new Date(n)},datetime:function(e){var n=s.isTime(e)?t(e).attr("datetime"):t(e).attr("title");return s.parse(n)},isTime:function(e){return"time"===t(e).get(0).tagName.toLowerCase()}}),t.fn.timeago=function(){var t=this;t.each(e);var n=s.settings;return n.refreshMillis>0&&setInterval(function(){t.each(e)},n.refreshMillis),t},document.createElement("abbr"),document.createElement("time")}),function(){$.extend(!0,$.timeago,{settings:{strings:{minute:"1 minute"}}}),$.timeago.inWords=$.proxy(function(t){var e,n,i,r,s,o,a,l,c,u,h,p;return l=this.settings.strings,s=l.prefixAgo,u=l.suffixAgo,this.settings.allowFuture&&0>t&&(s=l.prefixFromNow,u=l.suffixFromNow),o=Math.abs(t)/1e3,i=Math.round(o/60),n=Math.round(i/60),e=Math.round(i/1440),r=Math.round(i/43200),p=e/365,c=function(e,n){var i,r;return i=$.isFunction(e)?e(n,t):e,r=l.numbers&&l.numbers[n]||n,i.replace(/%d/i,r)},h=1>i&&c(l.seconds,Math.round(o))||2>i&&c(l.minute,1)||45>i&&c(l.minutes,Math.round(i))||90>i&&c(l.hour,1)||24>n&&c(l.hours,Math.round(n))||42>n&&c(l.day,1)||60>e&&c(l.days,Math.round(e))||365>e&&c(l.months,r)||1.5>p&&c(l.year,1)||c(l.years,Math.round(p)),a=l.wordSeparator||"",void 0===l.wordSeparator&&(a=" "),$.trim([s,h,u].join(a))},$.timeago)}.call(this),function(){var t;t=function(){function t(t){this.$base=$(t),this.bindContentReady(),$.extend(!0,$.timeago.settings,{allowFuture:!0,strings:{suffixFromNow:null}})}return t.prototype.bindContentReady=function(){return this.$base.on("historic.contentReady",function(t){return function(){return t.timeago()}}(this))},t.prototype.contentReady=function(){return this.$base.trigger("historic.contentReady")},t.prototype.timeago=function(){return this.$base.find("time.timeago").timeago()},t.setup=function(t){var e;return e=new this(t),e.contentReady()},t}(),this.CP.Historic=t}.call(this),function(){var t,e=function(t,e){function i(){this.constructor=t}for(var r in e)n.call(e,r)&&(t[r]=e[r]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},n={}.hasOwnProperty;t=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype.timeago=function(){var t;return t=$.extend(!0,{},$.timeago.settings),$.extend(!0,$.timeago.settings,{allowFuture:!0,strings:{suffixFromNow:null}}),n.__super__.timeago.call(this),$.timeago.settings=t},n}(this.CP.Historic),this.CP.Home.ChallengeListing=t}.call(this),!function(t){"use strict";var e=function(){this.defined="undefined"!=typeof localStorage};e.prototype={constructor:e,get:function(t,e){return localStorage.getItem(t)?localStorage.getItem(t):"undefined"!=typeof e?e:null},has:function(t){return localStorage.getItem(t)?!0:!1},set:function(t,e,n){return"string"==typeof e&&(""===e?this.destroy(t):localStorage.setItem(t,e)),"function"==typeof n?n():!0},destroy:function(t,e){return localStorage.removeItem(t),"function"==typeof e?e():!0},clean:function(t){for(var e=localStorage.length-1;e>=0;e--)"undefined"==typeof Array.indexOf&&-1!==localStorage.key(e).indexOf("garlic:")&&localStorage.removeItem(localStorage.key(e));return"function"==typeof t?t():!0},clear:function(t){return localStorage.clear(),"function"==typeof t?t():!0}};var n=function(t,e,n){this.init("garlic",t,e,n)};n.prototype={constructor:n,init:function(e,n,i,r){this.type=e,this.$element=t(n),this.options=this.getOptions(r),this.storage=i,this.path=this.options.getPath(this.$element)||this.getPath(),this.parentForm=this.$element.closest("form"),this.$element.addClass("garlic-auto-save"),this.expiresFlag=this.options.expires?(this.$element.data("expires")?this.path:this.getPath(this.parentForm))+"_flag":!1,this.$element.on(this.options.events.join("."+this.type+" "),!1,t.proxy(this.persist,this)),this.options.destroy&&t(this.parentForm).on("submit reset",!1,t.proxy(this.destroy,this)),this.retrieve()},getOptions:function(e){return t.extend({},t.fn[this.type].defaults,e,this.$element.data())},persist:function(){this.val!==this.getVal()&&(this.val=this.getVal(),this.options.expires&&this.storage.set(this.expiresFlag,((new Date).getTime()+1e3*this.options.expires).toString()),this.storage.set(this.path,this.getVal()))},getVal:function(){return this.$element.is("input[type=checkbox]")?this.$element.prop("checked")?"checked":"unchecked":this.$element.val()},retrieve:function(){if(this.storage.has(this.path)){if(this.options.expires){var t=(new Date).getTime();if(this.storage.get(this.expiresFlag)<t.toString())return this.storage.destroy(this.path),void 0;this.$element.attr("expires-in",Math.floor((parseInt(this.storage.get(this.expiresFlag))-t)/1e3))}var e=this.storage.get(this.path);return this.options.conflictManager.enabled&&this.detectConflict()?this.conflictManager():this.$element.is("input[type=radio], input[type=checkbox]")?"checked"===e||this.$element.val()===e?this.$element.attr("checked",!0):("unchecked"===e&&this.$element.attr("checked",!1),void 0):(this.$element.val(e),this.options.onRetrieve(this.$element,e),void 0)}},detectConflict:function(){var e=this;if(this.$element.is("input[type=checkbox], input[type=radio]"))return!1;if(this.$element.val()&&this.storage.get(this.path)!==this.$element.val()){if(this.$element.is("select")){var n=!1;return this.$element.find("option").each(function(){return 0!==t(this).index()&&t(this).attr("selected")&&t(this).val()!==e.storage.get(this.path)?(n=!0,void 0):void 0}),n}return!0}return!1},conflictManager:function(){return"function"!=typeof this.options.conflictManager.onConflictDetected||this.options.conflictManager.onConflictDetected(this.$element,this.storage.get(this.path))?(this.options.conflictManager.garlicPriority?(this.$element.data("swap-data",this.$element.val()),this.$element.data("swap-state","garlic"),this.$element.val(this.storage.get(this.path))):(this.$element.data("swap-data",this.storage.get(this.path)),this.$element.data("swap-state","default")),this.swapHandler(),this.$element.addClass("garlic-conflict-detected"),this.$element.closest("input[type=submit]").attr("disabled",!0),void 0):!1},swapHandler:function(){var e=t(this.options.conflictManager.template);this.$element.after(e.text(this.options.conflictManager.message)),e.on("click",!1,t.proxy(this.swap,this))},swap:function(){var e=this.$element.data("swap-data");this.$element.data("swap-state","garlic"===this.$element.data("swap-state")?"default":"garlic"),this.$element.data("swap-data",this.$element.val()),t(this.$element).val(e)},destroy:function(){this.storage.destroy(this.path)},remove:function(){return this.remove(),this.$element.is("input[type=radio], input[type=checkbox]")?(t(this.$element).prop("checked",!1),void 0):(this.$element.val(""),void 0)},getPath:function(e){if("undefined"==typeof e&&(e=this.$element),this.options.getPath(e))return this.options.getPath(e);if(1!=e.length)return!1;for(var n="",i=e.is("input[type=checkbox]"),r=e;r.length;){var s=r[0],o=s.nodeName;if(!o)break;o=o.toLowerCase();var a=r.parent(),l=a.children(o);if(t(s).is("form, input, select, textarea")||i){if(o+=t(s).attr("name")?"."+t(s).attr("name"):"",l.length>1&&!t(s).is("input[type=radio]")&&(o+=":eq("+l.index(s)+")"),n=o+(n?">"+n:""),"form"==s.nodeName.toLowerCase())break;r=a}else r=a}return"garlic:"+document.domain+(this.options.domain?"*":window.location.pathname)+">"+n},getStorage:function(){return this.storage}},t.fn.garlic=function(i,r){function s(e){var r=t(e),s=r.data("garlic"),l=t.extend({},o,r.data());if(("undefined"==typeof l.storage||l.storage)&&"password"!==t(e).attr("type"))return s||r.data("garlic",s=new n(e,a,l)),"string"==typeof i&&"function"==typeof s[i]?s[i]():void 0}var o=t.extend(!0,{},t.fn.garlic.defaults,i,this.data()),a=new e,l=!1;return a.defined?(this.each(function(){t(this).is("form")?t(this).find(o.inputs).each(function(){l=s(t(this))}):t(this).is(o.inputs)&&(l=s(t(this)))}),"function"==typeof r?r():l):!1},t.fn.garlic.Constructor=n,t.fn.garlic.defaults={destroy:!0,inputs:"input, textarea, select",events:["DOMAttrModified","textInput","input","change","click","keypress","paste","focus"],domain:!1,expires:!1,conflictManager:{enabled:!1,garlicPriority:!0,template:'<span class="garlic-swap"></span>',message:"This is your saved data. Click here to see default one",onConflictDetected:function(){return!0}},getPath:function(){},onRetrieve:function(){}},t(window).on("load",function(){t('[data-persist="garlic"]').each(function(){t(this).garlic()})})}(window.jQuery||window.Zepto),function(){$.fn.autosize=function(){var t,e;return e=this.prop("offsetHeight")-this.prop("clientHeight"),t=this.outerHeight(),this.on("input",function(n){return function(){return n.css("height","auto").css({height:_.max([n.prop("scrollHeight")+e,t])})}}(this)).removeAttr("data-autoresize")}}.call(this),function(t,e){"object"==typeof exports?module.exports=e():"function"==typeof define&&define.amd?define(e):t.Spinner=e()}(this,function(){"use strict";function t(t,e){var n,i=document.createElement(t||"div");for(n in e)i[n]=e[n];return i}function e(t){for(var e=1,n=arguments.length;n>e;e++)t.appendChild(arguments[e]);return t}function n(t,e,n,i){var r=["opacity",e,~~(100*t),n,i].join("-"),s=.01+100*(n/i),o=Math.max(1-(1-t)/e*(100-s),t),a=c.substring(0,c.indexOf("Animation")).toLowerCase(),l=a&&"-"+a+"-"||"";return h[r]||(p.insertRule("@"+l+"keyframes "+r+"{"+"0%{opacity:"+o+"}"+s+"%{opacity:"+t+"}"+(s+.01)+"%{opacity:1}"+(s+e)%100+"%{opacity:"+t+"}"+"100%{opacity:"+o+"}"+"}",p.cssRules.length),h[r]=1),r}function i(t,e){var n,i,r=t.style;for(e=e.charAt(0).toUpperCase()+e.slice(1),i=0;i<u.length;i++)if(n=u[i]+e,void 0!==r[n])return n;return void 0!==r[e]?e:void 0}function r(t,e){for(var n in e)t.style[i(t,n)||n]=e[n];return t}function s(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)void 0===t[i]&&(t[i]=n[i])}return t}function o(t,e){return"string"==typeof t?t:t[e%t.length]}function a(t){this.opts=s(t||{},a.defaults,d)}function l(){function n(e,n){return t("<"+e+' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">',n)}p.addRule(".spin-vml","behavior:url(#default#VML)"),a.prototype.lines=function(t,i){function s(){return r(n("group",{coordsize:u+" "+u,coordorigin:-c+" "+-c}),{width:u,height:u})}function a(t,a,l){e(p,e(r(s(),{rotation:360/i.lines*t+"deg",left:~~a}),e(r(n("roundrect",{arcsize:i.corners}),{width:c,height:i.width,left:i.radius,top:-i.width>>1,filter:l}),n("fill",{color:o(i.color,t),opacity:i.opacity}),n("stroke",{opacity:0}))))}var l,c=i.length+i.width,u=2*c,h=2*-(i.width+i.length)+"px",p=r(s(),{position:"absolute",top:h,left:h});if(i.shadow)for(l=1;l<=i.lines;l++)a(l,-2,"progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)");for(l=1;l<=i.lines;l++)a(l);return e(t,p)},a.prototype.opacity=function(t,e,n,i){var r=t.firstChild;i=i.shadow&&i.lines||0,r&&e+i<r.childNodes.length&&(r=r.childNodes[e+i],r=r&&r.firstChild,r=r&&r.firstChild,r&&(r.opacity=n))}}var c,u=["webkit","Moz","ms","O"],h={},p=function(){var n=t("style",{type:"text/css"});return e(document.getElementsByTagName("head")[0],n),n.sheet||n.styleSheet}(),d={lines:12,length:7,width:5,radius:10,rotate:0,corners:1,color:"#000",direction:1,speed:1,trail:100,opacity:.25,fps:20,zIndex:2e9,className:"spinner",top:"50%",left:"50%",position:"absolute"};a.defaults={},s(a.prototype,{spin:function(e){this.stop();var n=this,i=n.opts,s=n.el=r(t(0,{className:i.className}),{position:i.position,width:0,zIndex:i.zIndex});if(i.radius+i.length+i.width,r(s,{left:i.left,top:i.top}),e&&e.insertBefore(s,e.firstChild||null),s.setAttribute("role","progressbar"),n.lines(s,n.opts),!c){var o,a=0,l=(i.lines-1)*(1-i.direction)/2,u=i.fps,h=u/i.speed,p=(1-i.opacity)/(h*i.trail/100),d=h/i.lines;!function f(){a++;for(var t=0;t<i.lines;t++)o=Math.max(1-(a+(i.lines-t)*d)%h*p,i.opacity),n.opacity(s,t*i.direction+l,o,i);n.timeout=n.el&&setTimeout(f,~~(1e3/u))}()}return n},stop:function(){var t=this.el;return t&&(clearTimeout(this.timeout),t.parentNode&&t.parentNode.removeChild(t),this.el=void 0),this},lines:function(i,s){function a(e,n){return r(t(),{position:"absolute",width:s.length+s.width+"px",height:s.width+"px",background:e,boxShadow:n,transformOrigin:"left",transform:"rotate("+~~(360/s.lines*u+s.rotate)+"deg) translate("+s.radius+"px"+",0)",borderRadius:(s.corners*s.width>>1)+"px"})}for(var l,u=0,h=(s.lines-1)*(1-s.direction)/2;u<s.lines;u++)l=r(t(),{position:"absolute",top:1+~(s.width/2)+"px",transform:s.hwaccel?"translate3d(0,0,0)":"",opacity:s.opacity,animation:c&&n(s.opacity,s.trail,h+u*s.direction,s.lines)+" "+1/s.speed+"s linear infinite"}),s.shadow&&e(l,r(a("#000","0 0 4px #000"),{top:"2px"})),e(i,e(l,a(o(s.color,u),"0 0 1px rgba(0,0,0,.1)")));return i},opacity:function(t,e,n){e<t.childNodes.length&&(t.childNodes[e].style.opacity=n)}});var f=r(t("group"),{behavior:"url(#default#VML)"});return!i(f,"transform")&&f.adj?l():c=i(f,"animation"),a});